<!-- Events inside the schedule chart -->
<div id="calendarSchedule">
    <table width="{{widthTable}}%" id="scheduleBackground">
    {% for row in schedule %}
    <tr>
        <td class="hours" width="{{widthHourColumn}}%">
            {{row.hour}}
            <button dojoType="dijit.form.Button" showLabel="false" iconClass="add" class="addButton"
            onClick="dojo.publish('Calendar2.openForm', [null, null, '{{date}}', '{{row.hour}}']);">
            </button> &nbsp;
        </td>
        {% ifequal row.even true %}
        <td class="emptyCellEven">
        </td>
        {% else %}
        <td class="emptyCellOdd">
        </td>
        {% endifequal %}
    </tr>
    {% endfor %}
    </table>
</div>
<div id="eventsArea" style="float: left; position: absolute;">
    {% for event in events %}
    <div id="{{eventsAttr.divIdPre}}{{event.order}}" class="eventsDivMain"
    style="position: absolute; overflow: hidden;
        {% ifequal event.shown true %}
        visibility: visible;
        {% else %}
        visibility: hidden;
        {% endifequal %}
        ">
    <!--
        The onclick is normally not handled here, but without resizing, the
        relevant parts will not be called.
    -->
        <div id="plainDiv{{event.order}}" class="eventsDivSecond"
        onclick="javascript: dojo.publish('Calendar2.setUrlHash', ['Calendar2', {{event.id}}]);"
        style="border-width: {{eventsAttr.borderWidth}}px; cursor: pointer;"></div>
    <!--
        Disable resizing
    -->
    <!--
        <div dojoType="phpr.Calendar2.ResizeHandle" resizeAxis="y" activeResize="true" targetId="plainDiv{{event.order}}"
    -->
        <div                                       resizeAxis="y" activeResize="true" targetId="plainDiv{{event.order}}"
        id="eventResize{{event.order}}"
        style="bottom: 0; width: 100%; position: absolute;"></div>
    </div>
    {% endfor %}
</div>

<!-- Events outside the schedule chart -->
{% if furtherEvents.show %}
<br />
    {{furtherEventsMessage}}:<br />
    {% for event in furtherEvents.events %}
{{event.time|safe}}:&nbsp;
<a href="javascript: dojo.publish('Calendar2.setUrlHash', ['Calendar2', {{event.id}}]);">{{event.summary|safe}}</a>
<br />
    {% endfor %}
{% endif %}
