//>>built
require({cache:{"url:phpr/template/bookingList/dayBlock.html":'<div class="dayBlock">\n    <div class="bookingBlockHeader" data-dojo-attach-point="header"\n        ><span data-dojo-attach-point="headerText" class="headerText"></span\n        ><span data-dojo-attach-point="total"></span\n        ><span class="helpTextClose">open</span\n        ><span class="helpTextOpen">closed</span\n        ></div>\n    <div data-dojo-attach-point="body, containerNode" class="bookingBlockBody"></div>\n</div>\n'}});
define("phpr/BookingList/DayBlock","dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-class,dojo/dom-style,dojo/on,dojo/date,dojo/date/locale,dojo/html,phpr/Timehelper,dijit/_WidgetBase,dijit/_TemplatedMixin,phpr/BookingList/BookingBlockWrapper,dojo/text!phpr/template/bookingList/dayBlock.html".split(","),function(g,h,b,a,i,j,d,k,f,e,l,m,n,o){return g([l,m],{day:null,bookings:null,open:!1,store:null,templateString:o,constructor:function(){this.day=new Date;this.bookings=[]},buildRendering:function(){this.inherited(arguments);
this.bookings.sort(function(c,a){var b=e.datetimeToJsDate(c.startDatetime).getTime(),d=e.datetimeToJsDate(a.startDatetime).getTime();return b>d});var c=this.open||!1;b.forEach(this.bookings,function(a){c=a.highlight||c;a=new n({booking:a,store:this.store});a.placeAt(this.body);this.own(a)},this);this._checkEmpty();f.set(this.headerText,k.format(this.day,{selector:"date",datePattern:"d EEEE"}));this._updateTotalTime();0===d.compare(new Date,this.day,"date")&&(a.add(this.header,"today"),c=!0);this.set("open",
c);j(this.header,"click",h.hitch(this,function(){a.toggle(this.domNode,"open")}))},_setOpenAttr:function(c){(this.open=c)?a.add(this.domNode,"open"):a.remove(this.domNode,"open")},_checkEmpty:function(){0===this.body.children.length?0===d.compare(new Date,this.day,"date")&&a.add(this.body,"empty"):a.remove(this.body,"empty")},_updateTotalTime:function(){var a=0,d=!1;b.forEach(this.bookings,function(b){b=parseInt(b.minutes,10);isNaN(b)?d=!0:a+=b});f.set(this.total,"Sum: "+e.minutesToHMString(a));i.set(this.total,
"color",d?"red":"")}})});