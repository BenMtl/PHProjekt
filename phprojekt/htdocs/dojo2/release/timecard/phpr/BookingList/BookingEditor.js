//>>built
require({cache:{"url:phpr/template/bookingList/bookingEditor.html":'<div class="bookingCreator">\n    <div data-dojo-attach-point="form" data-dojo-type="dijit/form/Form">\n        <table><tr><td class="bookingForm">\n            <select data-dojo-attach-point="project"\n                    name="project"\n                    data-dojo-type="phpr/ProjectChooser">\n            </select>\n            <input type="text"\n                   name="start"\n                   required="true"\n                   data-dojo-type="phpr/TimeBox"\n                   data-dojo-attach-point="start"\n                   data-dojo-props="placeholder: \'Start\'"\n                   class="time"/>\n            -\n            <input type="text"\n                   name="end"\n                   data-dojo-type="phpr/TimeBox"\n                   data-dojo-attach-point="end"\n                   data-dojo-props="placeholder: \'End\'"\n                   class="time"/>\n            <input type="text"\n                   name="date"\n                   data-dojo-type="phpr/DateTextBox"\n                   value="today"\n                   data-dojo-attach-point="date"\n                   class="date"/>\n            <button data-dojo-type="dijit/form/Button"\n                    type="submit"\n                    data-dojo-attach-point="button"\n                    class="button"></button>\n            <textarea name="notes"\n                      class="notes"\n                      data-dojo-type="dijit/form/Textarea"\n                      data-dojo-props="placeholder: \'Notes\'"\n                      data-dojo-attach-point="notes"></textarea>\n        </td><td class="editButtonCell">\n            <button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-point="confirmEditButton"\n                data-dojo-props="iconClass: \'editIcon\'"\n                data-dojo-attach-event="onClick:_submit" class="confirmEditButton">Save</button>\n        </td></tr></table>\n    </div>\n</div>\n'}});
define("phpr/BookingList/BookingEditor","dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/html,dojo/Evented,dojo/date,dojo/date/locale,dojo/dom-style,dojo/topic,dijit/_FocusMixin,phpr/BookingList/BookingCreator,phpr/Api,phpr/Timehelper,dojo/text!phpr/template/bookingList/bookingEditor.html".split(","),function(a,c,j,k,e,l,m,n,d,f,g,h,o,i){return a([g,e,f],{booking:null,baseClass:"bookingEditor",templateString:i,constructor:function(){this.booking={}},startup:function(){this.inherited(arguments);this.start.focus()},
_cancel:function(){this.emit("editCancel")},_showErrorInWarningIcon:h.errorHandlerForTag("bookingEditor"),_submit:function(){if(this.form.validate()){var a=this.form.get("value"),b=this._prepareDataForSend(c.mixin({},this.booking,a));b&&this.store.put(b).then(function(){d.publish("notification/clear","bookingEditor");d.publish("timecard/bookingEdited",b)},c.hitch(this,function(a){try{var b=json.parse(a.responseText,!0);b.message&&b.message.match(/entry.*overlaps.*existing/)?this._markOverlapError():
this._showErrorInWarningIcon(a)}catch(c){this._showErrorInWarningIcon(a)}}))}return!1},_onBlur:function(){this._cancel()}})});