//>>built
define("phpr/Api","exports,dojo/_base/lang,dojo/_base/array,dojo/request/xhr,dojo/Deferred,dojo/json,dojo/topic,phpr/models/Project".split(","),function(b,i,d,j,g,h,k,l){d=function(){var c={};return{get:function(a){return c.hasOwnProperty(a)?c[a]:null},set:function(a,b){a&&(c[a]=b)}}}();b.config=d;b.getData=function(c,a){var b=i.mixin({handleAs:"json",headers:{"X-CSRFToken":this.config.get("csrfToken")}},a||{});return j.get(c,b)};b.projectTitleForId=function(c){var a=null,e=new g;l.getProjects().then(function(c){a=
{};for(var b in c)a[b]=c[b].title;e.resolve(a);e=null});b.projectTitleForId=function(c){if(null===a)return e.then(function(a){return a[c]});var b=new g;b.resolve(a[c]);return b};return b.projectTitleForId(c)};b.getModulePermissions=function(c){return b.getData("index.php/Default/index/jsonGetModulesPermission/nodeId/"+c)};var f=function(c,a){k.publish("notification",{message:c},a)};b.errorHandlerForTag=function(c){return function(a){try{if(msg=h.parse(a,!0),msg.message)return f(msg.message,c)}catch(b){}try{if(a&&
a.response&&a.response.text&&(msg=h.parse(a.response.text,!0),msg.message))return f(msg.message,c)}catch(d){}return f(a,c)}};b.defaultErrorHandler=b.errorHandlerForTag(void 0)});