//>>built
define("phpr/Api","exports,dojo/_base/lang,dojo/_base/array,dojo/request/xhr,dojo/Deferred,dojo/json,dojo/topic".split(","),function(c,i,j,k,e,g,l){var h=function(){var b={};return{get:function(a){return b.hasOwnProperty(a)?b[a]:null},set:function(a,d){a&&(b[a]=d)}}}();c.config=h;c.getData=function(b,a){var d=i.mixin({handleAs:"json",headers:{"X-CSRFToken":this.config.get("csrfToken")}},a||{});return k.get(b,d)};c.isGlobalModule=function(b){var a=h.get("globalModules"),d;for(d in a)if(a[d].name==
b)return!0;return!1};c.projectTitleForId=function(){var b=null,a=new e;c.getData("index.php/Project/Project",{query:{projectId:1,recursive:!0}}).then(function(d){b={};j.forEach(d,function(a){b[a.id]=a.title});a.resolve(b);a=null});return function(d){if(1==d){var c=new e;c.resolve("Unassigned");return c}if(null===b)return a.then(function(a){return a[d]});c=new e;c.resolve(b[d]);return c}}();c.getModulePermissions=function(b){return c.getData("index.php/Default/index/jsonGetModulesPermission/nodeId/"+
b)};var f=function(b,a){l.publish("notification",{message:b},a)};c.errorHandlerForTag=function(b){return function(a){try{if(msg=g.parse(a,!0),msg.message)return f(msg.message,b)}catch(c){}try{if(a&&a.response&&a.response.text&&(msg=g.parse(a.response.text,!0),msg.message))return f(msg.message,b)}catch(e){}return f(a,b)}};c.defaultErrorHandler=c.errorHandlerForTag(void 0)});