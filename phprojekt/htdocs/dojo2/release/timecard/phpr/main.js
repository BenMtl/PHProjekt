//>>built
(function(f,j){var i,k,e=function(){},d=function(a){for(var g in a)return 0;return 1},h={}.toString,c=function(a){return"[object Function]"==h.call(a)},b=function(a){return"[object String]"==h.call(a)},a=function(a){return"[object Array]"==h.call(a)},g=function(a,g){if(a)for(var b=0;b<a.length;)g(a[b++])},l=function(a,g){for(var b in g)a[b]=g[b];return a},o=function(a,g){return l(Error(a),{src:"dojoLoader",info:g})},p=1,m=function(){return"_"+p++},n=function(a,g,b){return sa(a,g,b,0,n)},q=this,r=
q.document,t=r&&r.createElement("DiV"),s=n.has=function(a){return c(v[a])?v[a]=v[a](q,r,t):v[a]},v=s.cache=j.hasCache;s.add=function(a,g,b,c){(void 0===v[a]||c)&&(v[a]=g);return b&&s(a)};for(var u in f.has)s.add(u,f.has[u],0,1);n.async=1;var x=new Function("return eval(arguments[0]);");n.eval=function(a,g){return x(a+"\r\n////@ sourceURL="+g)};var y={},L=n.signal=function(b,c){var l=y[b];g(l&&l.slice(0),function(g){g.apply(null,a(c)?c:[c])})},D=n.on=function(a,g){var b=y[a]||(y[a]=[]);b.push(g);return{remove:function(){for(var a=
0;a<b.length;a++)if(b[a]===g){b.splice(a,1);break}}}},P=[],M={},U=[],R={},A=n.map={},z=[],w={},B="",G={},E={};u={};var J=function(a){var g,b,c,l;for(g in E)b=E[g],(c=g.match(/^url\:(.+)/))?G["url:"+ta(c[1],a)]=b:"*now"==g?l=b:"*noref"!=g&&(c=$(g,a),G[c.mid]=G["url:"+c.url]=b);l&&l(ga(a));E={}},F=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},N=function(a,g){g.splice(0,g.length);for(var b in a)g.push([b,a[b],RegExp("^"+F(b)+"(/|$)"),b.length]);g.sort(function(a,
g){return g[3]-a[3]});return g},C=function(a){var g=a.name;g||(g=a,a={name:g});a=l({main:"main"},a);a.location=a.location?a.location:g;if(a.packageMap)A[g]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);R[g]=a},K=[],Q=function(a,c,e){for(var d in a){if("waitSeconds"==d)n.waitms=1E3*(a[d]||0);"cacheBust"==d&&(B=a[d]?b(a[d])?a[d]:(new Date).getTime()+"":"");if("baseUrl"==d||"combo"==d)n[d]=a[d];a[d]!==v&&(n.rawConfig[d]=a[d],"has"!=d&&s.add("config-"+d,a[d],0,c))}if(!n.baseUrl)n.baseUrl=
"./";/\/$/.test(n.baseUrl)||(n.baseUrl+="/");for(d in a.has)s.add(d,a.has[d],0,c);g(a.packages,C);for(k in a.packagePaths)g(a.packagePaths[k],function(a){var g=k+"/"+a;b(a)&&(a={name:a});a.location=g;C(a)});N(l(A,a.map),z);g(z,function(a){a[1]=N(a[1],[]);if("*"==a[0])z.star=a[1]});N(l(M,a.paths),U);g(a.aliases,function(a){b(a[0])&&(a[0]=RegExp("^"+F(a[0])+"$"));P.push(a)});if(c)K.push({config:a.config});else for(d in a.config)c=X(d,e),c.config=l(c.config||{},a.config[d]);if(a.cache)J(),E=a.cache,
a.cache["*noref"]&&J();L("config",[a,n.rawConfig])};if(s("dojo-cdn")){var H=r.getElementsByTagName("script");i=0;for(var I,O,S,Y;i<H.length;)if(I=H[i++],(S=I.getAttribute("src"))&&(Y=S.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){O=Y[3]||"";j.baseUrl=j.baseUrl||O;(S=I.getAttribute("data-dojo-config")||I.getAttribute("djConfig"))&&(u=n.eval("({ "+S+" })","data-dojo-config"));break}}n.rawConfig={};Q(j,1);if(s("dojo-cdn"))(R.dojo.location=O)&&(O+="/"),R.dijit.location=O+"../dijit/",R.dojox.location=O+"../dojox/";
Q(f,1);Q(u,1);var W=function(a){ha(function(){g(a.deps,ua)})},sa=function(g,c,d,h,k){var f;if(b(g)){if((f=X(g,h,!0))&&f.executed)return f.result;throw o("undefinedModule",g);}a(g)||(Q(g,0,h),g=c,c=d);if(a(g))if(g.length){for(var d="require*"+m(),q,p=[],i=0;i<g.length;)q=g[i++],p.push(X(q,h));f=l(aa("",d,0,""),{injected:2,deps:p,def:c||e,require:h?h.require:n,gc:1});w[f.mid]=f;W(f);var r=Z&&0!="sync";ha(function(){ia(f,r)});f.executed||V.push(f);ba()}else c&&c();return k},ga=function(a){if(!a)return n;
var g=a.require;if(!g)g=function(b,c,l){return sa(b,c,l,a,g)},a.require=l(g,n),g.module=a,g.toUrl=function(g){return ta(g,a)},g.toAbsMid=function(g){return ja(g,a)};return g},V=[],ca=[],T={},Ea=function(a){a.injected=1;T[a.mid]=1;a.url&&(T[a.url]=a.pack||1);Da()},da=function(a){a.injected=2;delete T[a.mid];a.url&&delete T[a.url];d(T)&&Fa()},Ga=n.idle=function(){return!ca.length&&d(T)&&!V.length&&!Z},ka=function(a,g){if(g)for(var b=0;b<g.length;b++)if(g[b][2].test(a))return g[b];return 0},va=function(a){for(var g=
[],b,c,a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&g.length&&".."!=c?(g.pop(),c=g[g.length-1]):"."!=b&&g.push(c=b);return g.join("/")},aa=function(a,g,b,c){return{pid:a,mid:g,pack:b,url:c,executed:0,def:0}},wa=function(a,b,l,d,e,h,k,f){var q,n,m,p;p=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||p&&!b)return aa(0,a,0,a);a=va(p?b.mid+"/../"+a:a);if(/^\./.test(a))throw o("irrationalPath",a);b&&(m=ka(b.mid,h));(m=(m=m||h.star)&&ka(a,m[1]))&&(a=m[1]+a.substring(m[3]));b=(Y=a.match(/^([^\/]+)(\/(.+))?$/))?
Y[1]:"";(q=l[b])?a=b+"/"+(n=Y[3]||q.main):b="";var i=0;g(P,function(g){var b=a.match(g[0]);b&&0<b.length&&(i=c(g[1])?a.replace(g[0],g[1]):g[1])});if(i)return wa(i,0,l,d,e,h,k,f);if(l=d[a])return f?aa(l.pid,l.mid,l.pack,l.url):d[a];d=(m=ka(a,k))?m[1]+a.substring(m[3]):b?q.location+"/"+n:a;/(^\/)|(\:)/.test(d)||(d=e+d);return aa(b,a,q,va(d+".js"))},$=function(a,g){return wa(a,g,R,w,n.baseUrl,z,U)},xa=function(a,g,b){return a.normalize?a.normalize(g,function(a){return ja(a,b)}):ja(g,b)},ya=0,X=function(a,
g,b){var c,l;(c=a.match(/^(.+?)\!(.*)$/))?(l=X(c[1],g,b),5===l.executed&&!l.load&&la(l),l.load?(c=xa(l,c[2],g),a=l.mid+"!"+(l.dynamic?++ya+"!":"")+c):(c=c[2],a=l.mid+"!"+ ++ya+"!waitingForPlugin"),a={plugin:l,mid:a,req:ga(g),prid:c}):a=$(a,g);return w[a.mid]||!b&&(w[a.mid]=a)},ja=n.toAbsMid=function(a,g){return $(a,g).mid},ta=n.toUrl=function(a,g){var b=$(a+"/x",g),c=b.url;return za(0===b.pid?a:c.substring(0,c.length-5))},Aa={injected:2,executed:5,def:3,result:3};O=function(a){return w[a]=l({mid:a},
Aa)};var Ha=O("require"),Ia=O("exports"),Ja=O("module"),ea={},ma=0,la=function(a){var g=a.result;a.dynamic=g.dynamic;a.normalize=g.normalize;a.load=g.load;return a},Ka=function(a){var b={};g(a.loadQ,function(g){var c=xa(a,g.prid,g.req.module),d=a.dynamic?g.mid.replace(/waitingForPlugin$/,c):a.mid+"!"+c,c=l(l({},g),{mid:d,prid:c,injected:0});w[d]||Ba(w[d]=c);b[g.mid]=w[d];da(g);delete w[g.mid]});a.loadQ=0;var c=function(a){for(var g=a.deps||[],c=0;c<g.length;c++)(a=b[g[c].mid])&&(g[c]=a)},d;for(d in w)c(w[d]);
g(V,c)},na=function(a){n.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ma++;a.loadQ&&(la(a),Ka(a));for(i=0;i<V.length;)V[i]===a?V.splice(i,1):i++;/^require\*/.test(a.mid)&&delete w[a.mid]},La=[],ia=function(a,g){if(4===a.executed)return n.trace("loader-circular-dependency",[La.concat(a.mid).join("->")]),!a.def||g?ea:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ea;var b=a.mid,l=a.deps||[],d,e=[],h=0;for(a.executed=4;h<l.length;){d=l[h++];d=d===Ha?ga(a):d===Ia?a.cjs.exports:d===
Ja?a.cjs:ia(d,g);if(d===ea)return a.executed=0,n.trace("loader-exec-module",["abort",b]),ea;e.push(d)}n.trace("loader-run-factory",[a.mid]);b=a.def;e=c(b)?b.apply(null,e):b;a.result=void 0===e&&a.cjs?a.cjs.exports:e;na(a)}return a.result},Z=0,ha=function(a){try{Z++,a()}finally{Z--}Ga()&&L("idle",[])},ba=function(){Z||ha(function(){for(var a,g,b=0;b<V.length;)a=ma,g=V[b],ia(g),a!=ma?b=0:b++})};void 0===s("dojo-loader-eval-hint-url")&&s.add("dojo-loader-eval-hint-url",1);var za=function(a){a+="";return a+
(B?(/\?/.test(a)?"&":"?")+B:"")},Ba=function(a){var g=a.plugin;5===g.executed&&!g.load&&la(g);var b=function(g){a.result=g;da(a);na(a);ba()};g.load?g.load(a.prid,a.req,b):g.loadQ?g.loadQ.push(a):(g.loadQ=[a],V.unshift(g),ua(g))},fa=0,oa=0,pa=0,Ma=function(a,g){s("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));pa=1;a===fa?fa.call(null):n.eval(a,s("dojo-loader-eval-hint-url")?g.url:g.mid);pa=0},ua=function(a){var g=a.mid,b=a.url;if(!a.executed&&!a.injected&&!(T[g]||a.url&&(a.pack&&T[a.url]===
a.pack||1==T[a.url])))if(Ea(a),a.plugin)Ba(a);else{var c=function(){Na(a);2!==a.injected&&(da(a),l(a,Aa),n.trace("loader-define-nonmodule",[a.url]));ba()};(fa=G[g]||G["url:"+a.url])?(n.trace("loader-inject",["cache",a.mid,b]),Ma(fa,a),c()):(n.trace("loader-inject",["script",a.mid,b]),oa=a,n.injectUrl(za(b),c,a),oa=0)}},qa=function(a,g,b){n.trace("loader-define-module",[a.mid,g]);if(2===a.injected)return L("error",o("multipleDefine",a)),a;l(a,{deps:g,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(g){a.cjs.exports=g},config:function(){return a.config}}});for(var d=0;d<g.length;d++)g[d]=X(g[d],a);da(a);if(!c(b)&&!g.length)a.result=b,na(a);return a},Na=function(a,b){for(var c=[],l,d;ca.length;)d=ca.shift(),b&&(d[0]=b.shift()),l=d[0]&&X(d[0])||a,c.push([l,d[1],d[2]]);J(a);g(c,function(a){W(qa.apply(null,a))})},Fa=e,Da=e;s.add("ie-event-behavior",!!r.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ra=function(a,g,b,c){if(s("ie-event-behavior"))return a.attachEvent(b,
c),function(){a.detachEvent(b,c)};a.addEventListener(g,c,!1);return function(){a.removeEventListener(g,c,!1)}},Oa=ra(window,"load","onload",function(){n.pageLoaded=1;"complete"!=r.readyState&&(r.readyState="complete");Oa()}),Ca=r.getElementsByTagName("script")[0],Pa=Ca.parentNode;n.injectUrl=function(a,g,b){var b=b.node=r.createElement("script"),c=ra(b,"load","onreadystatechange",function(a){var a=a||window.event,b=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(b.readyState))c(),
l(),g&&g()}),l=ra(b,"error","onerror",function(g){c();l();L("error",o("scriptError",[a,g]))});b.type="text/javascript";b.charset="utf-8";b.src=a;Pa.insertBefore(b,Ca);return b};n.log=e;n.trace=e;O=function(a,g,l){var d=arguments.length,e=["require","exports","module"],h=[0,a,g];1==d?h=[0,c(a)?e:[],a]:2==d&&b(a)?h=[a,c(g)?e:[],g]:3==d&&(h=[a,g,l]);n.trace("loader-define",h.slice(0,2));if((d=h[0]&&X(h[0]))&&!T[d.mid])W(qa(d,h[1],h[2]));else if(!s("ie-event-behavior")||pa)ca.push(h);else{d=d||oa;if(!d)for(a in T)if((e=
w[a])&&e.node&&"interactive"===e.node.readyState){d=e;break}d?(J(d),W(qa(d,h[1],h[2]))):L("error",o("ieDefineFailed",h[0]));ba()}};O.amd={vendor:"dojotoolkit.org"};l(l(n,j.loaderPatch),f.loaderPatch);D("error",function(a){try{if(console.error(a),a instanceof Error)for(var g in a);}catch(b){}});l(n,{uid:m,cache:G,packs:R});if(!q.define)q.define=O,q.require=n,g(K,function(a){Q(a)}),D=u.deps||f.deps||j.deps,u=u.callback||f.callback||j.callback,n.boot=D||u?[D||[],u]:0})(this.dojoConfig||this.djConfig||
this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../phpr",main:"run",name:"phpr"}]});
require({cache:{"dojo/main":function(){define("dojo/main","./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,require,./_base/browser,require".split(","),function(f,j,i,k,e,d,h){h.isDebug&&i(["./_firebug/firebug"]);return f})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(f,j,i,k){var e,f={},d={},h={config:j,global:this,dijit:f,dojox:d},f={dojo:["dojo",
h],dijit:["dijit",f],dojox:["dojox",d]},k=i.map&&i.map[k.id.match(/[^\/]+/)[0]];for(e in k)f[e]?f[e][0]=k[e]:f[e]=[k[e],{}];for(e in f)k=f[e],k[1]._scopeName=k[0],j.noGlobals||(this[k[0]]=k[1]);h.scopeMap=f;h.baseUrl=h.config.baseUrl=i.baseUrl;h.isAsync=i.async;h.locale=j.locale;j="$Rev: 29801 $".match(/\d+/);h.version={major:1,minor:0,patch:0,flag:"",revision:j?+j[0]:NaN,toString:function(){var b=h.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(h);
h.exit=function(){};"undefined"!=typeof console||(console={});for(var i="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),c,j=0;c=i[j++];)console[c]||function(){var b=c+"";console[b]="log"in console?function(){var a=Array.apply({},arguments);a.unshift(b+":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();h.deprecated=h.experimental=function(){};h._hasResource={};return h})},"dojo/has":function(){define("dojo/has",["require",
"module"],function(f){var j=f.has||function(){};j.add("dom-addeventlistener",!!document.addEventListener);j.add("touch","ontouchstart"in document);j.add("device-width",screen.availWidth||innerWidth);f=document.createElement("form");j.add("dom-attributes-explicit",0==f.attributes.length);j.add("dom-attributes-specified-flag",0<f.attributes.length&&40>f.attributes.length);j.clearElement=function(f){f.innerHTML="";return f};j.normalize=function(f,k){var e=f.match(/[\?:]|[^:\?]*/g),d=0,h=function(c){var b=
e[d++];if(":"==b)return 0;if("?"==e[d++]){if(!c&&j(b))return h();h(!0);return h(c)}return b||0};return(f=h())&&k(f)};j.load=function(f,k,e){f?k([f],e):e()};return j})},"dojo/_base/config":function(){define(["../has","require"],function(f,j){var i={},k=j.rawConfig,e;for(e in k)i[e]=k[e];return i})},"dojo/sniff":function(){define(["./has"],function(f){var j=navigator,i=j.userAgent,j=j.appVersion,k=parseFloat(j);f.add("air",0<=i.indexOf("AdobeAIR"));f.add("khtml",0<=j.indexOf("Konqueror")?k:void 0);
f.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0);f.add("chrome",parseFloat(i.split("Chrome/")[1])||void 0);f.add("safari",0<=j.indexOf("Safari")&&!f("chrome")?parseFloat(j.split("Version/")[1]):void 0);f.add("mac",0<=j.indexOf("Macintosh"));f.add("quirks","BackCompat"==document.compatMode);f.add("ios",/iPhone|iPod|iPad/.test(i));f.add("android",parseFloat(i.split("Android ")[1])||void 0);if(!f("webkit")){0<=i.indexOf("Opera")&&f.add("opera",9.8<=k?parseFloat(i.split("Version/")[1])||k:k);
0<=i.indexOf("Gecko")&&!f("khtml")&&!f("webkit")&&f.add("mozilla",k);f("mozilla")&&f.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0);if(document.all&&!f("opera"))i=parseFloat(j.split("MSIE ")[1])||void 0,(j=document.documentMode)&&5!=j&&Math.floor(i)!=j&&(i=j),f.add("ie",i);f.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return f})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(f,j){j.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;
return 1});var i=j("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],k=i.length,e=function(a,g,b){var c,d=0,e=f.global;if(!b)if(a.length){c=a[d++];try{b=f.scopeMap[c]&&f.scopeMap[c][1]}catch(h){}b=b||(c in e?e[c]:g?e[c]={}:void 0)}else return e;for(;b&&(c=a[d++]);)b=c in b?b[c]:g?b[c]={}:void 0;return b},d=Object.prototype.toString,h=function(a,g,b){return(b||[]).concat(Array.prototype.slice.call(a,g||0))},c=
/\{([^\}]+)\}/g,b={_extraNames:i,_mixin:function(a,g,b){var c,d,e,h={};for(c in g)if(d=g[c],!(c in a)||a[c]!==d&&(!(c in h)||h[c]!==d))a[c]=b?b(d):d;if(j("bug-for-in-skips-shadowed")&&g)for(e=0;e<k;++e)if(c=i[e],d=g[c],!(c in a)||a[c]!==d&&(!(c in h)||h[c]!==d))a[c]=b?b(d):d;return a},mixin:function(a,g){a||(a={});for(var c=1,d=arguments.length;c<d;c++)b._mixin(a,arguments[c]);return a},setObject:function(a,g,b){var c=a.split("."),a=c.pop();return(b=e(c,!0,b))&&a?b[a]=g:void 0},getObject:function(a,
g,b){return e(a.split("."),g,b)},exists:function(a,g){return void 0!==b.getObject(a,!1,g)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===d.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||b.isArray(a)||b.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&
(b.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!b.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,g){for(var c=1,d=arguments.length;c<d;c++)b._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,g){var c=b._toArray(arguments,2),d=b.isString(g);return function(){var e=b._toArray(arguments),h=d?(a||f.global)[g]:g;return h&&h.apply(a||this,c.concat(e))}},hitch:function(a,g){if(2<arguments.length)return b._hitchArgs.apply(f,arguments);g||(g=a,a=
null);if(b.isString(g)){a=a||f.global;if(!a[g])throw['lang.hitch: scope["',g,'"] is null (scope="',a,'")'].join("");return function(){return a[g].apply(a,arguments||[])}}return!a?g:function(){return g.apply(a,arguments||[])}},delegate:function(){function a(){}return function(g,c){a.prototype=g;var d=new a;a.prototype=null;c&&b._mixin(d,c);return d}}(),_toArray:j("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(g){return(g.item?a:h).apply(this,
arguments)}}():h,partial:function(a){return b.hitch.apply(f,[null].concat(b._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||b.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var g,c,d;if(b.isArray(a)){g=[];for(c=0,d=a.length;c<d;++c)c in a&&g.push(b.clone(a[c]))}else g=a.constructor?new a.constructor:{};return b._mixin(g,a,b.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,g,d){return a.replace(d||c,b.isFunction(g)?g:function(a,c){return b.getObject(c,!1,g)})}};b.mixin(f,b);return b})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(f,j,i){function k(a){return h[a]=new Function("item","index","array",a)}function e(a){var g=!a;return function(b,c,d){var e=0,f=b&&b.length||0,q;f&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&
(c=h[c]||k(c));if(d)for(;e<f;++e){if(q=!c.call(d,b[e],e,b),a^q)return!q}else for(;e<f;++e)if(q=!c(b[e],e,b),a^q)return!q;return g}}function d(a){var g=1,d=0,e=0;a||(g=d=e=-1);return function(h,k,f,q){if(q&&0<g)return b.lastIndexOf(h,k,f);var q=h&&h.length||0,i=a?q+e:d;f===c?f=a?d:q+e:0>f?(f=q+f,0>f&&(f=d)):f=f>=q?q+e:f;for(q&&"string"==typeof h&&(h=h.split(""));f!=i;f+=g)if(h[f]==k)return f;return-1}}var h={},c,b={every:e(!1),some:e(!0),indexOf:d(!0),lastIndexOf:d(!1),forEach:function(a,g,b){var c=
0,d=a&&a.length||0;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof g&&(g=h[g]||k(g));if(b)for(;c<d;++c)g.call(b,a[c],c,a);else for(;c<d;++c)g(a[c],c,a)},map:function(a,g,b,c){var d=0,e=a&&a.length||0,c=new (c||Array)(e);e&&"string"==typeof a&&(a=a.split(""));"string"==typeof g&&(g=h[g]||k(g));if(b)for(;d<e;++d)c[d]=g.call(b,a[d],d,a);else for(;d<e;++d)c[d]=g(a[d],d,a);return c},filter:function(a,g,b){var c=0,d=a&&a.length||0,e=[],f;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof g&&
(g=h[g]||k(g));if(b)for(;c<d;++c)f=a[c],g.call(b,f,c,a)&&e.push(f);else for(;c<d;++c)f=a[c],g(f,c,a)&&e.push(f);return e},clearCache:function(){h={}}};i.mixin(f,b);return b})},"dojo/ready":function(){define("dojo/ready",["./_base/kernel","./has","require","./domReady","./_base/lang"],function(f,j,i,k,e){var d=0,h,c=[],b=0,a=function(){if(d&&!b&&c.length){b=1;var g=c.shift();try{g()}finally{b=0}b=0;c.length&&h(a)}};i.on("idle",a);h=function(){i.idle()&&a()};var j=f.ready=f.addOnLoad=function(a,g,b){var d=
e._toArray(arguments);"number"!=typeof a?(b=g,g=a,a=1E3):d.shift();b=b?e.hitch.apply(f,d):function(){g()};b.priority=a;for(d=0;d<c.length&&a>=c[d].priority;d++);c.splice(d,0,b);h()},g=f.config.addOnLoad;if(g)j[e.isArray(g)?"apply":"call"](f,g);k(function(){d=1;f._postLoad=f.config.afterOnLoad=!0;c.length&&h(a)});return j})},"dojo/domReady":function(){define(["./has"],function(f){function j(a){h?a(k):c.push(a)}var i=this,k=document,e={loaded:1,complete:1},d="string"!=typeof k.readyState,h=!!e[k.readyState];
if(d)k.readyState="loading";if(!h){var c=[],b=[],a=function(a){a=a||i.event;if(!(h||"readystatechange"==a.type&&!e[k.readyState])){h=1;if(d)k.readyState="complete";for(;c.length;)c.shift()(k)}},g=function(g,b){g.addEventListener(b,a,!1);c.push(function(){g.removeEventListener(b,a,!1)})};if(!f("dom-addeventlistener")){var g=function(g,b){b="on"+b;g.attachEvent(b,a);c.push(function(){g.detachEvent(b,a)})},l=k.createElement("div");try{l.doScroll&&null===i.frameElement&&b.push(function(){try{return l.doScroll("left"),
1}catch(a){}})}catch(o){}}g(k,"DOMContentLoaded");g(i,"load");"onreadystatechange"in k?g(k,"readystatechange"):d||b.push(function(){return e[k.readyState]});if(b.length){var p=function(){if(!h){for(var g=b.length;g--;)if(b[g]()){a("poller");return}setTimeout(p,30)}};p()}}j.load=function(a,g,b){j(b)};return j})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(f,j,i){function k(a,g){throw Error("declare"+(g?" "+g:"")+": "+a);}function e(a,g,b){var c,d,e,l,h,f,q,o=this._inherited=
this._inherited||{};"string"==typeof a&&(c=a,a=g,g=b);b=0;l=a.callee;(c=c||l.nom)||k("can't deduce a name to call inherited()",this.declaredClass);h=this.constructor._meta;e=h.bases;q=o.p;if(c!=y){if(o.c!==l&&(q=0,f=e[0],h=f._meta,h.hidden[c]!==l)){(d=h.chains)&&"string"==typeof d[c]&&k("calling chained method with inherited: "+c,this.declaredClass);do if(h=f._meta,d=f.prototype,h&&(d[c]===l&&d.hasOwnProperty(c)||h.hidden[c]===l))break;while(f=e[++q]);q=f?q:-1}if(f=e[++q])if(d=f.prototype,f._meta&&
d.hasOwnProperty(c))b=d[c];else{l=s[c];do if(d=f.prototype,(b=d[c])&&(f._meta?d.hasOwnProperty(c):b!==l))break;while(f=e[++q])}b=f&&b||s[c]}else{if(o.c!==l&&(q=0,(h=e[0]._meta)&&h.ctor!==l)){d=h.chains;for((!d||"manual"!==d.constructor)&&k("calling chained constructor with inherited",this.declaredClass);(f=e[++q])&&!((h=f._meta)&&h.ctor===l););q=f?q:-1}for(;(f=e[++q])&&!(b=(h=f._meta)?h.ctor:f););b=f&&b}o.c=b;o.p=q;if(b)return!0===g?b:b.apply(this,g||a)}function d(a,g){return"string"==typeof a?this.__inherited(a,
g,!0):this.__inherited(a,!0)}function h(a,g,b){var c=this.getInherited(a,g);if(c)return c.apply(this,b||g||a)}function c(a){for(var g=this.constructor._meta.bases,b=0,c=g.length;b<c;++b)if(g[b]===a)return!0;return this instanceof a}function b(a,g){for(var b in g)b!=y&&g.hasOwnProperty(b)&&(a[b]=g[b]);if(j("bug-for-in-skips-shadowed"))for(var c=i._extraNames,d=c.length;d;)b=c[--d],b!=y&&g.hasOwnProperty(b)&&(a[b]=g[b])}function a(a){r.safeMixin(this.prototype,a);return this}function g(a){return r([this].concat(a))}
function l(a,g){return function(){var w;var b=arguments,c=b,d=b[0],e,l;l=a.length;var h;if(!(this instanceof b.callee))return q(b);if(g&&(d&&d.preamble||this.preamble)){h=Array(a.length);h[0]=b;for(e=0;;){if(d=b[0])(d=d.preamble)&&(b=d.apply(this,b)||b);d=a[e].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(b=d.apply(this,b)||b);if(++e==l)break;h[e]=b}}for(e=l-1;0<=e;--e)d=a[e],(w=(l=d._meta)?l.ctor:d,d=w)&&d.apply(this,h?h[e]:b);(d=this.postscript)&&d.apply(this,c)}}function o(a,b){return function(){var g=
arguments,c=g,d=g[0];if(!(this instanceof g.callee))return q(g);if(b){if(d)(d=d.preamble)&&(c=d.apply(this,c)||c);(d=this.preamble)&&d.apply(this,c)}a&&a.apply(this,g);(d=this.postscript)&&d.apply(this,g)}}function p(a){return function(){var w;var g=arguments,b=0,c,d;if(!(this instanceof g.callee))return q(g);for(;c=a[b];++b)if(w=(d=c._meta)?d.ctor:c,c=w){c.apply(this,g);break}(c=this.postscript)&&c.apply(this,g)}}function m(a,g,b){return function(){var c,d,e=0,l=1;b&&(e=g.length-1,l=-1);for(;c=g[e];e+=
l)d=c._meta,(c=(d?d.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function n(a){u.prototype=a.prototype;a=new u;u.prototype=null;return a}function q(a){var g=a.callee,b=n(g);g.apply(b,a);return b}function r(h,f,q){"string"!=typeof h&&(q=f,f=h,h="");var q=q||{},j,u,A,z,w,B,G,E=1,J=f;if("[object Array]"==v.call(f)){E=h;A=[];z=[{cls:0,refs:[]}];B={};for(var F=1,N=f.length,C=0,K,Q,H,I;C<N;++C){(K=f[C])?"[object Function]"!=v.call(K)&&k("mixin #"+C+" is not a callable constructor.",E):k("mixin #"+
C+" is unknown. Did you use dojo.require to pull it in?",E);Q=K._meta?K._meta.bases:[K];H=0;for(K=Q.length-1;0<=K;--K){I=Q[K].prototype;if(!I.hasOwnProperty("declaredClass"))I.declaredClass="uniqName_"+x++;I=I.declaredClass;B.hasOwnProperty(I)||(B[I]={count:0,refs:[],cls:Q[K]},++F);I=B[I];H&&H!==I&&(I.refs.push(H),++H.count);H=I}++H.count;z[0].refs.push(H)}for(;z.length;){H=z.pop();A.push(H.cls);for(--F;u=H.refs,1==u.length;){H=u[0];if(!H||--H.count){H=0;break}A.push(H.cls);--F}if(H)for(C=0,N=u.length;C<
N;++C)H=u[C],--H.count||z.push(H)}F&&k("can't build consistent linearization",E);K=f[0];A[0]=K?K._meta&&K===A[A.length-K._meta.bases.length]?K._meta.bases.length:1:0;B=A;A=B[0];E=B.length-A;f=B[E]}else B=[0],f?"[object Function]"==v.call(f)?(A=f._meta,B=B.concat(A?A.bases:f)):k("base class is not a callable constructor.",h):null!==f&&k("unknown base class. Did you use dojo.require to pull it in?",h);if(f)for(u=E-1;;--u){j=n(f);if(!u)break;A=B[u];(A._meta?b:t)(j,A.prototype);z=new Function;z.superclass=
f;z.prototype=j;f=j.constructor=z}else j={};r.safeMixin(j,q);A=q.constructor;if(A!==s.constructor)A.nom=y,j.constructor=A;for(u=E-1;u;--u)(A=B[u]._meta)&&A.chains&&(G=t(G||{},A.chains));j["-chains-"]&&(G=t(G||{},j["-chains-"]));A=!G||!G.hasOwnProperty(y);B[0]=z=G&&"manual"===G.constructor?p(B):1==B.length?o(q.constructor,A):l(B,A);z._meta={bases:B,hidden:q,chains:G,parents:J,ctor:q.constructor};z.superclass=f&&f.prototype;z.extend=a;z.createSubclass=g;z.prototype=j;j.constructor=z;j.getInherited=
d;j.isInstanceOf=c;j.inherited=L;j.__inherited=e;if(h)j.declaredClass=h,i.setObject(h,z);if(G)for(w in G)if(j[w]&&"string"==typeof G[w]&&w!=y)A=j[w]=m(w,B,"after"===G[w]),A.nom=w;return z}var t=i.mixin,s=Object.prototype,v=s.toString,u=new Function,x=0,y="constructor",L=f.config.isDebug?h:e;f.safeMixin=r.safeMixin=function(a,g){var b,c;for(b in g)if(c=g[b],(c!==s[b]||!(b in s))&&b!=y){if("[object Function]"==v.call(c))c.nom=b;a[b]=c}if(j("bug-for-in-skips-shadowed"))for(var d=i._extraNames,e=d.length;e;)if(b=
d[--e],c=g[b],(c!==s[b]||!(b in s))&&b!=y){if("[object Function]"==v.call(c))c.nom=b;a[b]=c}return a};return f.declare=r})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(f,j,i,k,e,d,h,c){function b(a,b,g,e,l){e=c.hitch(g,e);if(!a||!a.addEventListener&&!a.attachEvent)return k.after(a||f.global,b,e,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=f.global;if(!l)switch(b){case "keypress":b=
p;break;case "mouseenter":b=d.enter;break;case "mouseleave":b=d.leave}return j(a,b,e,l)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!h("opera")});var g={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,
220:92,221:93,222:39,229:113},l=h("mac")?"metaKey":"ctrlKey",o=function(b,g){var d=c.mixin({},b,g);a(d);d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()};return d},p;p=h("events-keypress-typed")?function(a,b){var c=j(a,"keydown",function(a){var c=a.keyCode,d=13!=c&&32!=c&&(27!=c||!h("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(d||a.ctrlKey){d=d?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);d=95<d&&
106>d?d-48:!a.shiftKey&&65<=d&&90>=d?d+32:g[d]||d}c=o(a,{type:"keypress",faux:!0,charCode:d});b.call(a.currentTarget,c);if(h("ie"))try{a.keyCode=c.keyCode}catch(e){}}}),d=j(a,"keypress",function(a){var g=a.charCode,a=o(a,{charCode:32<=g?g:0,faux:!0});return b.call(this,a)});return{remove:function(){c.remove();d.remove()}}}:h("opera")?function(a,b){return j(a,"keypress",function(a){var g=a.which;3==g&&(g=99);g=32>g&&!a.shiftKey?0:g;a.ctrlKey&&!a.shiftKey&&65<=g&&90>=g&&(g+=32);return b.call(this,o(a,
{charCode:g}))})}:function(b,g){return j(b,"keypress",function(b){a(b);return g.call(this,b)})};var m={_keypress:p,connect:function(a,g,c,d,e){var l=arguments,h=[],f=0;h.push("string"==typeof l[0]?null:l[f++],l[f++]);var k=l[f+1];h.push("string"==typeof k||"function"==typeof k?l[f++]:null,l[f++]);for(k=l.length;f<k;f++)h.push(l[f]);return b.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,g){return i.subscribe(a,c.hitch(b,g))},publish:function(a,b){return i.publish.apply(i,
[a].concat(b))},connectPublisher:function(a,b,g){var c=function(){m.publish(a,arguments)};return g?m.connect(b,g,c):m.connect(b,c)},isCopyKey:function(a){return a[l]}};m.unsubscribe=m.disconnect;c.mixin(f,m);return m})},"dojo/on":function(){define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(f,j,i){function k(a,g,d,e,h){if(e=g.match(/(.*):(.*)/))return g=e[2],e=e[1],c.selector(e,g).call(h,a,d);i("touch")&&(b.test(g)&&(d=x(d)),!i("event-orientationchange")&&
"orientationchange"==g&&(g="resize",a=window,d=x(d)));p&&(d=p(d));if(a.addEventListener){var f=g in l,k=f?l[g]:g;a.addEventListener(k,d,f);return{remove:function(){a.removeEventListener(k,d,f)}}}if(r&&a.attachEvent)return r(a,"on"+g,d);throw Error("Target must be an event emitter");}function e(){this.cancelable=!1}function d(){this.bubbles=!1}var h=window.ScriptEngineMajorVersion;i.add("jscript",h&&h()+ScriptEngineMinorVersion()/10);i.add("event-orientationchange",i("touch")&&!i("android"));i.add("event-stopimmediatepropagation",
window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var c=function(a,b,g,d){return"function"==typeof a.on&&"function"!=typeof b?a.on(b,g):c.parse(a,b,g,k,d,this)};c.pausable=function(a,b,g,d){var e,a=c(a,b,function(){if(!e)return g.apply(this,arguments)},d);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};c.once=function(a,b,g){var d=c(a,b,function(){d.remove();return g.apply(this,arguments)});return d};c.parse=function(a,b,g,c,d,e){if(b.call)return b.call(e,
a,g);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),l=[],h=0,f;f=b[h++];)l.push(c(a,f,g,d,e));l.remove=function(){for(var a=0;a<l.length;a++)l[a].remove()};return l}return c(a,b,g,d,e)};var b=/^touch/;c.selector=function(a,b,g){return function(d,e){function l(b){for(h=h&&h.matches?h:j.query;!h.matches(b,a,d);)if(b==d||!1===g||!(b=b.parentNode)||1!=b.nodeType)return;return b}var h="function"==typeof a?{matches:a}:this,f=b.bubble;return f?c(d,f(l),e):c(d,b,function(a){var b=l(a.target);return b&&
e.call(b,a)})}};var a=[].slice,g=c.emit=function(b,g,c){var l=a.call(arguments,2),h="on"+g;if("parentNode"in b){var f=l[0]={},k;for(k in c)f[k]=c[k];f.preventDefault=e;f.stopPropagation=d;f.target=b;f.type=g;c=f}do b[h]&&b[h].apply(b,l);while(c&&c.bubbles&&(b=b.parentNode));return c&&c.cancelable&&c},l={};if(!i("event-stopimmediatepropagation"))var o=function(){this.modified=this.immediatelyStopped=!0},p=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=o,a.apply(this,
arguments)}};if(i("dom-addeventlistener")){l={focusin:"focus",focusout:"blur"};if(i("opera"))l.keydown="keypress";c.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,!!d.bubbles,!!d.cancelable);for(var l in d)l in e||(e[l]=d[l]);return a.dispatchEvent(e)&&e}return g.apply(c,arguments)}}else{c._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;m&&a.type==m.type&&(a=
m);if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=t,a.preventDefault=s;switch(a.type){case "keypress":var g="charCode"in a?a.charCode:a.keyCode;10==g?(g=0,a.keyCode=13):13==g||27==g?g=0:3==g&&(g=99);a.charCode=g;g=a;g.keyChar=g.charCode?String.fromCharCode(g.charCode):"";g.charOrCode=g.keyChar||g.keyCode}}return a};var m,n=function(a){this.handle=
a};n.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var q=function(a){return function(b){var b=c._fixEvent(b,this),g=a.call(this,b);b.modified&&(m||setTimeout(function(){m=null}),m=b);return g}},r=function(a,b,g){g=q(g);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>i("jscript"))&&!i("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=a[b];if(!c||!c.listeners){var d=c,c=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
c.listeners=[];a[b]=c;c.global=this;d&&c.listeners.push(_dojoIEListeners_.push(d)-1)}c.listeners.push(a=c.global._dojoIEListeners_.push(g)-1);return new n(a)}return f.after(a,b,g,!0)},t=function(){this.cancelBubble=!0},s=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(i("touch"))var v=function(){},u=window.orientation,x=function(a){return function(b){var g=b.corrected;if(!g){var c=b.type;try{delete b.type}catch(d){}b.type?
(v.prototype=b,g=new v,g.preventDefault=function(){b.preventDefault()},g.stopPropagation=function(){b.stopPropagation()}):(g=b,g.type=c);b.corrected=g;if("resize"==c){if(u==window.orientation)return null;u=window.orientation;g.type="orientationchange";return a.call(this,g)}if(!("rotation"in g))g.rotation=0,g.scale=1;var c=g.changedTouches[0],e;for(e in c)delete g[e],g[e]=c[e]}return a.call(this,g)}};return c})},"dojo/topic":function(){define(["./Evented"],function(f){var j=new f;return{publish:function(f,
k){return j.emit.apply(j,arguments)},subscribe:function(f,k){return j.on.apply(j,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(f,j){function i(){}var k=f.after;i.prototype={on:function(e,d){return j.parse(this,e,d,function(e,c){return k(e,"on"+c,d,!0)})},emit:function(e,d){var h=[this];h.push.apply(h,arguments);return j.emit.apply(j,h)}};return i})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function f(c,b,a,g){var d=c[b],e="around"==b,h;if(e){var f=
a(function(){return d.advice(this,arguments)});h={remove:function(){h.cancelled=!0},advice:function(a,b){return h.cancelled?d.advice(a,b):f.apply(a,b)}}}else h={remove:function(){var a=h.previous,g=h.next;if(!g&&!a)delete c[b];else if(a?a.next=g:c[b]=g,g)g.previous=a},id:k++,advice:a,receiveArguments:g};if(d&&!e)if("after"==b){for(a=d;a;)d=a,a=a.next;d.next=h;h.previous=d}else{if("before"==b)c[b]=h,h.next=d,d.previous=h}else c[b]=h;return h}function j(c){return function(b,a,g,d){var e=b[a],h;if(!e||
e.target!=b){b[a]=h=function(){for(var a=k,b=arguments,g=h.before;g;)b=g.advice.apply(this,b)||b,g=g.next;if(h.around)var c=h.around.advice(this,b);for(g=h.after;g&&g.id<a;){if(g.receiveArguments)var d=g.advice.apply(this,b),c=d===i?c:d;else c=g.advice.call(this,c,b);g=g.next}return c};if(e)h.around={advice:function(a,b){return e.apply(a,b)}};h.target=b}b=f(h||e,c,g,d);g=null;return b}}var i,k=0,e=j("after"),d=j("before"),h=j("around");return{before:d,around:h,after:e}})},"dojo/_base/event":function(){define(["./kernel",
"../on","../has","../dom-geometry"],function(f,j,i,k){if(j._fixEvent){var e=j._fixEvent;j._fixEvent=function(d,c){(d=e(d,c))&&k.normalizeEvent(d);return d}}var d={fix:function(d,c){return j._fixEvent?j._fixEvent(d,c):d},stop:function(d){i("dom-addeventlistener")||d&&d.preventDefault?(d.preventDefault(),d.stopPropagation()):(d=d||window.event,d.cancelBubble=!0,j._preventDefault.call(d))}};f.fixEvent=d.fix;f.stopEvent=d.stop;return d})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",["./sniff",
"./_base/window","./dom","./dom-style"],function(f,j,i,k){function e(a,b,c,d,e,h){h=h||"px";a=a.style;if(!isNaN(b))a.left=b+h;if(!isNaN(c))a.top=c+h;if(0<=d)a.width=d+h;if(0<=e)a.height=e+h}function d(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==c.boxModel||"table"==a.tagName.toLowerCase()||d(a)}var c={boxModel:"content-box"};if(f("ie"))c.boxModel="BackCompat"==document.compatMode?
"border-box":"content-box";c.getPadExtents=function(a,b){var a=i.byId(a),c=b||k.getComputedStyle(a),d=k.toPixelValue,e=d(a,c.paddingLeft),h=d(a,c.paddingTop),f=d(a,c.paddingRight),c=d(a,c.paddingBottom);return{l:e,t:h,r:f,b:c,w:e+f,h:h+c}};c.getBorderExtents=function(a,b){var a=i.byId(a),c=k.toPixelValue,d=b||k.getComputedStyle(a),e="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0,h="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,f="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0,c="none"!=
d.borderBottomStyle?c(a,d.borderBottomWidth):0;return{l:e,t:h,r:f,b:c,w:e+f,h:h+c}};c.getPadBorderExtents=function(a,b){var a=i.byId(a),d=b||k.getComputedStyle(a),e=c.getPadExtents(a,d),d=c.getBorderExtents(a,d);return{l:e.l+d.l,t:e.t+d.t,r:e.r+d.r,b:e.b+d.b,w:e.w+d.w,h:e.h+d.h}};c.getMarginExtents=function(a,b){var a=i.byId(a),c=b||k.getComputedStyle(a),d=k.toPixelValue,e=d(a,c.marginLeft),h=d(a,c.marginTop),f=d(a,c.marginRight),c=d(a,c.marginBottom);return{l:e,t:h,r:f,b:c,w:e+f,h:h+c}};c.getMarginBox=
function(a,b){var a=i.byId(a),d=b||k.getComputedStyle(a),e=c.getMarginExtents(a,d),h=a.offsetLeft-e.l,m=a.offsetTop-e.t,n=a.parentNode,q=k.toPixelValue;if(f("mozilla")){var j=parseFloat(d.left),d=parseFloat(d.top);!isNaN(j)&&!isNaN(d)?(h=j,m=d):n&&n.style&&(n=k.getComputedStyle(n),"visible"!=n.overflow&&(h+="none"!=n.borderLeftStyle?q(a,n.borderLeftWidth):0,m+="none"!=n.borderTopStyle?q(a,n.borderTopWidth):0))}else if((f("opera")||8==f("ie")&&!f("quirks"))&&n)n=k.getComputedStyle(n),h-="none"!=n.borderLeftStyle?
q(a,n.borderLeftWidth):0,m-="none"!=n.borderTopStyle?q(a,n.borderTopWidth):0;return{l:h,t:m,w:a.offsetWidth+e.w,h:a.offsetHeight+e.h}};c.getContentBox=function(a,b){var a=i.byId(a),d=b||k.getComputedStyle(a),e=a.clientWidth,h=c.getPadExtents(a,d),m=c.getBorderExtents(a,d);e?(d=a.clientHeight,m.w=m.h=0):(e=a.offsetWidth,d=a.offsetHeight);f("opera")&&(h.l+=m.l,h.t+=m.t);return{l:h.l,t:h.t,w:e-h.w-m.w,h:d-h.h-m.h}};c.setContentSize=function(a,b,d){var a=i.byId(a),f=b.w,b=b.h;h(a)&&(d=c.getPadBorderExtents(a,
d),0<=f&&(f+=d.w),0<=b&&(b+=d.h));e(a,NaN,NaN,f,b)};var b={l:0,t:0,w:0,h:0};c.setMarginBox=function(a,g,l){var a=i.byId(a),o=l||k.getComputedStyle(a),l=g.w,j=g.h,m=h(a)?b:c.getPadBorderExtents(a,o),o=c.getMarginExtents(a,o);if(f("webkit")&&d(a)){var n=a.style;if(0<=l&&!n.width)n.width="4px";if(0<=j&&!n.height)n.height="4px"}0<=l&&(l=Math.max(l-m.w-o.w,0));0<=j&&(j=Math.max(j-m.h-o.h,0));e(a,g.l,g.t,l,j)};c.isBodyLtr=function(a){a=a||j.doc;return"ltr"==(j.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};
c.docScroll=function(a){var a=a||j.doc,b=j.doc.parentWindow||j.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=f("quirks")?j.body(a):a.documentElement)&&{x:c.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};if(f("ie"))c.getIeDocumentElementOffset=function(a){a=a||j.doc;a=a.documentElement;if(8>f("ie")){var b=a.getBoundingClientRect(),c=b.left,b=b.top;7>f("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}};c.fixIeBiDiScrollLeft=
function(a,b){var b=b||j.doc,d=f("ie");if(d&&!c.isBodyLtr(b)){var e=f("quirks"),h=e?j.body(b):b.documentElement,k=j.global;6==d&&!e&&k.frameElement&&h.scrollHeight>h.clientHeight&&(a+=h.clientLeft);return 8>d||e?a+h.clientWidth-h.scrollWidth:-a}return a};c.position=function(a,b){var a=i.byId(a),d=j.body(a.ownerDocument),e=a.getBoundingClientRect(),e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};if(f("ie")){var h=c.getIeDocumentElementOffset(a.ownerDocument);e.x-=h.x+(f("quirks")?d.clientLeft+
d.offsetLeft:0);e.y-=h.y+(f("quirks")?d.clientTop+d.offsetTop:0)}b&&(d=c.docScroll(a.ownerDocument),e.x+=d.x,e.y+=d.y);return e};c.getMarginSize=function(a,b){var a=i.byId(a),d=c.getMarginExtents(a,b||k.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+d.w,h:e.bottom-e.top+d.h}};c.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!f("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,d=f("quirks")?b.body:b.documentElement,
e=c.getIeDocumentElementOffset(b);a.pageX=a.clientX+c.fixIeBiDiScrollLeft(d.scrollLeft||0,b)-e.x;a.pageY=a.clientY+(d.scrollTop||0)-e.y}};return c})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(f,j,i){var k={global:f.global,doc:this.document||null,body:function(e){e=e||f.doc;return e.body||e.getElementsByTagName("body")[0]},setContext:function(e,d){f.global=k.global=e;f.doc=k.doc=d},withGlobal:function(e,d,h,c){var b=f.global;try{return f.global=k.global=e,k.withDoc.call(null,
e.document,d,h,c)}finally{f.global=k.global=b}},withDoc:function(e,d,h,c){var b=k.doc,a=i("quirks"),g=i("ie"),l,o,j;try{f.doc=k.doc=e;f.isQuirks=i.add("quirks","BackCompat"==f.doc.compatMode,!0,!0);if(i("ie")&&(j=e.parentWindow)&&j.navigator)l=parseFloat(j.navigator.appVersion.split("MSIE ")[1])||void 0,(o=e.documentMode)&&5!=o&&Math.floor(l)!=o&&(l=o),f.isIE=i.add("ie",l,!0,!0);h&&"string"==typeof d&&(d=h[d]);return d.apply(h,c||[])}finally{f.doc=k.doc=b,f.isQuirks=i.add("quirks",a,!0,!0),f.isIE=
i.add("ie",g,!0,!0)}}};j.mixin(f,k);return k})},"dojo/dom":function(){define(["./sniff","./_base/lang","./_base/window"],function(f,j,i){if(7>=f("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var e={};e.byId=f("ie")?function(d,e){if("string"!=typeof d)return d;var c=e||i.doc,b=d&&c.getElementById(d);if(b&&(b.attributes.id.value==d||b.id==d))return b;c=c.all[d];if(!c||c.nodeName)c=[c];for(var a=0;b=c[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==d||b.id==d)return b}:
function(d,e){return("string"==typeof d?(e||i.doc).getElementById(d):d)||null};e.isDescendant=function(d,h){try{d=e.byId(d);for(h=e.byId(h);d;){if(d==h)return!0;d=d.parentNode}}catch(c){}return!1};e.setSelectable=function(d,h){d=e.byId(d);if(f("mozilla"))d.style.MozUserSelect=h?"":"none";else if(f("khtml")||f("webkit"))d.style.KhtmlUserSelect=h?"auto":"none";else if(f("ie"))for(var c=d.unselectable=h?"":"on",b=d.getElementsByTagName("*"),a=0,g=b.length;a<g;++a)b.item(a).unselectable=c};return e})},
"dojo/dom-style":function(){define(["./sniff","./dom"],function(f,j){function i(b,c,e){c=c.toLowerCase();if(f("ie")){if("auto"==e){if("height"==c)return b.offsetHeight;if("width"==c)return b.offsetWidth}if("fontweight"==c)switch(e){case 700:return"bold";default:return"normal"}}c in a||(a[c]=g.test(c));return a[c]?d(b,e):e}var k,e={};k=f("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=c.getComputedStyle(a,
null)}return b||{}}:f("ie")&&(9>f("ie")||f("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};e.getComputedStyle=k;var d;d=f("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,g=a.runtimeStyle,d=c.left,e=g.left;g.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(h){b=0}c.left=d;g.left=e;return b}:function(a,
b){return parseFloat(b)||0};e.toPixelValue=d;var h=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},c=9>f("ie")||f("ie")&&f("quirks")?function(a){try{return h(a).Opacity/100}catch(b){return 1}}:function(a){return k(a).opacity},b=9>f("ie")||f("ie")&&f("quirks")?function(a,c){var g=100*c,d=1==c;a.style.zoom=d?"":1;if(h(a))h(a,1).Opacity=g;else{if(d)return c;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+g+")"}h(a,1).Enabled=
!d;if("tr"==a.tagName.toLowerCase())for(g=a.firstChild;g;g=g.nextSibling)"td"==g.tagName.toLowerCase()&&b(g,c);return c}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},g=/margin|padding|width|height|max|min|offset/,l=f("ie")?"styleFloat":"cssFloat",o={cssFloat:l,styleFloat:l,"float":l};e.get=function(a,b){var g=j.byId(a),d=arguments.length;if(2==d&&"opacity"==b)return c(g);var b=o[b]||b,h=e.getComputedStyle(g);return 1==d?h:i(g,b,h[b]||g.style[b])};e.set=function(a,c,g){var d=j.byId(a),
h=arguments.length,f="opacity"==c,c=o[c]||c;if(3==h)return f?b(d,g):d.style[c]=g;for(var l in c)e.set(a,l,c[l]);return e.getComputedStyle(d)};return e})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(f,j,i,k,e){function d(e,c){var b=function(a,b){return j(a,e,function(d){if(c)return c(d,b);if(!k.isDescendant(d.relatedTarget,a))return b.call(this,d)})};b.bubble=function(a){return d(e,function(b,c){var d=a(b.target),e=b.relatedTarget;if(d&&d!=(e&&
1==e.nodeType&&a(e)))return c.call(d,b)})};return b}i.add("dom-quirks",e.doc&&"BackCompat"==e.doc.compatMode);i.add("events-mouseenter",e.doc&&"onmouseenter"in e.doc.createElement("div"));i.add("events-mousewheel",e.doc&&"onmousewheel"in e.doc);e=i("dom-quirks")&&i("ie")||!i("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(d,c){return d.button&c},isLeft:function(d){return d.button&1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&2}}:{LEFT:0,MIDDLE:1,
RIGHT:2,isButton:function(d,c){return d.button==c},isLeft:function(d){return 0==d.button},isMiddle:function(d){return 1==d.button},isRight:function(d){return 2==d.button}};f.mouseButtons=e;f=i("events-mousewheel")?"mousewheel":function(d,c){return j(d,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;c.call(this,b)})};return{_eventHandler:d,enter:d("mouseover"),leave:d("mouseout"),wheel:f,isLeft:e.isLeft,isMiddle:e.isMiddle,isRight:e.isRight}})},"dojo/_base/sniff":function(){define(["./kernel",
"./lang","../sniff"],function(f,j,i){f._name="browser";j.mixin(f,{isBrowser:!0,isFF:i("ff"),isIE:i("ie"),isKhtml:i("khtml"),isWebKit:i("webkit"),isMozilla:i("mozilla"),isMoz:i("mozilla"),isOpera:i("opera"),isSafari:i("safari"),isChrome:i("chrome"),isMac:i("mac"),isIos:i("ios"),isAndroid:i("android"),isWii:i("wii"),isQuirks:i("quirks"),isAir:i("air")});f.locale=f.locale||(i("ie")?navigator.userLanguage:navigator.language).toLowerCase();return i})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel",
"./sniff"],function(f,j){return f.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:j("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:j("mac")&&!j("air")?j("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(f,j,i,k,e,d,h){var c=function(){},b=Object.freeze||function(){},
a=f.Deferred=function(g){function h(a){if(m)throw Error("This deferred has already been resolved");p=a;m=!0;f()}function f(){for(var a;!a&&r;){var b=r;r=r.next;if(a=b.progress==c)m=!1;var g=n?b.error:b.resolved;e("config-useDeferredInstrumentation")&&n&&j.instrumentRejected&&j.instrumentRejected(p,!!g);if(g)try{var h=g(p);h&&"function"===typeof h.then?h.then(d.hitch(b.deferred,"resolve"),d.hitch(b.deferred,"reject"),d.hitch(b.deferred,"progress")):(g=a&&void 0===h,a&&!g&&(n=h instanceof Error),b.deferred[g&&
n?"reject":"resolve"](g?p:h))}catch(l){b.deferred.reject(l)}else n?b.deferred.reject(p):b.deferred.resolve(p)}}var p,m,n,q,r,t=this.promise=new i;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];h(a)};this.reject=this.errback=function(a){n=!0;this.fired=1;e("config-useDeferredInstrumentation")&&j.instrumentRejected&&j.instrumentRejected(a,!!r);h(a);this.results=[null,a]};this.progress=function(a){for(var b=r;b;){var c=b.progress;c&&c(a);b=b.next}};this.addCallbacks=function(a,
b){this.then(a,b,c);return this};t.then=this.then=function(b,g,d){var e=d==c?this:new a(t.cancel),b={resolved:b,error:g,progress:d,deferred:e};r?q=q.next=b:r=q=b;m&&f();return e.promise};var s=this;t.cancel=this.cancel=function(){if(!m){var a=g&&g(s);if(!m)a instanceof Error||(a=new k(a)),a.log=!1,s.reject(a)}};b(t)};d.extend(a,{addCallback:function(a){return this.addCallbacks(d.hitch.apply(f,arguments))},addErrback:function(a){return this.addCallbacks(null,d.hitch.apply(f,arguments))},addBoth:function(a){var b=
d.hitch.apply(f,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=f.when=h;return a})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(f,j,i,k,e){var d=Object.freeze||function(){},h=function(a,b,d,e,h){2===b&&g.instrumentRejected&&0===a.length&&g.instrumentRejected(d,!1,e,h);for(h=0;h<a.length;h++)c(a[h],b,d,e)},c=function(c,d,e,h){var f=c[d],k=c.deferred;if(f)try{var i=f(e);if(0===d)"undefined"!==
typeof i&&a(k,d,i);else{if(i&&"function"===typeof i.then){c.cancel=i.cancel;i.then(b(k,1),b(k,2),b(k,0));return}a(k,1,i)}}catch(j){a(k,2,j)}else a(k,d,e);2===d&&g.instrumentRejected&&g.instrumentRejected(e,!!f,h,k.promise)},b=function(b,c){return function(g){a(b,c,g)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},g=function(a){var b=this.promise=new k,e=this,f,j,q,r=!1,t=[];Error.captureStackTrace&&(Error.captureStackTrace(e,
g),Error.captureStackTrace(b,g));this.isResolved=b.isResolved=function(){return 1===f};this.isRejected=b.isRejected=function(){return 2===f};this.isFulfilled=b.isFulfilled=function(){return!!f};this.isCanceled=b.isCanceled=function(){return r};this.progress=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}h(t,0,a,null,e);return b};this.resolve=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}h(t,f=1,j=a,
null,e);t=null;return b};var s=this.reject=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(q={},s);h(t,f=2,j=a,q,e);t=null;return b};this.then=b.then=function(a,d,e){var h=[e,a,d];h.cancel=b.cancel;h.deferred=new g(function(a){return h.cancel&&h.cancel(a)});f&&!t?c(h,f,j,q):t.push(h);return h.deferred.promise};this.cancel=b.cancel=function(b,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");
}else{if(a)var g=a(b),b="undefined"===typeof g?b:g;r=!0;if(f){if(2===f&&j===b)return b}else return"undefined"===typeof b&&(b=new i),s(b),b}};d(b)};g.prototype.toString=function(){return"[object Deferred]"};e&&e(g);return g})},"dojo/errors/CancelError":function(){define(["./create"],function(f){return f("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(f){return function(j,i,k,e){var k=k||Error,d=function(e){if(k===Error){Error.captureStackTrace&&
Error.captureStackTrace(this,d);var c=Error.call(this,e),b;for(b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.message=e;this.stack=c.stack}else k.apply(this,arguments);i&&i.apply(this,arguments)};d.prototype=f.delegate(k.prototype,e);d.prototype.name=j;return d.prototype.constructor=d}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(f){function j(){throw new TypeError("abstract");}return f.extend(function(){},{then:function(){j()},cancel:function(){j()},isResolved:function(){j()},
isRejected:function(){j()},isFulfilled:function(){j()},isCanceled:function(){j()},always:function(f){return this.then(f,f)},otherwise:function(f){return this.then(null,f)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(f,j,i,k){function e(a,b,c){var g="";a&&a.stack&&(g+=a.stack);b&&b.stack&&(g+="\n    ----------------------------------------\n    rejected"+
b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(g+="\n    ----------------------------------------\n"+c.stack);console.error(a,g)}function d(a,b,c,g){b||e(a,c,g)}function h(d,e,h,f){e?k.some(b,function(a,c){if(a.error===d)return b.splice(c,1),!0}):k.some(b,function(a){return a.error===d})||b.push({error:d,rejection:h,deferred:f,timestamp:(new Date).getTime()});a||(a=setTimeout(c,g))}function c(){var d=(new Date).getTime(),h=d-g;b=k.filter(b,function(a){return a.timestamp<
h?(e(a.error,a.rejection,a.deferred),!1):!0});b.length&&(a=setTimeout(c,b[0].timestamp+g-d))}var b=[],a=!1,g=1E3;return function(a){var b=j("config-useDeferredInstrumentation");if(b){f.on("resolved",i.hitch(console,"log","resolved"));f.on("rejected",i.hitch(console,"log","rejected"));f.on("progress",i.hitch(console,"log","progress"));var c=[];"string"===typeof b&&(c=b.split(","),b=c.shift());if("report-rejections"===b)a.instrumentRejected=d;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=
h,g=parseInt(c[0],10)||g;else throw Error("Unsupported instrumentation usage <"+b+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(f,j,i){function k(h){setTimeout(function(){d.apply(e,h)},0)}var e=new i,d=e.emit;e.emit=null;j.prototype.trace=function(){var d=f._toArray(arguments);this.then(function(c){k(["resolved",c].concat(d))},function(c){k(["rejected",c].concat(d))},function(c){k(["progress",c].concat(d))});return this};j.prototype.traceRejected=
function(){var d=f._toArray(arguments);this.otherwise(function(c){k(["rejected",c].concat(d))});return this};return e})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(f,j){return function(i,k,e,d){var h=i&&"function"===typeof i.then,c=h&&i instanceof j;if(h){if(!c)h=new f(i.cancel),i.then(h.resolve,h.reject,h.progress),i=h.promise}else return k?k(i):(new f).resolve(i);return k||e||d?i.then(k,e,d):i}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(f,
j){f.fromJson=function(f){return eval("("+f+")")};f._escapeString=j.stringify;f.toJsonIndentStr="\t";f.toJson=function(i,k){return j.stringify(i,function(e,d){if(d){var h=d.__json__||d.json;if("function"==typeof h)return h.call(d)}return d},k&&f.toJsonIndentStr)};return f})},"dojo/json":function(){define(["./has"],function(f){var j="undefined"!=typeof JSON;f.add("json-parse",j);f.add("json-stringify",j&&'{"a":1}'==JSON.stringify({a:0},function(f,e){return e||1}));if(f("json-stringify"))return JSON;
var i=function(f){return('"'+f.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:f("json-parse")?JSON.parse:function(f,e){if(e&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(f))throw new SyntaxError("Invalid characters in JSON");return eval("("+f+")")},stringify:function(f,e,d){function h(b,a,g){e&&(b=e(g,b));var f;f=typeof b;if("number"==
f)return isFinite(b)?b+"":"null";if("boolean"==f)return b+"";if(null===b)return"null";if("string"==typeof b)return i(b);if("function"==f||"undefined"==f)return c;if("function"==typeof b.toJSON)return h(b.toJSON(g),a,g);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,g){a=b["getUTC"+c]()+(g?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return h(b.valueOf(),a,g);var k=d?a+d:"",j=d?" ":"",m=d?"\n":"";if(b instanceof Array){for(var j=
b.length,n=[],g=0;g<j;g++)f=h(b[g],k,g),"string"!=typeof f&&(f="null"),n.push(m+k+f);return"["+n.join(",")+m+a+"]"}n=[];for(g in b){var q;if(b.hasOwnProperty(g)){if("number"==typeof g)q='"'+g+'"';else if("string"==typeof g)q=i(g);else continue;f=h(b[g],k,g);"string"==typeof f&&n.push(m+k+q+":"+j+f)}}return"{"+n.join(",")+m+a+"}"}var c;"string"==typeof e&&(d=e,e=null);return h(f,"","")}}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(f,j,i,k){var e=f.Color=
function(d){d&&this.setColor(d)};e.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};j.extend(e,{r:255,g:255,b:255,a:1,_set:function(d,e,c,b){this.r=d;this.g=e;this.b=c;this.a=b},setColor:function(d){j.isString(d)?e.fromString(d,
this):j.isArray(d)?e.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof e||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+i.map(["r","g","b"],function(d){d=this[d].toString(16);return 2>d.length?"0"+d:d},this).join("")},toCss:function(d){var e=this.r+", "+this.g+", "+this.b;return(d?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});
e.blendColors=f.blendColors=function(d,f,c,b){var a=b||new e;i.forEach(["r","g","b","a"],function(b){a[b]=d[b]+(f[b]-d[b])*c;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};e.fromRgb=f.colorFromRgb=function(d,f){var c=d.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&e.fromArray(c[1].split(/\s*,\s*/),f)};e.fromHex=f.colorFromHex=function(d,f){var c=f||new e,b=4==d.length?4:8,a=(1<<b)-1,d=Number("0x"+d.substr(1));if(isNaN(d))return null;i.forEach(["b","g","r"],function(g){var e=d&a;
d>>=b;c[g]=4==b?17*e:e});c.a=1;return c};e.fromArray=f.colorFromArray=function(d,f){var c=f||new e;c._set(Number(d[0]),Number(d[1]),Number(d[2]),Number(d[3]));if(isNaN(c.a))c.a=1;return c.sanitize()};e.fromString=f.colorFromString=function(d,f){var c=e.named[d];return c&&e.fromArray(c,f)||e.fromRgb(d,f)||e.fromHex(d,f)};return e})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),
function(f){return f})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(f,j,i){var k=window,e={addOnWindowUnload:function(d,e){if(!f.windowUnloaded)i(k,"unload",f.windowUnloaded=function(){});i(k,"unload",j.hitch(d,e))},addOnUnload:function(d,e){i(k,"beforeunload",j.hitch(d,e))}};f.addOnWindowUnload=e.addOnWindowUnload;f.addOnUnload=e.addOnUnload;return e})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),
function(f,j,i,k,e,d,h,c){f.byId=j.byId;f.isDescendant=j.isDescendant;f.setSelectable=j.setSelectable;f.getAttr=k.get;f.setAttr=k.set;f.hasAttr=k.has;f.removeAttr=k.remove;f.getNodeProp=k.getNodeProp;f.attr=function(b,a,c){return 2==arguments.length?k["string"==typeof a?"get":"set"](b,a):k.set(b,a,c)};f.hasClass=d.contains;f.addClass=d.add;f.removeClass=d.remove;f.toggleClass=d.toggle;f.replaceClass=d.replace;f._toDom=f.toDom=h.toDom;f.place=h.place;f.create=h.create;f.empty=function(b){h.empty(b)};
f._destroyElement=f.destroy=function(b){h.destroy(b)};f._getPadExtents=f.getPadExtents=c.getPadExtents;f._getBorderExtents=f.getBorderExtents=c.getBorderExtents;f._getPadBorderExtents=f.getPadBorderExtents=c.getPadBorderExtents;f._getMarginExtents=f.getMarginExtents=c.getMarginExtents;f._getMarginSize=f.getMarginSize=c.getMarginSize;f._getMarginBox=f.getMarginBox=c.getMarginBox;f.setMarginBox=c.setMarginBox;f._getContentBox=f.getContentBox=c.getContentBox;f.setContentSize=c.setContentSize;f._isBodyLtr=
f.isBodyLtr=c.isBodyLtr;f._docScroll=f.docScroll=c.docScroll;f._getIeDocumentElementOffset=f.getIeDocumentElementOffset=c.getIeDocumentElementOffset;f._fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft;f.position=c.position;f.marginBox=function(b,a){return a?c.setMarginBox(b,a):c.getMarginBox(b)};f.contentBox=function(b,a){return a?c.setContentSize(b,a):c.getContentBox(b)};f.coords=function(b,a){f.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var b=j.byId(b),
g=i.getComputedStyle(b),g=c.getMarginBox(b,g),d=c.position(b,a);g.x=d.x;g.y=d.y;return g};f.getProp=e.get;f.setProp=e.set;f.prop=function(b,a,c){return 2==arguments.length?e["string"==typeof a?"get":"set"](b,a):e.set(b,a,c)};f.getStyle=i.get;f.setStyle=i.set;f.getComputedStyle=i.getComputedStyle;f.__toPixelValue=f.toPixelValue=i.toPixelValue;f.style=function(b,a,c){switch(arguments.length){case 1:return i.get(b);case 2:return i["string"==typeof a?"get":"set"](b,a)}return i.set(b,a,c)};return f})},
"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(f,j,i,k,e,d){function h(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return c&&c.specified}var c={innerHTML:1,className:1,htmlFor:j("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};f.has=function(a,g){var e=g.toLowerCase();return c[d.names[e]||g]||h(k.byId(a),b[e]||g)};f.get=function(a,g){var a=k.byId(a),e=g.toLowerCase(),f=d.names[e]||
g,j=a[f];if(c[f]&&"undefined"!=typeof j||"href"!=f&&("boolean"==typeof j||i.isFunction(j)))return j;e=b[e]||g;return h(a,e)?a.getAttribute(e):null};f.set=function(a,g,h){a=k.byId(a);if(2==arguments.length){for(var j in g)f.set(a,j,g[j]);return a}j=g.toLowerCase();var p=d.names[j]||g,m=c[p];if("style"==p&&"string"!=typeof h)return e.set(a,h),a;if(m||"boolean"==typeof h||i.isFunction(h))return d.set(a,g,h);a.setAttribute(b[j]||g,h);return a};f.remove=function(a,c){k.byId(a).removeAttribute(b[c.toLowerCase()]||
c)};f.getNodeProp=function(a,c){var a=k.byId(a),e=c.toLowerCase(),f=d.names[e]||c;if(f in a&&"href"!=f)return a[f];e=b[e]||c;return h(a,e)?a.getAttribute(e):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(f,j,i,k,e,d,h,c){var b={},a=0,g=j._scopeName+"attrid";f.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",
valuetype:"valueType"};f.get=function(a,b){var a=e.byId(a),c=b.toLowerCase();return a[f.names[c]||b]};f.set=function(l,j,p){l=e.byId(l);if(2==arguments.length&&"string"!=typeof j){for(var m in j)f.set(l,m,j[m]);return l}m=j.toLowerCase();m=f.names[m]||j;if("style"==m&&"string"!=typeof p)return d.set(l,p),l;if("innerHTML"==m)return i("ie")&&l.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(l),l.appendChild(h.toDom(p,l.ownerDocument))):l[m]=p,l;if(k.isFunction(p)){var n=
l[g];n||(n=a++,l[g]=n);b[n]||(b[n]={});var q=b[n][m];if(q)c.disconnect(q);else try{delete l[m]}catch(r){}p?b[n][m]=c.connect(l,m,p):l[m]=null;return l}l[m]=p;return l}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),function(f,j,i,k,e,d,h){function c(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}var b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table",
"thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,g={},l=0,o="__"+j._scopeName+"ToDomId",p;for(p in b)if(b.hasOwnProperty(p))j=b[p],j.pre="option"==p?'<select multiple="multiple">':"<"+j.join("><")+">",j.post="</"+j.reverse().join("></")+">";var m=null,n;h(window,"unload",function(){m=null});f.toDom=function(c,d){var d=d||k.doc,e=d[o];e||(d[o]=e=++l+"",g[e]=d.createElement("div"));var c=c+"",f=c.match(a),h=f?f[1].toLowerCase():
"",e=g[e];if(f&&b[h]){f=b[h];e.innerHTML=f.pre+c+f.post;for(f=f.length;f;--f)e=e.firstChild}else e.innerHTML=c;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(h=d.createDocumentFragment();f=e.firstChild;)h.appendChild(f);return h};f.place=function(a,b,g){b=e.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?f.toDom(a,b.ownerDocument):e.byId(a));if("number"==typeof g){var d=b.childNodes;!d.length||d.length<=g?b.appendChild(a):c(a,d[0>g?0:g])}else switch(g){case "before":c(a,b);break;
case "after":g=a;(d=b.parentNode)&&(d.lastChild==b?d.appendChild(g):d.insertBefore(g,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":f.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){c(a,b.firstChild);break}default:b.appendChild(a)}return a};f.create=function(a,b,c,g){var h=k.doc;if(c)c=e.byId(c),h=c.ownerDocument;"string"==typeof a&&(a=h.createElement(a));b&&d.set(a,b);c&&f.place(a,c,g);return a};f.empty=i("ie")?function(a){for(var a=e.byId(a),
b;b=a.lastChild;)f.destroy(b)}:function(a){e.byId(a).innerHTML=""};f.destroy=function(a){a=e.byId(a);try{var b=a.ownerDocument;if(!m||n!=b)m=b.createElement("div"),n=b;m.appendChild(a.parentNode?a.parentNode.removeChild(a):a);m.innerHTML=""}catch(c){}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(f,j,i){function k(b){if("string"==typeof b||b instanceof String){if(b&&!d.test(b))return h[0]=b,h;b=b.split(d);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-
1]&&b.pop();return b}return!b?[]:j.filter(b,function(a){return a})}var e,d=/\s+/,h=[""],c={};return e={contains:function(b,a){return 0<=(" "+i.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){var b=i.byId(b),a=k(a),c=b.className,d,c=c?" "+c+" ":" ";d=c.length;for(var e=0,f=a.length,h;e<f;++e)(h=a[e])&&0>c.indexOf(" "+h+" ")&&(c+=h+" ");d<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){var b=i.byId(b),c;if(void 0!==a){a=k(a);c=" "+b.className+" ";for(var d=0,e=a.length;d<
e;++d)c=c.replace(" "+a[d]+" "," ");c=f.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(b,a,d){b=i.byId(b);c.className=b.className;e.remove(c,d);e.add(c,a);b.className!==c.className&&(b.className=c.className)},toggle:function(b,a,c){b=i.byId(b);if(void 0===c)for(var a=k(a),d=0,f=a.length,h;d<f;++d)h=a[d],e[e.contains(b,h)?"remove":"add"](b,h);else e[c?"add":"remove"](b,a);return c}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],
function(f,j,i){var j=j.NodeList,k=j.prototype;k.connect=j._adaptAsForEach(function(){return f.connect.apply(this,arguments)});k.coords=j._adaptAsMap(f.coords);j.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");i.forEach(j.events,function(e){var d="on"+e;k[d]=function(e,c){return this.connect(d,e,c)}});return f.NodeList=j})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),
function(f,j,i,k,e,d,h,c){function b(a,b){var c=function(c,d){if("string"==typeof d&&(d=i.byId(d),!d))return new b([]);var g="string"==typeof c?a(c,d):c?c.orphan?c:[c]:[];return g.orphan?g:new b(g)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<e.indexOf(a,b)})};if("function"!=typeof a)var d=a.search,a=function(a,b){return d(b||document,a)};return c}j.add("array-extensible",function(){return 1==d.delegate([],
{length:1}).length&&!j("bug-for-in-skips-shadowed")});var a=Array.prototype,g=a.slice,l=a.concat,o=e.forEach,p=function(a,b,c){b=[0].concat(g.call(b,0));c=c||f.global;return function(d){b[0]=d;return a.apply(c,b)}},m=function(a){var b=this instanceof n&&j("array-extensible");"number"==typeof a&&(a=Array(a));var c=a&&"length"in a?a:arguments;if(b||!c.sort){for(var g=b?this:[],e=g.length=c.length,f=0;f<e;f++)g[f]=c[f];if(b)return g;c=g}d._mixin(c,q);c._NodeListCtor=function(a){return n(a)};return c},
n=m,q=n.prototype=j("array-extensible")?[]:{};n._wrap=q._wrap=function(a,b,c){a=new (c||this._NodeListCtor||n)(a);return b?a._stash(b):a};n._adaptAsMap=function(a,b){return function(){return this.map(p(a,arguments,b))}};n._adaptAsForEach=function(a,b){return function(){this.forEach(p(a,arguments,b));return this}};n._adaptAsFilter=function(a,b){return function(){return this.filter(p(a,arguments,b))}};n._adaptWithCondition=function(a,b,c){return function(){var d=arguments,g=p(a,d,c);if(b.call(c||f.global,
d))return this.map(g);this.forEach(g);return this}};o(["slice","splice"],function(b){var c=a[b];q[b]=function(){return this._wrap(c.apply(this,arguments),"slice"==b?this:null)}});o(["indexOf","lastIndexOf","every","some"],function(a){var b=e[a];q[a]=function(){return b.apply(f,[this].concat(g.call(arguments,0)))}});d.extend(m,{constructor:n,_NodeListCtor:n,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return k(c,
a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=g.call(this,0),c=e.map(arguments,function(a){return g.call(a,0)});return this._wrap(l.apply(b,c),this)},map:function(a,b){return this._wrap(e.map(this,a,b),this)},forEach:function(a,b){o(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=r._filterResult(this,b[0]);if(1==b.length)return c._stash(this);
d=1}return this._wrap(e.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var c=d.isFunction(a)?a:d.getObject(a),b=b||{};return this.forEach(function(a){new c(b,a)})},at:function(){var a=new this._NodeListCtor(0);o(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var r=b(c,m);f.query=b(c,function(a){return m(a)});r.load=function(a,c,d){h.load(a,c,function(a){d(b(a,m))})};f._filterQueryResult=r._filterResult=function(a,b,c){return new m(r.filter(a,
b,c))};f.NodeList=r.NodeList=m;return r})},"dojo/selector/_loader":function(){define(["../has","require"],function(f,j){var i=document.createElement("div");f.add("dom-qsa2.1",!!i.querySelectorAll);f.add("dom-qsa3",function(){try{return i.innerHTML="<p class='TEST'></p>",1==i.querySelectorAll(".TEST:empty").length}catch(e){}});var k;return{load:function(e,d,h){var c=j,e="default"==e?f("config-selectorEngine")||"css3":e,e="css2"==e||"lite"==e?"./lite":"css2.1"==e?f("dom-qsa2.1")?"./lite":"./acme":"css3"==
e?f("dom-qsa3")?"./lite":"./acme":"acme"==e?"./acme":(c=d)&&e;if("?"==e.charAt(e.length-1))var e=e.substring(0,e.length-1),b=!0;if(b&&(f("dom-compliant-qsa")||k))return h(k);c([e],function(a){"./lite"!=e&&(k=a);h(a)})}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(f,j,i,k,e){var d=k.trim,h=i.forEach,c="BackCompat"==e.doc.compatMode,b=!1,a=function(){return!0},g=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":
a+" ",c=function(b,c){return d(a.slice(b,c))},g=[],e=-1,f=-1,h=-1,k=-1,l=-1,q=-1,j=-1,i,o="",n="",m,r=0,u=a.length,t=null,p=null,s=function(){if(0<=q)t.id=c(q,r).replace(/\\/g,""),q=-1;if(0<=j){var a=j==r?null:c(j,r);t[0>">~+".indexOf(a)?"tag":"oper"]=a;j=-1}0<=l&&(t.classes.push(c(l+1,r).replace(/\\/g,"")),l=-1)};o=n,n=a.charAt(r),r<u;r++)if("\\"!=o)if(t||(m=r,t={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return b?this.otag:this.tag}},j=r),i)n==i&&(i=null);
else if("'"==n||'"'==n)i=n;else if(0<=e)if("]"==n){p.attr?p.matchFor=c(h||e+1,r):p.attr=c(e+1,r);if((e=p.matchFor)&&('"'==e.charAt(0)||"'"==e.charAt(0)))p.matchFor=e.slice(1,-1);if(p.matchFor)p.matchFor=p.matchFor.replace(/\\/g,"");t.attrs.push(p);p=null;e=h=-1}else{if("="==n)h=0<="|~^$*".indexOf(o)?o:"",p.type=h+n,p.attr=c(e+1,r-h.length),h=r+1}else if(0<=f){if(")"==n){if(0<=k)p.value=c(f+1,r);k=f=-1}}else if("#"==n)s(),q=r+1;else if("."==n)s(),l=r;else if(":"==n)s(),k=r;else if("["==n)s(),e=r,p=
{};else if("("==n)0<=k&&(p={name:c(k+1,r),value:null},t.pseudos.push(p)),f=r;else if(" "==n&&o!=n){s();0<=k&&t.pseudos.push({name:c(k+1,r)});t.loops=t.pseudos.length||t.attrs.length||t.classes.length;t.oquery=t.query=c(m,r);t.otag=t.tag=t.oper?null:t.tag||"*";if(t.tag)t.tag=t.tag.toUpperCase();if(g.length&&g[g.length-1].oper)t.infixOper=g.pop(),t.query=t.infixOper.query+" "+t.query;g.push(t);t=null}return g},l=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,
arguments)}},o=function(a,b){var c=b||[];a&&c.push(a);return c},p=function(a){return 1==a.nodeType},m=function(a,c){return!a?"":"class"==c?a.className||"":"for"==c?a.htmlFor||"":"style"==c?a.style.cssText||"":(b?a.getAttribute(c):a.getAttribute(c,2))||""},n={"*=":function(a,b){return function(c){return 0<=m(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==m(c,a).indexOf(b)}},"$=":function(a,b){return function(c){var c=" "+m(c,a),d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},
"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+m(b,a)+" ").indexOf(c)}},"|=":function(a,b){var c=b+"-";return function(d){d=m(d,a);return d==b||0==d.indexOf(c)}},"=":function(a,b){return function(c){return m(c,a)==b}}},q="undefined"==typeof e.doc.firstChild.nextElementSibling,r=!q?"nextElementSibling":"nextSibling",t=!q?"previousElementSibling":"previousSibling",s=q?p:a,v=function(a){for(;a=a[t];)if(s(a))return!1;return!0},u=function(a){for(;a=a[r];)if(s(a))return!1;return!0},
x=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,g=a._i||a.getAttribute("_i")||-1,e=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(e==d&&0<=g&&0<=e)return g;j("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;g=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[r])if(s(b))j("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(g=c);return g},y=function(a){return!(x(a)%2)},L=function(a){return x(a)%
2},D={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return v},"last-child":function(){return u},"only-child":function(){return function(a){return v(a)&&u(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,
b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=g(b)[0],d={el:1};if("*"!=c.tag)d.tag=1;if(!c.classes.length)d.classes=1;var e=M(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){var c=parseInt;if("odd"==b)return L;if("even"==b)return y;if(-1!=b.indexOf("n")){var d=b.split("n",2),g=d[0]?"-"==d[0]?-1:c(d[0]):1,e=d[1]?c(d[1]):0,f=0,h=-1;0<g?0>e?e=e%g&&g+e%g:0<e&&(e>=g&&(f=e-e%g),e%=g):0>g&&(g*=-1,0<e&&
(h=e,e%=g));if(0<g)return function(a){a=x(a);return a>=f&&(0>h||a<=h)&&a%g==e};b=e}var k=c(b);return function(a){return x(a)==k}}},P=j("ie")&&(9>j("ie")||j("quirks"))?function(a){var c=a.toLowerCase();"class"==c&&(a="className");return function(d){return b?d.getAttribute(a):d[a]||d[c]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},M=function(c,d){if(!c)return a;var d=d||{},g=null;"el"in d||(g=l(g,p));"tag"in d||"*"!=c.tag&&(g=l(g,function(a){return a&&(b?a.tagName:
a.tagName.toUpperCase())==c.getTag()}));"classes"in d||h(c.classes,function(a,b){var c=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");g=l(g,function(a){return c.test(a.className)});g.count=b});"pseudos"in d||h(c.pseudos,function(a){var b=a.name;D[b]&&(g=l(g,D[b](b,a.value)))});"attrs"in d||h(c.attrs,function(a){var b,c=a.attr;a.type&&n[a.type]?b=n[a.type](c,a.matchFor):c.length&&(b=P(c));b&&(g=l(g,b))});"id"in d||c.id&&(g=l(g,function(a){return!!a&&a.id==c.id}));g||"default"in d||(g=a);return g},U=function(a){return function(b,
c,d){for(;b=b[r];)if(!q||p(b)){(!d||S(b,d))&&a(b)&&c.push(b);break}return c}},R=function(a){return function(b,c,d){for(b=b[r];b;){if(s(b)){if(d&&!S(b,d))break;a(b)&&c.push(b)}b=b[r]}return c}},A=function(b){b=b||a;return function(a,c,d){for(var g=0,e=a.children||a.childNodes;a=e[g++];)s(a)&&(!d||S(a,d))&&b(a,g)&&c.push(a);return c}},z={},w=function(b){var d=z[b.query];if(d)return d;var g=b.infixOper,g=g?g.oper:"",h=M(b,{el:1}),k="*"==b.tag,l=e.doc.getElementsByClassName;if(g){l={el:1};if(k)l.tag=
1;h=M(b,l);"+"==g?d=U(h):"~"==g?d=R(h):">"==g&&(d=A(h))}else if(b.id)h=!b.loops&&k?a:M(b,{el:1,id:1}),d=function(a,c){var d=f.byId(b.id,a.ownerDocument||a);if(d&&h(d)){if(9==a.nodeType)return o(d,c);for(var g=d.parentNode;g&&!(g==a);)g=g.parentNode;if(g)return o(d,c)}};else if(l&&/\{\s*\[native code\]\s*\}/.test(""+l)&&b.classes.length&&!c)var h=M(b,{el:1,classes:1,id:1}),q=b.classes.join(" "),d=function(a,b,c){for(var b=o(0,b),d,g=0,e=a.getElementsByClassName(q);d=e[g++];)h(d,a)&&S(d,c)&&b.push(d);
return b};else!k&&!b.loops?d=function(a,c,d){for(var c=o(0,c),g=0,e=b.getTag(),e=e?a.getElementsByTagName(e):[];a=e[g++];)S(a,d)&&c.push(a);return c}:(h=M(b,{el:1,tag:1,id:1}),d=function(a,c,d){for(var c=o(0,c),g,e=0,f=(g=b.getTag())?a.getElementsByTagName(g):[];g=f[e++];)h(g,a)&&S(g,d)&&c.push(g);return c});return z[b.query]=d},B={},G={},E=function(a){var b=g(d(a));if(1==b.length){var c=w(b[0]);return function(a){if(a=c(a,[]))a.nozip=!0;return a}}return function(a){for(var a=o(a),c,d,g=b.length,
e,f,h=0;h<g;h++){f=[];c=b[h];d=a.length-1;if(0<d)e={},f.nozip=!0;d=w(c);for(var k=0;c=a[k];k++)d(c,f,e);if(!f.length)break;a=f}return f}},J=j("ie")?"commentStrip":"nozip",F=!!e.doc.querySelectorAll,N=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,C=function(a,b,c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},K=/([^[]*)([^\]]*])?/g,Q=function(a,b,c){return b.replace(N,C)+(c||"")},H=function(a,b){a=a.replace(K,Q);if(F){var d=G[a];if(d&&!b)return d}if(d=B[a])return d;var d=a.charAt(0),g=-1==a.indexOf(" ");0<=
a.indexOf("#")&&g&&(b=!0);if(F&&!b&&-1==">~+".indexOf(d)&&(!j("ie")||-1==a.indexOf(":"))&&!(c&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var e=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return G[a]=function(b){try{if(!(9==b.nodeType||g))throw"";var c=b.querySelectorAll(e);c[J]=!0;return c}catch(d){return H(a,!0)(b)}}}var f=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return B[a]=2>f.length?E(a):function(a){for(var b=0,c=[],
d;d=f[b++];)c=c.concat(E(d)(a));return c}},I=0,O=j("ie")?function(a){return b?a.getAttribute("_uid")||a.setAttribute("_uid",++I)||I:a.uniqueID}:function(a){return a._uid||(a._uid=++I)},S=function(a,b){if(!b)return 1;var c=O(a);return!b[c]?b[c]=1:0},Y=function(a){if(a&&a.nozip)return a;var c=[];if(!a||!a.length)return c;a[0]&&c.push(a[0]);if(2>a.length)return c;I++;var d,g;if(j("ie")&&b){var e=I+"";a[0].setAttribute("_zipIdx",e);for(d=1;g=a[d];d++)a[d].getAttribute("_zipIdx")!=e&&c.push(g),g.setAttribute("_zipIdx",
e)}else if(j("ie")&&a.commentStrip)try{for(d=1;g=a[d];d++)p(g)&&c.push(g)}catch(f){}else{a[0]&&(a[0]._zipIdx=I);for(d=1;g=a[d];d++)a[d]._zipIdx!=I&&c.push(g),g._zipIdx=I}return c},W=function(a,c){c=c||e.doc;b="div"===(c.ownerDocument||c).createElement("div").tagName;var d=H(a)(c);return d&&d.nozip?d:Y(d)};W.filter=function(a,b,c){for(var d=[],e=g(b),e=1==e.length&&!/[^\w#\.]/.test(b)?M(e[0]):function(a){return-1!=i.indexOf(W(b,f.byId(c)),a)},h=0,k;k=a[h];h++)e(k)&&d.push(k);return d};return W})},
"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(f,j,i,k,e,d,h,c,b){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var g=function(a){return 1==a.length&&"string"==typeof a[0]},l=function(a){var b=a.parentNode;b&&b.removeChild(a)},o=j.NodeList,p=o._adaptWithCondition,m=o._adaptAsForEach,n=o._adaptAsMap;k.extend(o,
{_normalize:function(a,b){var c=!0===a.parse;if("string"==typeof a.template)var g=a.templateFunc||f.string&&f.string.substitute,a=g?g(a.template,a):a;g=typeof a;"string"==g||"number"==g?(a=d.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?k._toArray(a.childNodes):[a]):k.isArrayLike(a)?k.isArray(a)||(a=k._toArray(a)):a=[a];if(c)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,c,g){if(!(1!=b.nodeType&&"only"==c))for(var e,h=a.length,k=h-1;0<=k;k--){var l=g?this._cloneNode(a[k]):
a[k];if(a._runParse&&f.parser&&f.parser.parse){e||(e=b.ownerDocument.createElement("div"));e.appendChild(l);f.parser.parse(e);for(l=e.firstChild;e.firstChild;)e.removeChild(e.firstChild)}k==h-1?d.place(l,b,c):b.parentNode.insertBefore(l,b);b=l}},position:n(h.position),attr:p(a(c),g),style:p(a(b),g),addClass:m(e.add),removeClass:m(e.remove),toggleClass:m(e.toggle),replaceClass:m(e.replace),empty:m(d.empty),removeAttr:m(c.remove),marginBox:n(h.getMarginBox),place:function(a,b){var c=j(a)[0];return this.forEach(function(a){d.place(a,
c,b)})},orphan:function(a){return(a?j._filterResult(this,a):this).forEach(l)},adopt:function(a,b){return j(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new o;this.map(function(c){j(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=j._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(i.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){for(var a=
this._normalize(a,this[0]),c=0,d;d=this[c];c++)this._place(a,d,b,0<c);return this}});return o})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n){f._xhrObj=m._create;var q=f.config;f.objectToQuery=k.objectToQuery;f.queryToObject=k.queryToObject;f.fieldToObject=d.fieldToObject;f.formToObject=d.toObject;
f.formToQuery=d.toQuery;f.formToJson=d.toJson;f._blockAsync=!1;var r=f._contentHandlers=f.contentHandlers={text:function(a){return a.responseText},json:function(a){return b.fromJson(a.responseText||null)},"json-comment-filtered":function(a){c.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var a=a.responseText,d=a.indexOf("/*"),g=a.lastIndexOf("*/");if(-1==d||-1==g)throw Error("JSON was not comment filtered");return b.fromJson(a.substring(d+2,g))},javascript:function(a){return f.eval(a.responseText)},xml:function(a){var b=a.responseXML;if(j("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),c(2)];g.some(c,function(c){try{var d=new ActiveXObject(c);d.async=!1;d.loadXML(a.responseText);b=d}catch(g){return!1}return!0})}return b},
"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?r["json-comment-filtered"](a):r.json(a)}};f._ioSetArgs=function(b,c,g,l){var j={args:b,url:b.url},i=null;if(b.form){var i=e.byId(b.form),o=i.getAttributeNode("action");j.url=j.url||(o?o.value:null);i=d.toObject(i)}o=[{}];i&&o.push(i);b.content&&o.push(b.content);b.preventCache&&o.push({"dojo.preventCache":(new Date).valueOf()});j.query=k.objectToQuery(a.mixin.apply(null,o));j.handleAs=b.handleAs||"text";
var n=new h(function(a){a.canceled=!0;c&&c(a);var b=a.ioArgs.error;if(!b)b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b;return b});n.addCallback(g);var m=b.load;m&&a.isFunction(m)&&n.addCallback(function(a){return m.call(b,a,j)});var r=b.error;r&&a.isFunction(r)&&n.addErrback(function(a){return r.call(b,a,j)});var t=b.handle;t&&a.isFunction(t)&&n.addBoth(function(a){return t.call(b,a,j)});n.addErrback(function(a){return l(a,n)});q.ioPublish&&f.publish&&!1!==j.args.ioPublish&&(n.addCallbacks(function(a){f.publish("/dojo/io/load",
[n,a]);return a},function(a){f.publish("/dojo/io/error",[n,a]);return a}),n.addBoth(function(a){f.publish("/dojo/io/done",[n,a]);return a}));n.ioArgs=j;return n};var t=function(a){a=r[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},s=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},v=function(a){0>=u&&(u=0,q.ioPublish&&f.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&f.publish("/dojo/io/stop"))},u=0;o.after(p,"_onAction",function(){u-=1});o.after(p,"_onInFlight",v);f._ioCancelAll=
p.cancelAll;f._ioNotifyStart=function(a){q.ioPublish&&f.publish&&!1!==a.ioArgs.args.ioPublish&&(u||f.publish("/dojo/io/start"),u+=1,f.publish("/dojo/io/send",[a]))};f._ioWatch=function(b,c,d,g){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(){return c(b)},isReady:function(){return d(b)},handleResponse:function(){return g(b)}});p(b);v(b)};f._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};f.xhr=function(a,b,c){var d,
g=f._ioSetArgs(b,function(){d&&d.cancel()},t,s),e=g.ioArgs;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(a.toUpperCase()))&&f._ioAddQueryToUrl(e);var h={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:e};if("undefined"!==typeof b.headers)h.headers=b.headers;if("undefined"!==typeof b.contentType){if(!h.headers)h.headers={};h.headers["Content-Type"]=b.contentType}if("undefined"!==
typeof e.query)h.data=e.query;if("undefined"!==typeof b.sync)h.sync=b.sync;f._ioNotifyStart(g);try{d=m(e.url,h,!0)}catch(k){return g.cancel(),g}g.ioArgs.xhr=d.response.xhr;d.then(function(){g.resolve(g)}).otherwise(function(a){e.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;g.reject(a)});return g};f.xhrGet=function(a){return f.xhr("GET",a)};f.rawXhrPost=f.xhrPost=function(a){return f.xhr("POST",a,!0)};f.rawXhrPut=f.xhrPut=function(a){return f.xhr("PUT",
a,!0)};f.xhrDelete=function(a){return f.xhr("DELETE",a)};f._isDocumentOk=function(a){return n.checkStatus(a.status)};f._getText=function(a){var b;f.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(f.xhr,{_xhrObj:f._xhrObj,fieldToObject:d.fieldToObject,formToObject:d.toObject,objectToQuery:k.objectToQuery,formToQuery:d.toQuery,formToJson:d.toJson,queryToObject:k.queryToObject,contentHandlers:r,_ioSetArgs:f._ioSetArgs,_ioCancelAll:f._ioCancelAll,_ioNotifyStart:f._ioNotifyStart,_ioWatch:f._ioWatch,
_ioAddQueryToUrl:f._ioAddQueryToUrl,_isDocumentOk:f._isDocumentOk,_getText:f._getText,get:f.xhrGet,post:f.xhrPost,put:f.xhrPut,del:f.xhrDelete});return f.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(f){var j={};return{objectToQuery:function(i){var k=encodeURIComponent,e=[],d;for(d in i){var h=i[d];if(h!=j[d]){var c=k(d)+"=";if(f.isArray(h))for(var b=0,a=h.length;b<a;++b)e.push(c+k(h[b]));else e.push(c+k(h))}}return e.join("&")},queryToObject:function(j){for(var k=decodeURIComponent,
j=j.split("&"),e={},d,h,c=0,b=j.length;c<b;++c)if(h=j[c],h.length){var a=h.indexOf("=");0>a?(d=k(h),h=""):(d=k(h.slice(0,a)),h=k(h.slice(a+1)));"string"==typeof e[d]&&(e[d]=[e[d]]);f.isArray(e[d])?e[d].push(h):e[d]=h}return e}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(f,j,i,k){var e={fieldToObject:function(d){var e=null;if(d=j.byId(d)){var c=d.name,b=(d.type||"").toLowerCase();if(c&&b&&!d.disabled)if("radio"==b||"checkbox"==b){if(d.checked)e=d.value}else if(d.multiple){e=
[];for(d=[d.firstChild];d.length;)for(c=d.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&e.push(c.value);else{c.nextSibling&&d.push(c.nextSibling);c.firstChild&&d.push(c.firstChild);break}}else e=d.value}return e},toObject:function(d){for(var h={},d=j.byId(d).elements,c=0,b=d.length;c<b;++c){var a=d[c],g=a.name,k=(a.type||"").toLowerCase();if(g&&k&&0>"file|submit|image|reset|button".indexOf(k)&&!a.disabled){var i=h,p=g,a=e.fieldToObject(a);if(null!==a){var m=
i[p];"string"==typeof m?i[p]=[m,a]:f.isArray(m)?m.push(a):i[p]=a}if("image"==k)h[g+".x"]=h[g+".y"]=h[g].x=h[g].y=0}}return h},toQuery:function(d){return i.objectToQuery(e.toObject(d))},toJson:function(d,f){return k.stringify(e.toObject(d),null,f?4:0)}};return e})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(f,j,i,k,e,d){function h(){for(var d=
+new Date,e=0,f;e<a.length&&(f=a[e]);e++){var h=f.response,k=h.options;if(f.isCanceled&&f.isCanceled()||f.isValid&&!f.isValid(h))a.splice(e--,1),c._onAction&&c._onAction();else if(f.isReady&&f.isReady(h))a.splice(e--,1),f.handleResponse(h),c._onAction&&c._onAction();else if(f.startTime&&f.startTime+(k.timeout||0)<d)a.splice(e--,1),f.cancel(new j("Timeout exceeded",h)),c._onAction&&c._onAction()}c._onInFlight&&c._onInFlight(f);a.length||(clearInterval(b),b=null)}function c(c){if(c.response.options.timeout)c.startTime=
+new Date;c.isFulfilled()||(a.push(c),b||(b=setInterval(h,50)),c.response.options.sync&&h())}var b=null,a=[];c.cancelAll=function(){try{k.forEach(a,function(a){try{a.cancel(new i("All requests canceled."))}catch(b){}})}catch(b){}};e&&d&&e.doc.attachEvent&&d(e.global,"unload",function(){c.cancelAll()});return c})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(f,j,i,k,e,d,h){function c(a){return b(a)}
f.deepCopy=function(a,b){for(var c in b){var d=a[c],e=b[c];d!==e&&(d&&"object"===typeof d&&e&&"object"===typeof e?f.deepCopy(d,e):a[c]=e)}return a};f.deepCreate=function(a,b){var b=b||{},c=h.delegate(a),d,e;for(d in a)(e=a[d])&&"object"===typeof e&&(c[d]=f.deepCreate(e,b[d]));return f.deepCopy(c,b)};var b=Object.freeze||function(a){return a};f.deferred=function(a,d,e,o,p,m){var n=new k(function(b){d&&d(n,a);return!b||!(b instanceof j)&&!(b instanceof i)?new i("Request canceled",a):b});n.response=
a;n.isValid=e;n.isReady=o;n.handleResponse=p;e=n.then(c).otherwise(function(b){b.response=a;throw b;});f.notify&&e.then(h.hitch(f.notify,"emit","load"),h.hitch(f.notify,"emit","error"));o=e.then(function(a){return a.data||a.text});e=b(h.delegate(o,{response:e}));m&&n.then(function(a){m.call(n,a)},function(b){m.call(n,a,b)});n.promise=e;n.then=e.then;return n};f.addCommonMethods=function(a,b){d.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,
d){d=h.delegate(d||{});d.method=b;return a(c,d)}})};f.parseArgs=function(a,b,c){var d=b.data,f=b.query;if(d&&!c&&"object"===typeof d)b.data=e.objectToQuery(d);f?("object"===typeof f&&(f=e.objectToQuery(f)),b.preventCache&&(f+=(f?"&":"")+"request.preventCache="+ +new Date)):b.preventCache&&(f="request.preventCache="+ +new Date);a&&f&&(a+=(~a.indexOf("?")?"&":"?")+f);return{url:a,options:b,getHeader:function(){return null}}};f.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||
!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(f){return f("RequestError",function(f,i){this.response=i})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(f,j){return f("RequestTimeoutError",null,j,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(f,j,i,k,e){function d(a,b){var c=a.xhr;a.status=a.xhr.status;a.text=c.responseText;if("xml"===
a.options.handleAs)a.data=c.responseXML;if(!b)try{i(a)}catch(d){b=d}b?this.reject(b):k.checkStatus(c.status)?this.resolve(a):(b=new f("Unable to load "+a.url+" status: "+c.status,a),this.reject(b))}function h(i,q,m){var t=k.parseArgs(i,k.deepCreate(o,q),e("native-formdata")&&q&&q.data&&q.data instanceof FormData),i=t.url,q=t.options,p,v=k.deferred(t,g,c,b,d,function(){p&&p()}),u=t.xhr=h._create();if(!u)return v.cancel(new f("XHR was not created")),m?v:v.promise;t.getHeader=function(a){return this.xhr.getResponseHeader(a)};
a&&(p=a(u,v,t));var x=q.data,y=!q.sync,L=q.method;try{u.open(L,i,y,q.user||l,q.password||l);if(q.withCredentials)u.withCredentials=q.withCredentials;var D=q.headers,P;if(D)for(var M in D)"content-type"===M.toLowerCase()?P=D[M]:D[M]&&u.setRequestHeader(M,D[M]);P&&!1!==P&&u.setRequestHeader("Content-Type",P);(!D||!("X-Requested-With"in D))&&u.setRequestHeader("X-Requested-With","XMLHttpRequest");k.notify&&k.notify.emit("send",t,v.promise.cancel);u.send(x)}catch(U){v.reject(U)}j(v);u=null;return m?v:
v.promise}e.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});e.add("dojo-force-activex-xhr",function(){return e("activex")&&!document.addEventListener&&"file:"===window.location.protocol});e.add("native-xhr2",function(){if(e("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});e.add("native-formdata",function(){return"function"===typeof FormData});var c,b,a,g;e("native-xhr2")?(c=
function(){return!this.isFulfilled()},g=function(a,b){b.xhr.abort()},a=function(a,b,c){function d(){b.handleResponse(c)}function g(a){a=new f("Unable to load "+c.url+" status: "+a.target.status,c);b.handleResponse(c,a)}function e(a){if(a.lengthComputable)c.loaded=a.loaded,c.total=a.total,b.progress(c)}a.addEventListener("load",d,!1);a.addEventListener("error",g,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",
e,!1)}}):(c=function(a){return a.xhr.readyState},b=function(a){return 4===a.xhr.readyState},g=function(a,b){var c=b.xhr,d=typeof c.abort;("function"===d||"object"===d||"unknown"===d)&&c.abort()});var l,o={data:null,query:null,sync:!1,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};h._create=function(){throw Error("XMLHTTP not available");};if(e("native-xhr")&&!e("dojo-force-activex-xhr"))h._create=function(){return new XMLHttpRequest};else if(e("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),
h._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(p){try{new ActiveXObject("Microsoft.XMLHTTP"),h._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(m){}}k.addCommonMethods(h);return h})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(f,j,i,k){function e(b){var a=c[b.options.handleAs];b.data=a?a(b):b.data||b.text;return b}k.add("activex","undefined"!==typeof ActiveXObject);var d;if(k("activex")){var h=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];d=function(b){var a=b.data;if(!a||!a.documentElement){var c=b.text;i.some(h,function(b){try{var d=new ActiveXObject(b);d.async=!1;d.loadXML(c);a=d}catch(e){return!1}return!0})}return a}}var c={javascript:function(b){return j.eval(b.text||"")},json:function(b){return f.parse(b.text||null)},xml:d};e.register=function(b,a){c[b]=a};return e})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),
function(f,j,i,k,e,d,h,c,b){var a=i.mixin,g={},l=g._Line=function(a,b){this.start=a;this.end=b};l.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var o=g.Animation=function(b){a(this,b);if(i.isArray(this.curve))this.curve=new l(this.curve[0],this.curve[1])};o.prototype=new k;i.extend(o,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(j.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=i.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===
this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);
delete this._delayTimer}});var p=0,m=null,n={run:function(){}};i.extend(o,{_startTimer:function(){if(!this._timer)this._timer=d.connect(n,"run",this,"_cycle"),p++;m||(m=setInterval(i.hitch(n,"run"),this.rate))},_stopTimer:function(){if(this._timer)d.disconnect(this._timer),this._timer=null,p--;0>=p&&(clearInterval(m),m=null,p=0)}});var q=h("ie")?function(a){var c=a.style;if(!c.width.length&&"auto"==b.get(a,"width"))c.width="auto"}:function(){};g._fade=function(e){e.node=c.byId(e.node);var f=a({properties:{}},
e),e=f.properties.opacity={};e.start=!("start"in f)?function(){return+b.get(f.node,"opacity")||0}:f.start;e.end=f.end;e=g.animateProperty(f);d.connect(e,"beforeBegin",i.partial(q,f.node));return e};g.fadeIn=function(b){return g._fade(a({end:1},b))};g.fadeOut=function(b){return g._fade(a({end:0},b))};g._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var r=function(a){this._properties=a;for(var b in a){var c=a[b];if(c.start instanceof e)c.tempColor=new e}};r.prototype.getValue=function(a){var b=
{},c;for(c in this._properties){var d=this._properties[c],g=d.start;g instanceof e?b[c]=e.blendColors(g,d.end,a,d.tempColor).toCss():i.isArray(g)||(b[c]=(d.end-g)*a+g+("opacity"!=c?d.units||"px":0))}return b};g.animateProperty=function(g){var h=g.node=c.byId(g.node);if(!g.easing)g.easing=f._defaultEasing;g=new o(g);d.connect(g,"beforeBegin",g,function(){var c={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var g=this.properties[d];i.isFunction(g)&&(g=g(h));g=c[d]=
a({},i.isObject(g)?g:{end:g});if(i.isFunction(g.start))g.start=g.start(h);if(i.isFunction(g.end))g.end=g.end(h);var f=0<=d.toLowerCase().indexOf("color"),k=function(a,c){var d={height:a.offsetHeight,width:a.offsetWidth}[c];if(void 0!==d)return d;d=b.get(a,c);return"opacity"==c?+d:f?d:parseFloat(d)};if("end"in g){if(!("start"in g))g.start=k(h,d)}else g.end=k(h,d);f?(g.start=new e(g.start),g.end=new e(g.end)):g.start="opacity"==d?+g.start:parseFloat(g.start)}this.curve=new r(c)});d.connect(g,"onAnimate",
i.hitch(b,"set",g.node));return g};g.anim=function(a,b,c,d,e,f){return g.animateProperty({node:a,duration:c||o.prototype.duration,properties:b,easing:d,onEnd:e}).play(f||0)};a(f,g);f._Animation=o;return g})}}});
require({cache:{"phpr/main":function(){define("phpr/Api,phpr/BaseLayout,phpr/ViewManager,dojo/dom-construct,dojo/_base/window,dojo/window,dojo/parser,dojo/domReady!".split(","),function(f,j,i,k,e,d){var h=!1,c=!1,b=null,a=function(){f.getData("index.php/Core/module/jsonGetGlobalModules").then(function(a){f.config.set("globalModules",a.data);a=new j({},k.create("div",null,e.body()));a.startup();b=new i(a);b.startup();h=!0;c=!1})};!h&&!c&&(c=!0,f.config.set("csrfToken",d.get(e.doc).csrfToken),a())})},
"phpr/Api":function(){define("exports,dojo/_base/lang,dojo/_base/array,dojo/request/xhr,dojo/Deferred,dojo/json,dojo/topic".split(","),function(f,j,i,k,e,d,h){var c=function(){var a={};return{get:function(b){return a.hasOwnProperty(b)?a[b]:null},set:function(b,c){b&&(a[b]=c)}}}();f.config=c;f.getData=function(a,b){var c=j.mixin({handleAs:"json",headers:{"X-CSRFToken":this.config.get("csrfToken")}},b||{});return k.get(a,c)};f.isGlobalModule=function(a){var b=c.get("globalModules"),d;for(d in b)if(b[d].name==
a)return!0;return!1};f.projectTitleForId=function(){var a=null,b=new e;f.getData("index.php/Project/Project",{query:{projectId:1,recursive:!0}}).then(function(c){a={};i.forEach(c,function(b){a[b.id]=b.title});b.resolve(a);b=null});return function(c){if(1==c){var d=new e;d.resolve("Unassigned");return d}if(null===a)return b.then(function(a){return a[c]});d=new e;d.resolve(a[c]);return d}}();f.getModulePermissions=function(a){return f.getData("index.php/Default/index/jsonGetModulesPermission/nodeId/"+
a)};var b=function(a,b){h.publish("notification",{message:a},b)};f.errorHandlerForTag=function(a){return function(c){try{if(msg=d.parse(c,!0),msg.message)return b(msg.message,a)}catch(e){}try{if(c&&c.response&&c.response.text&&(msg=d.parse(c.response.text,!0),msg.message))return b(msg.message,a)}catch(f){}return b(c,a)}};f.defaultErrorHandler=f.errorHandlerForTag(void 0)})},"phpr/BaseLayout":function(){define("dojo/_base/declare,dojo/_base/lang,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!phpr/template/baseLayout.html,dijit/layout/ContentPane,phpr/Menubar,phpr/BookingList".split(","),
function(f,j,i,k,e,d){return f([i,k,e],{baseClass:"baseLayout",templateString:d,layout:function(){this.outerBorderContainer.layout.apply(this.outerBorderContainer,arguments)},resize:function(){this.outerBorderContainer.resize.apply(this.outerBorderContainer,arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o){function p(){}function m(a){return function(b,c,d,g){return b&&"string"==typeof c&&b[c]==p?b.on(c.substring(2).toLowerCase(),h.hitch(d,g)):a.apply(i,arguments)}}f.around(i,"connect",m);d.connect&&f.around(d,"connect",m);f=k("dijit._Widget",[g,l,o],{onClick:p,onDblClick:p,onKeyDown:p,onKeyPress:p,onKeyUp:p,onMouseDown:p,onMouseMove:p,onMouseOut:p,onMouseOver:p,onMouseLeave:p,onMouseEnter:p,onMouseUp:p,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
p&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===p?i.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){if(j.isDebug){var c=arguments.callee._ach||(arguments.callee._ach={}),g=(arguments.callee.caller||"unknown caller").toString();c[g]||(d.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+g,"","2.0"),c[g]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?c("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});e("dijit-legacy-requires")&&b(0,function(){require(["dijit/_base"])});return f})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(f,j,i,k,e){var d={},h={},c={length:0,add:function(b){if(h[b.id])throw Error("Tried to register widget with id=="+
b.id+" but that id is already registered");h[b.id]=b;this.length++},remove:function(b){h[b]&&(delete h[b],this.length--)},byId:function(b){return"string"==typeof b?h[b]:b},byNode:function(b){return h[b.getAttribute("widgetId")]},toArray:function(){var b=[],a;for(a in h)b.push(h[a]);return b},getUniqueId:function(b){var a;do a=b+"_"+(b in d?++d[b]:d[b]=0);while(h[a]);return"dijit"==e._scopeName?a:e._scopeName+"_"+a},findWidgets:function(b,a){function c(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==
b.nodeType){var e=b.getAttribute("widgetId");e?(e=h[e])&&d.push(e):b!==a&&c(b)}}var d=[];c(b);return d},_destroyAll:function(){e._curFocus=null;e._prevFocus=null;e._activeStack=[];f.forEach(c.findWidgets(k.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var a=b.getAttribute&&b.getAttribute("widgetId");if(a)return h[a];b=b.parentNode}return null},_hash:h};return e.registry=c})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(f){return f.dijit})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q,r,t,s,v,u){function x(a){return function(b){c[b?"set":"remove"](this.domNode,
a,b);this._set(a,b)}}o.add("dijit-legacy-requires",!p.isAsync);o("dijit-legacy-requires")&&q(0,function(){f(["dijit/_base/manager"])});var y={};return d("dijit._WidgetBase",[r,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:x("lang"),dir:"",_setDirAttr:x("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:k.blankGif||f.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=h.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,m.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=u.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:s.doc);this.ownerDocumentBody=s.body(this.ownerDocument);u.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],c;for(c in this.attributeMap)b.push(c);
var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}var g={},e;for(e in this.params||{})g[e]=this[e];j.forEach(b,function(a){a in g||this[a]&&this.set(a,this[a])},this);for(e in g)this.set(e,g[e])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");
this.isLeftToRight()||(a=a.concat(j.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,j.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=
!0;this.uninitialize();j.forEach(this._connects,m.hitch(this,"disconnect"));j.forEach(this._supportingWidgets,b);this.domNode&&j.forEach(u.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);u.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?c.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},
destroyDescendants:function(a){j.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;m.isObject(a)?l.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,d,g){g=3<=arguments.length?g:this.attributeMap[a];j.forEach(m.isArray(g)?g:[g],function(g){var e=this[g.node||g||"domNode"];switch(g.type||"attribute"){case "attribute":m.isFunction(d)&&
(d=m.hitch(this,d));g=g.attribute?g.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?c.set(e,g,d):e.set(g,d);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(d));break;case "innerHTML":e.innerHTML=d;break;case "class":b.replace(e,d,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=
this[c.s];if(m.isFunction(d))var g=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!m.isFunction(this.focusNode)?"focusNode":"domNode",e=this[d].tagName,f;if(!(f=y[e])){f=this[d];var h={},k;for(k in f)h[k.toLowerCase()]=!0;f=y[e]=h}k=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in f&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=k&&this._attrToDom(a,b,k);this._set(a,b)}return g||this},_attrPairNames:{},_getAttrNames:function(a){var b=
this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},emit:function(a,b,c){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail=
{};b.detail.widget=this;var d,g=this["on"+a];g&&(d=g.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&n.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?i.after(this,c,b,!0):this.own(n(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+
this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?u.findWidgets(this.containerNode):[]},getParent:function(){return u.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(e.connect(a,b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(t.subscribe(a,m.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:g.isBodyLtr(this.ownerDocument)},
isFocusable:function(){return this.focus&&"none"!=l.get(this.domNode,"display")},placeAt:function(b,c){var d=!b.tagName&&u.byId(b);d&&d.addChild&&(!c||"number"===typeof c)?d.addChild(this,c):(d=d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:d.domNode:h.byId(b,this.ownerDocument),a.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var c=setTimeout(m.hitch(this,
function(){c=null;this._destroyed||m.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(f,j,i,k){return f("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(e){var d=this._attrPairNames;return d[e]?d[e]:d[e]={s:"_"+e+"Setter",g:"_"+e+"Getter"}},postscript:function(e){e&&this.set(e)},_get:function(e,d){return"function"===typeof this[d.g]?
this[d.g]():this[e]},get:function(e){return this._get(e,this._getAttrNames(e))},set:function(e,d){if("object"===typeof e){for(var f in e)e.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,e[f]);return this}f=this._getAttrNames(e);var c=this._get(e,f);f=this[f.s];var b;"function"===typeof f?b=f.apply(this,Array.prototype.slice.call(arguments,1)):this[e]=d;if(this._watchCallbacks){var a=this;k(b,function(){a._watchCallbacks(e,c,d)})}return this},_changeAttrValue:function(e,d){var f=this.get(e);this[e]=
d;this._watchCallbacks&&this._watchCallbacks(e,f,d);return this},watch:function(e,d){var f=this._watchCallbacks;if(!f)var c=this,f=this._watchCallbacks=function(a,b,d,e){var k=function(e){if(e)for(var e=e.slice(),f=0,h=e.length;f<h;f++)e[f].call(c,a,b,d)};k(f["_"+a]);e||k(f["*"])};!d&&"function"===typeof e?(d=e,e="*"):e="_"+e;var b=f[e];"object"!==typeof b&&(b=f[e]=[]);b.push(d);var a={};a.unwatch=a.remove=function(){var a=i.indexOf(b,d);-1<a&&b.splice(a,1)};return a}})})},"dijit/Destroyable":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare"],function(f,j,i){return i("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){f.forEach(arguments,function(f){var e="destroyRecursive"in f?"destroyRecursive":"destroy"in f?"destroy":"remove",d=j.before(this,"destroy",function(d){f[e](d)});j.after(f,e,function(){d.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),
function(f,j,i,k,e,d,h,c){f=k("dijit._OnDijitClickMixin",null,{connect:function(b,a,d){return this.inherited(arguments,[b,"ondijitclick"==a?c:a,d])}});f.a11yclick=c;return f})},"dijit/a11yclick":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),function(f,j,i,k,e,d,h){function c(a){return(a.keyCode===i.ENTER||a.keyCode===i.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var b=null;e("dom-addeventlistener")?h.doc.addEventListener("keydown",
function(a){b=a.target},!0):function(){var a=function(a){b=a.srcElement};h.doc.attachEvent("onkeydown",a);d.addOnWindowUnload(function(){h.doc.detachEvent("onkeydown",a)})}();return function(a,d){if(/input|button/i.test(a.nodeName))return f(a,"click",d);var h=[f(a,"keydown",function(a){if(c(a))b=a.target,a.preventDefault()}),f(a,"keyup",function(a){c(a)&&a.target==b&&(b=null,f.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),f(a,"click",function(a){d.call(this,a)})];if(e("touch")){var k;h.push(f(a,
"touchend",function(a){var b=a.target;k=setTimeout(function(){k=null;f.emit(b,"click",{cancelable:!0,bubbles:!0})},600)}),f(a,"click",function(){k&&clearTimeout(k)}))}return{remove:function(){j.forEach(h,function(a){a.remove()});k&&(clearTimeout(k),k=null)}}}})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(f,j,i,k){k.extend(j,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});
return i("dijit._FocusMixin",null,{_focusManager:f})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q){var r=new (j([g,d],{curNode:null,activeStack:[],constructor:function(){var a=h.hitch(this,function(a){i.isDescendant(this.curNode,a)&&this.set("curNode",
null);i.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});f.before(e,"empty",a);f.before(e,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,c){var d=this,g=function(b){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},0);if(!a("ie")||!b||!(b.srcElement&&null==b.srcElement.parentNode))d._onTouchNode(c||b.target||b.srcElement,"mouse")},e=a("ie")?b.document.documentElement:b.document;if(e){if(a("ie")){b.document.body.attachEvent("onmousedown",
g);var f=function(a){var b=a.srcElement.tagName.toLowerCase();"#document"==b||"body"==b||(m.isTabNavigable(a.srcElement)?d._onFocusNode(c||a.srcElement):d._onTouchNode(c||a.srcElement))};e.attachEvent("onfocusin",f);var h=function(a){d._onBlurNode(c||a.srcElement)};e.attachEvent("onfocusout",h);return{remove:function(){b.document.detachEvent("onmousedown",g);e.detachEvent("onfocusin",f);e.detachEvent("onfocusout",h);e=null}}}e.body.addEventListener("mousedown",g,!0);e.body.addEventListener("touchstart",
g,!0);var k=function(a){d._onFocusNode(c||a.target)};e.addEventListener("focus",k,!0);var l=function(a){d._onBlurNode(c||a.target)};e.addEventListener("blur",l,!0);return{remove:function(){e.body.removeEventListener("mousedown",g,!0);e.body.removeEventListener("touchstart",g,!0);e.removeEventListener("focus",k,!0);e.removeEventListener("blur",l,!0);e=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",
this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var c=[];try{for(;a;){var d=k.get(a,"dijitPopupParent");if(d)a=n.byId(d).domNode;else if(a.tagName&&
"body"==a.tagName.toLowerCase()){if(a===o.body())break;a=p.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),e=g&&n.byId(g);e&&!("mouse"==b&&e.get("disabled"))&&c.unshift(g);a=a.parentNode}}}catch(f){}this._setStack(c,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,
b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length)&&!(c[d]!=a[d]);d++);for(var g,e=c.length-1;e>=d;e--)if(g=n.byId(c[e]))g._hasBeenBlurred=!0,g.set("focused",!1),g._focusManager==this&&g._onBlur(b),this.emit("widget-blur",g,b);for(e=d;e<a.length;e++)if(g=n.byId(a[e]))g.set("focused",!0),g._focusManager==this&&g._onFocus(b),this.emit("widget-focus",g,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));b(function(){var b=r.registerWin(p.get(o.doc));a("ie")&&
l.addOnWindowUnload(function(){b&&(b.remove(),b=null)})});q.focus=function(a){r.focus(a)};for(var t in r)/^_/.test(t)||(q.focus[t]="function"==typeof r[t]?h.hitch(r,t):r[t]);r.watch(function(a,b,c){q.focus[a]=c});return r})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),function(f,j,i,k,e,d){var h={getBox:function(c){var c=c||i.doc,b="BackCompat"==c.compatMode?i.body(c):c.documentElement,a=e.docScroll(c);if(j("touch"))var d=h.get(c),
c=d.innerWidth||b.clientWidth,b=d.innerHeight||b.clientHeight;else c=b.clientWidth,b=b.clientHeight;return{l:a.x,t:a.y,w:c,h:b}},get:function(c){if(j("ie")&&h!==document.parentWindow){c.parentWindow.execScript("document._parentWindow = window;","Javascript");var b=c._parentWindow;c._parentWindow=null;return b}return c.parentWindow||c.defaultView},scrollIntoView:function(c,b){try{var c=k.byId(c),a=c.ownerDocument||i.doc,g=i.body(a),f=a.documentElement||g.parentNode,h=j("ie"),p=j("webkit");if((!j("mozilla")&&
!h&&!p&&!j("opera")||c==g||c==f)&&"undefined"!=typeof c.scrollIntoView)c.scrollIntoView(!1);else{var m="BackCompat"==a.compatMode,n=9<=h&&"frameElement"in c.ownerDocument.parentWindow?0<f.clientHeight&&0<f.clientWidth&&(0==g.clientHeight||0==g.clientWidth||g.clientHeight>f.clientHeight||g.clientWidth>f.clientWidth)?f:g:m?g:f,p=p?g:n,q=n.clientWidth,r=n.clientHeight,t=!e.isBodyLtr(a),s=b||e.position(c),v=c.parentNode,a=function(a){return 6>=h||h&&m?!1:"fixed"==d.get(a,"position").toLowerCase()};if(!a(c))for(;v;){v==
g&&(v=p);var u=e.position(v),x=a(v);if(v==p){u.w=q;u.h=r;p==f&&h&&t&&(u.x+=p.offsetWidth-u.w);if(0>u.x||!h)u.x=0;if(0>u.y||!h)u.y=0}else{var y=e.getPadBorderExtents(v);u.w-=y.w;u.h-=y.h;u.x+=y.l;u.y+=y.t;var L=v.clientWidth,D=u.w-L;if(0<L&&0<D)u.w=L,u.x+=t&&(h||v.clientLeft>y.l)?D:0;L=v.clientHeight;D=u.h-L;if(0<L&&0<D)u.h=L}if(x){if(0>u.y)u.h+=u.y,u.y=0;if(0>u.x)u.w+=u.x,u.x=0;if(u.y+u.h>r)u.h=r-u.y;if(u.x+u.w>q)u.w=q-u.x}var P=s.x-u.x,M=s.y-Math.max(u.y,0),U=P+s.w-u.w,R=M+s.h-u.h;if(0<U*P){var A=
Math[0>P?"max":"min"](P,U);if(t&&(8==h&&!m||9<=h))A=-A;s.x+=v.scrollLeft;v.scrollLeft+=A;s.x-=v.scrollLeft}0<R*M&&(s.y+=v.scrollTop,v.scrollTop+=Math[0>M?"max":"min"](M,R),s.y-=v.scrollTop);v=v!=p&&!x&&v.parentNode}}}catch(z){console.error("scrollIntoView: "+z),c.scrollIntoView(!1)}}};f.setObject("dojo.window",h);return h})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),function(f,j,i,k,e,d,
h,c){var b=c._isElementShown=function(a){var b=d.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=e.get(a,"type")};c.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return e.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(d){try{b=a.contentWindow.document.body}catch(f){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var a=c.isTabNavigable=function(a){return e.get(a,"disabled")?!1:e.has(a,"tabIndex")?0<=e.get(a,"tabIndex"):c.hasDefaultTabStop(a)};c._getTabNavigable=function(c){function d(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var f,k,j,i,q,r,t={},s=function(c){for(c=c.firstChild;c;c=c.nextSibling)if(!(1!=c.nodeType||
h("ie")&&"HTML"!==c.scopeName||!b(c))){if(a(c)){var g=+e.get(c,"tabIndex");if(!e.has(c,"tabIndex")||0==g)f||(f=c),k=c;else if(0<g){if(!j||g<i)i=g,j=c;if(!q||g>=r)r=g,q=c}g=d(c);e.get(c,"checked")&&g&&(t[g]=c)}"SELECT"!=c.nodeName.toUpperCase()&&s(c)}};b(c)&&s(c);return{first:t[d(f)]||f,last:t[d(k)]||k,lowest:t[d(j)]||j,highest:t[d(q)]||q}};c.getFirstInTabbingOrder=function(a,b){var d=c._getTabNavigable(k.byId(a,b));return d.lowest?d.lowest:d.first};c.getLastInTabbingOrder=function(a,b){var d=c._getTabNavigable(k.byId(a,
b));return d.last?d.last:d.highest};return{hasDefaultTabStop:c.hasDefaultTabStop,isTabNavigable:c.isTabNavigable,_getTabNavigable:c._getTabNavigable,getFirstInTabbingOrder:c.getFirstInTabbingOrder,getLastInTabbingOrder:c.getLastInTabbingOrder}})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(f,j,i,k,e){var d=e.doc.documentElement,h=k("ie"),c=k("opera"),b=Math.floor,a=k("ff"),e=f.boxModel.replace(/-/,""),h={dj_ie:h,dj_ie6:6==b(h),dj_ie7:7==
b(h),dj_ie8:8==b(h),dj_ie9:9==b(h),dj_quirks:k("quirks"),dj_iequirks:h&&k("quirks"),dj_opera:c,dj_khtml:k("khtml"),dj_webkit:k("webkit"),dj_safari:k("safari"),dj_chrome:k("chrome"),dj_gecko:k("mozilla"),dj_ff3:3==b(a)};h["dj_"+e]=!0;var g="",l;for(l in h)h[l]&&(g+=l+" ");d.className=j.trim(d.className+" "+g);i(90,function(){if(!f.isBodyLtr()){var a="dj_rtl dijitRtl "+g.replace(/ /g,"-rtl ");d.className=j.trim(d.className+" "+a+"dj_rtl dijitRtl "+g.replace(/ /g,"-rtl "))}});return k})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/ready","dojo/_base/window"],function(f,j,i,k){i(90,function(){j("highcontrast")&&f.add(k.body(),"dijit_a11y")});return j})},"dojo/hccss":function(){define("dojo/hccss","require,./_base/config,./dom-class,./dom-construct,./dom-style,./has,./ready,./_base/window".split(","),function(f,j,i,k,e,d,h,c){d.add("highcontrast",function(){var b=c.doc.createElement("div");b.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+
(j.blankGif||f.toUrl("./resources/blank.gif"))+");";c.body().appendChild(b);var a=e.getComputedStyle(b),d=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||d&&("none"==d||"url(invalid-url:)"==d);k.destroy(b);return a});h(90,function(){d("highcontrast")&&i.add(c.body(),"dj_a11y")});return d})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),
function(f,j,i,k,e,d,h,c,b,a){var g=h("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;return k.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=f.getObject(d.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},
buildRendering:function(){if(!this.templateString)this.templateString=e(this.templatePath,{sanitize:!0});var a=g.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(f.isString(a)){if(b=c.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},
_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var c=f.isArray(a)?a:a.all||a.getElementsByTagName("*"),d=f.isArray(a)?0:-1;0>d||c[d];d++){var g=-1==d?a:c[d];if(!this.widgetsInTemplate||!b(g,"dojoType")&&!b(g,"data-dojo-type")){var e=b(g,"dojoAttachPoint")||b(g,"data-dojo-attach-point");if(e)for(var h=e.split(/\s*,\s*/);e=h.shift();)f.isArray(this[e])?this[e].push(g):
this[e]=g,this._attachPoints.push(e);if(e=b(g,"dojoAttachEvent")||b(g,"data-dojo-attach-event"))for(var h=e.split(/\s*,\s*/),k=f.trim;e=h.shift();)if(e){var i=null;-1!=e.indexOf(":")?(i=e.split(":"),e=k(i[0]),i=k(i[1])):e=k(e);i||(i=e);this._attachEvents.push(this.connect(g,j[e]||e,i))}}}},destroyRendering:function(){d.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];d.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});
g._templateCache={};g.getCachedTemplate=function(a,b,d){var e=g._templateCache,f=a,h=e[f];if(h){try{if(!h.ownerDocument||h.ownerDocument==(d||document))return h}catch(j){}c.destroy(h)}a=k.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[f]=a;b=c.toDom(a,d);if(1!=b.nodeType)throw Error("Invalid template: "+a);return e[f]=b};b("ie")&&a.addOnWindowUnload(function(){var a=g._templateCache,b;for(b in a){var d=a[b];"object"==typeof d&&c.destroy(d);delete a[b]}});f.extend(i,{dojoAttachEvent:"",dojoAttachPoint:""});
return g})},"dojo/touch":function(){define("./_base/kernel,./_base/lang,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),function(f,j,i,k,e,d,h,c,b){function a(a){return function(b,c){return e(b,a,c)}}var i=d("touch"),g=!1;d("ios")&&(d=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=5>parseFloat(d.replace(/_/,".").replace(/_/g,"")));var l,o;i&&(c(function(){o=b.body();b.doc.addEventListener("touchstart",function(a){var b=o;o=a.target;e.emit(b,"dojotouchout",{target:b,
relatedTarget:o,bubbles:!0});e.emit(o,"dojotouchover",{target:o,relatedTarget:b,bubbles:!0})},!0);e(b.doc,"touchmove",function(a){if((a=b.doc.elementFromPoint(a.pageX-(g?0:b.global.pageXOffset),a.pageY-(g?0:b.global.pageYOffset)))&&o!==a)e.emit(o,"dojotouchout",{target:o,relatedTarget:a,bubbles:!0}),e.emit(a,"dojotouchover",{target:a,relatedTarget:o,bubbles:!0}),o=a})}),l=function(a,c){return e(b.doc,"touchmove",function(d){(a===b.doc||k.isDescendant(o,a))&&c.call(this,j.mixin({},d,{target:o,touches:d.touches,
preventDefault:function(){d.preventDefault()},stopPropagation:function(){d.stopPropagation()}}))})});h={press:a(i?"touchstart":"mousedown"),move:i?l:a("mousemove"),release:a(i?"touchend":"mouseup"),cancel:i?a("touchcancel"):h.leave,over:a(i?"dojotouchover":"mouseover"),out:a(i?"dojotouchout":"mouseout"),enter:h._eventHandler(i?"dojotouchover":"mouseover"),leave:h._eventHandler(i?"dojotouchout":"mouseout")};return f.touch=h})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(f,
j){var i={};j.setObject("dojo.string",i);i.rep=function(f,e){if(0>=e||!f)return"";for(var d=[];;){e&1&&d.push(f);if(!(e>>=1))break;f+=f}return d.join("")};i.pad=function(f,e,d,h){d||(d="0");f=""+f;e=i.rep(d,Math.ceil((e-f.length)/d.length));return h?f+e:e+f};i.substitute=function(k,e,d,h){h=h||f.global;d=d?j.hitch(h,d):function(c){return c};return k.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(c,b,a){c=j.getObject(b,!1,e);a&&(c=j.getObject(a,!1,h).call(h,c,b));return d(c,b).toString()})};
i.trim=String.prototype.trim?j.trim:function(f){for(var f=f.replace(/^\s+/,""),e=f.length-1;0<=e;e--)if(/\S/.test(f.charAt(e))){f=f.substring(0,e+1);break}return f};return i})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(f){return f.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(f,j,i,k){var e;e=function(a,b,c){k("GET",{url:a,sync:!!b,load:c,headers:f.config.textPluginHeaders||{}})};var d={},h=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
""),b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},c={},b={};f.cache=function(a,b,c){var f;"string"==typeof a?/\//.test(a)?(f=a,c=b):f=j.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(f=a+"",c=b);a=void 0!=c&&"string"!=typeof c?c.value:c;c=c&&c.sanitize;if("string"==typeof a)return d[f]=a,c?h(a):a;if(null===a)return delete d[f],null;f in d||e(f,!0,function(a){d[f]=a});return c?h(d[f]):d[f]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?
b(d):d)+(c[1]?"!"+c[1]:"")},load:function(a,g,f){var a=a.split("!"),k=1<a.length,j=a[0],i=g.toUrl(a[0]),a="url:"+i,n=c,q=function(a){f(k?h(a):a)};j in d?n=d[j]:a in g.cache?n=g.cache[a]:i in d&&(n=d[i]);if(n===c)if(b[i])b[i].push(q);else{var r=b[i]=[q];e(i,!g.async,function(a){d[j]=d[i]=a;for(var c=0;c<r.length;)r[c++](a);delete b[i]})}else q(n)}}})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(f,j,i){return j("dijit._WidgetsInTemplateMixin",
null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,_beforeFillContent:function(){if(this.widgetsInTemplate){var f=this._startupWidgets=i.parse(this.domNode,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"});if(!f.isFulfilled())throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
this._attachTemplateNodes(f,function(e,d){return e[d]})}},startup:function(){f.forEach(this._startupWidgets,function(f){f&&!f._started&&f.startup&&f.startup()});this.inherited(arguments)}})})},"dojo/parser":function(){define("dojo/parser","require,./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n){function q(a){var b=a._nameCaseMap,
c=a.prototype;if(!b||b._extendCnt<t){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=t}return b}function r(a){var b=a.join();if(!s[b]){for(var c=[],d=0,g=a.length;d<g;d++){var e=a[d];c[c.length]=s[e]=s[e]||i.getObject(e)||~e.indexOf("/")&&f(e)}a=c.shift();s[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return s[b]}var t=0;a.after(i,"extend",function(){t++},!0);var s={},v={_clearCache:function(){t++;s={}},_functionFromScript:function(a,
b){var c="",d="",g=a.getAttribute(b+"args")||a.getAttribute("args"),e=a.getAttribute("with"),g=(g||"").split(/\s*,\s*/);e&&e.length&&k.forEach(e.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(g,c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||j._scopeName)+"Type",g="data-"+(c.scope||j._scopeName)+"-",e=g+"type",f=g+"mixins",h=[];k.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(e)||a.getAttribute(d);if(c){var g=a.getAttribute(f),c=g?
[c].concat(g.split(/\s*,\s*/)):[c];h.push({node:a,types:c})}});return this._instantiate(h,b,c)},_instantiate:function(a,b,c){a=k.map(a,function(a){var d=a.ctor||r(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&k.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},construct:function(d,e,f,h,l,n){var u;var r=d&&d.prototype,h=h||{},t={};
h.defaults&&i.mixin(t,h.defaults);n&&i.mixin(t,n);var v;o("dom-attributes-explicit")?v=e.attributes:o("dom-attributes-specified-flag")?v=k.filter(e.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(e.nodeName)?e:e.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),v=k.map(n.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==e.nodeName&&"value"==a||"enctype"==b?e.getAttribute(b):e.getAttributeNode(b).value}}));
var s=h.scope||j._scopeName,n="data-"+s+"-",z={};"dojo"!==s&&(z[n+"props"]="data-dojo-props",z[n+"type"]="data-dojo-type",z[n+"mixins"]="data-dojo-mixins",z[s+"type"]="dojoType",z[n+"id"]="data-dojo-id");for(var s=0,w,B=[],G,E;w=v[s++];){var J=w.name,F=J.toLowerCase();w=w.value;switch(z[F]||F){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":E=w;break;case "data-dojo-id":case "jsid":G=w;break;case "data-dojo-attach-point":case "dojoattachpoint":t.dojoAttachPoint=
w;break;case "data-dojo-attach-event":case "dojoattachevent":t.dojoAttachEvent=w;break;case "class":t["class"]=e.className;break;case "style":t.style=e.style&&e.style.cssText;break;default:if(J in r||(J=q(d)[F]||J),J in r)switch(typeof r[J]){case "string":t[J]=w;break;case "number":t[J]=w.length?Number(w):NaN;break;case "boolean":t[J]="false"!=w.toLowerCase();break;case "function":t[J]=""===w||-1!=w.search(/[^\w\.]+/i)?new Function(w):i.getObject(w,!1)||new Function(w);B.push(J);break;default:F=r[J],
t[J]=F&&"length"in F?w?w.split(/\s*,\s*/):[]:F instanceof Date?""==w?new Date(""):"now"==w?new Date:g.fromISOString(w):F instanceof c?j.baseUrl+w:b.fromJson(w)}else t[J]=w}}for(s=0;s<B.length;s++)v=B[s].toLowerCase(),e.removeAttribute(v),e[v]=null;if(E)try{E=b.fromJson.call(h.propsThis,"{"+E+"}"),i.mixin(t,E)}catch(N){throw Error(N.toString()+" in data-dojo-props='"+E+"'");}i.mixin(t,f);l||(l=d&&(d._noScript||r._noScript)?[]:p("> script[type^='dojo/']",e));f=[];h=[];E=[];B=[];if(l)for(s=0;s<l.length;s++){var C=
l[s];e.removeChild(C);v=C.getAttribute(n+"event")||C.getAttribute("event");z=C.getAttribute(n+"prop");J=C.getAttribute(n+"method");F=C.getAttribute(n+"advice");w=C.getAttribute("type");C=this._functionFromScript(C,n);v?"dojo/connect"==w?f.push({method:v,func:C}):"dojo/on"==w?B.push({event:v,func:C}):t[v]=C:"dojo/aspect"==w?f.push({method:J,advice:F,func:C}):"dojo/watch"==w?E.push({prop:z,func:C}):h.push(C)}u=(l=d.markupFactory||r.markupFactory)?l(t,e,d):new d(t,e),d=u;G&&i.setObject(G,d);for(s=0;s<
f.length;s++)a[f[s].advice||"after"](d,f[s].method,i.hitch(d,f[s].func),!0);for(s=0;s<h.length;s++)h[s].call(d);for(s=0;s<E.length;s++)d.watch(E[s].prop,E[s].func);for(s=0;s<B.length;s++)m(d,B[s].event,B[s].func);return d},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(n)||d.textDir},g;for(g in b)b[g]&&(a.inherited[g]=b[g])}return a.inherited}var d=[],g=[],e=
{},h=(b.scope||j._scopeName)+"Type",i="data-"+(b.scope||j._scopeName)+"-",q=i+"type",n=i+"textdir",i=i+"mixins",m=a.firstChild,o=b.inherited;if(!o){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},o={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,n)},p;for(p in o)o[p]||delete o[p]}for(var o={inherited:o},v,s;;)if(m)if(1!=m.nodeType)m=m.nextSibling;else if(v&&"script"==m.nodeName.toLowerCase())(F=m.getAttribute("type"))&&/^dojo\/\w/i.test(F)&&v.push(m),m=
m.nextSibling;else if(s)m=m.nextSibling;else{var F=m.getAttribute(q)||m.getAttribute(h);p=m.firstChild;if(!F&&(!p||3==p.nodeType&&!p.nextSibling))m=m.nextSibling;else{s=null;if(F){var N=m.getAttribute(i);v=N?[F].concat(N.split(/\s*,\s*/)):[F];try{s=r(v)}catch(C){}s||k.forEach(v,function(a){~a.indexOf("/")&&!e[a]&&(e[a]=!0,g[g.length]=a)});N=s&&!s.prototype._noScript?[]:null;o={types:v,ctor:s,parent:o,node:m,scripts:N};o.inherited=c(o);d.push(o)}else o={node:m,scripts:v,parent:o};m=p;v=N;s=s&&s.prototype.stopParser&&
!b.template}}else{if(!o||!o.node)break;m=o.node.nextSibling;s=!1;o=o.parent;v=o.scripts}var K=new l;g.length?f(g,function(){K.resolve(k.filter(d,function(a){if(!a.ctor)try{a.ctor=r(a.types)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var g=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(g&&g.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):K.resolve(d);return K.promise},_require:function(a){var a=b.fromJson("{"+a.innerHTML+"}"),c=
[],d=[],g=new l,e;for(e in a)c.push(e),d.push(a[e]);f(d,function(){for(var a=0;a<c.length;a++)i.setObject(c[a],arguments[a]);g.resolve(arguments)});return g.promise},_scanAmd:function(a){var b=new l,c=b.promise;b.resolve(!0);var d=this;p("script[type='dojo/require']",a).forEach(function(a){c=c.then(function(){return d._require(a)});a.parentNode.removeChild(a)});return c},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&i.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?d.byId(c):h.body();
var b=b||{},g=b.template?{template:!0}:{},e=[],f=this,k=this._scanAmd(c,b).then(function(){return f.scan(c,b)}).then(function(a){return e=e.concat(f._instantiate(a,g,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});i.mixin(e,k);return e}};j.parser=v;e.parseOnLoad&&n(100,v,"parse");return v})},"dojo/_base/url":function(){define(["./kernel"],function(f){var j=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,i=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
k=function(){for(var e=arguments,d=[e[0]],f=1;f<e.length;f++)if(e[f]){var c=new k(e[f]+""),d=new k(d[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query){if(null!=c.fragment)d.fragment=c.fragment;c=d}else if(!c.scheme&&(c.scheme=d.scheme,!c.authority&&(c.authority=d.authority,"/"!=c.path.charAt(0)))){for(var d=(d.path.substring(0,d.path.lastIndexOf("/")+1)+c.path).split("/"),b=0;b<d.length;b++)"."==d[b]?b==d.length-1?d[b]="":(d.splice(b,1),b--):0<b&&!(1==b&&""==d[0])&&".."==d[b]&&".."!=d[b-1]&&
(b==d.length-1?(d.splice(b,1),d[b-1]=""):(d.splice(b-1,2),b-=2));c.path=d.join("/")}d=[];c.scheme&&d.push(c.scheme,":");c.authority&&d.push("//",c.authority);d.push(c.path);c.query&&d.push("?",c.query);c.fragment&&d.push("#",c.fragment)}this.uri=d.join("");e=this.uri.match(j);this.scheme=e[2]||(e[1]?"":null);this.authority=e[4]||(e[3]?"":null);this.path=e[5];this.query=e[7]||(e[6]?"":null);this.fragment=e[9]||(e[8]?"":null);if(null!=this.authority)e=this.authority.match(i),this.user=e[3]||null,this.password=
e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null};k.prototype.toString=function(){return this.uri};return f._Url=k})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(f,j){var i={};f.setObject("dojo.date.stamp",i);i.fromISOString=function(f,e){if(!i._isoRegExp)i._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;var d=i._isoRegExp.exec(f),h=null;if(d){d.shift();d[1]&&d[1]--;d[6]&&(d[6]*=1E3);
e&&(e=new Date(e),j.forEach(j.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(a){return e["get"+a]()}),function(a,b){d[b]=d[b]||a}));h=new Date(d[0]||1970,d[1]||0,d[2]||1,d[3]||0,d[4]||0,d[5]||0,d[6]||0);100>d[0]&&h.setFullYear(d[0]||1970);var c=0,b=d[7]&&d[7].charAt(0);"Z"!=b&&(c=60*(d[8]||0)+(Number(d[9])||0),"-"!=b&&(c*=-1));b&&(c-=h.getTimezoneOffset());c&&h.setTime(h.getTime()+6E4*c)}return h};i.toISOString=function(f,e){var d=function(a){return 10>a?"0"+a:a},
e=e||{},h=[],c=e.zulu?"getUTC":"get",b="";"time"!=e.selector&&(b=f[c+"FullYear"](),b=["0000".substr((b+"").length)+b,d(f[c+"Month"]()+1),d(f[c+"Date"]())].join("-"));h.push(b);if("date"!=e.selector){b=[d(f[c+"Hours"]()),d(f[c+"Minutes"]()),d(f[c+"Seconds"]())].join(":");c=f[c+"Milliseconds"]();e.milliseconds&&(b+="."+(100>c?"0":"")+d(c));if(e.zulu)b+="Z";else if("time"!=e.selector)var c=f.getTimezoneOffset(),a=Math.abs(c),b=b+((0<c?"-":"+")+d(Math.floor(a/60))+":"+d(a%60));h.push(b)}return h.join("T")};
return i})},"url:phpr/template/baseLayout.html":'<div class="baseLayout">\n    <div data-dojo-type="phpr/Menubar" data-dojo-attach-point="menubar"></div>\n    <div class="mainContent" data-dojo-type="dijit/layout/ContentPane" data-dojo-attach-point="mainContent">\n    </div>\n</div>\n',"dijit/layout/ContentPane":function(){define("dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n){return a("dijit.layout.ContentPane",[i,k,e],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:f._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){for(var b=l.byId(b),c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=j.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=m.getLocalization("dijit","loading",this.lang);this.loadingMessage=d.substitute(this.loadingMessage,a);this.errorMessage=d.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.title="";o.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&j.isFunction(a.startup))a.startup(),a._started=!0},this)},_startChildren:function(){b.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&
j.isFunction(a.startup))a.startup(),a._started=!0});this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&j.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){f.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new g(j.hitch(this,"cancel"));this.onLoadDeferred.then(j.hitch(this,"onLoad"));
this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){f.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new g(j.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(j.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=
!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},
refresh:function(){this.cancel();this.onLoadDeferred=new g(j.hitch(this,"cancel"));this.onLoadDeferred.then(j.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};j.isObject(this.ioArgs)&&j.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||p.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",
c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+
a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;b.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});c&&(b.forEach(c.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete c.parseResults);a||h._emptyNode(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();
var c=this._contentSetter;if(!(c&&c instanceof h._ContentSetter))c=this._contentSetter=new h._ContentSetter({node:this.containerNode,_onError:j.hitch(this,this._onError),onContentError:j.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})});var d=j.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,
startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(j.isObject(a)&&a.domNode?a.domNode:a,d),g=this;return n(d&&d.then?d:c.parseDeferred,function(){delete g._contentSetterParams;b||(g._started&&(g._startChildren(),g._scheduleLayout()),g._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},
onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(f,j,i){return j("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(f,e){var d=this.containerNode;if(e&&"number"==typeof e){var h=this.getChildren();if(h&&h.length>=e)d=h[e-1].domNode,
e="after"}i.place(f.domNode,d,e);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==typeof f&&(f=this.getChildren()[f]);if(f)(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(k,e){var d=this.getChildren(),h=f.indexOf(this.getChildren(),k);return d[h+e]},getIndexOfChild:function(k){return f.indexOf(this.getChildren(),k)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),
function(f,j,i,k,e,d,h,c,b,a,g){return j("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",d.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],c=!1;h("> *",this.containerNode).some(function(d){var g=
b.byNode(d);g&&g.resize?a.push(g):d.offsetHeight&&(c=!0)});this._singleChild=1==a.length&&!c?a[0]:null;i.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&k.setMarginBox(this.domNode,
a);var c=this.containerNode;if(c===this.domNode){var e=b||{};d.mixin(e,a||{});if(!("h"in e)||!("w"in e))e=d.mixin(k.getMarginBox(c),e);this._contentBox=g.marginBox2contentBox(c,e)}else this._contentBox=k.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||k.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else f.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!i.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),
function(f,j,i,k,e,d){var h=new f;i(200,function(){var c=d.getBox();h._rlh=j(e.global,"resize",function(){var a=d.getBox();c.h==a.h&&c.w==a.w||(c=a,h.emit("resize"))});if(8==k("ie")){var b=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=b)b=screen.deviceXDPI,h.emit("resize")},500)}});return h})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(f,j,i,k,e,d){function h(c,b){var a=c.resize?
c.resize(b):i.setMarginBox(c.domNode,b);a?e.mixin(c,a):(e.mixin(c,i.getMarginBox(c.domNode)),e.mixin(c,b))}d=e.getObject("layout",!0,d);d.marginBox2contentBox=function(c,b){var a=k.getComputedStyle(c),d=i.getMarginExtents(c,a),e=i.getPadBorderExtents(c,a);return{l:k.toPixelValue(c,a.paddingLeft),t:k.toPixelValue(c,a.paddingTop),w:b.w-(d.w+e.w),h:b.h-(d.h+e.h)}};d.layoutChildren=function(c,b,a,d,k){b=e.mixin({},b);j.add(c,"dijitLayoutContainer");a=f.filter(a,function(a){return"center"!=a.region&&"client"!=
a.layoutAlign}).concat(f.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));f.forEach(a,function(a){var c=a.domNode,e=a.region||a.layoutAlign;if(!e)throw Error("No region setting for "+a.id);var f=c.style;f.left=b.l+"px";f.top=b.t+"px";f.position="absolute";j.add(c,"dijitAlign"+(e.substring(0,1).toUpperCase()+e.substring(1)));c={};d&&d==a.id&&(c["top"==a.region||"bottom"==a.region?"h":"w"]=k);"top"==e||"bottom"==e?(c.w=b.w,h(a,c),b.h-=a.h,"top"==e?b.t+=a.h:f.top=b.t+b.h+"px"):
"left"==e||"right"==e?(c.h=b.h,h(a,c),b.w-=a.w,"left"==e?b.l+=a.w:f.left=b.l+b.w+"px"):("client"==e||"center"==e)&&h(a,b)})};return{marginBox2contentBox:d.marginBox2contentBox,layoutChildren:d.layoutChildren}})},"dojo/html":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(f,j,i,k,e,d,h){var c={};j.setObject("dojo.html",c);var b=0;c._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};c._emptyNode=d.empty;c._setNodeContent=function(a,b){d.empty(a);if(b)if("string"==typeof b&&(b=d.toDom(b,a.ownerDocument)),!b.nodeType&&j.isArrayLike(b))for(var c=b.length,e=0;e<b.length;e=c==b.length?e+1:0)d.place(b[e],a,"last");else d.place(b,a,"last");return a};c._ContentSetter=k("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:f._scopeName,startup:!0,constructor:function(a,c){j.mixin(this,a||{});c=this.node=e.byId(this.node||
c);if(!this.id)this.id=["Setter",c?c.id||c.tagName:"",b++].join("_")},set:function(a,b){if(void 0!==a)this.content=a;b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=c._setNodeContent(a,this.content)}catch(b){var d=this.onContentError(b);try{a.innerHTML=d}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(i.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);c._emptyNode(this.node)},onBegin:function(){var a=this.content;if(j.isString(a)&&(this.cleanContent&&(a=c._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=
b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};i.forEach(["dir","lang",
"textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=h.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,d){a=this["on"+a+"Error"].call(this,b);d?console.error(d,b):a&&c._setNodeContent(this.node,a,!0)}});c.set=function(a,b,d){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
b="");return d?(new c._ContentSetter(j.mixin(d,{content:b,node:a}))).set():c._setNodeContent(a,b,!0)};return c})},"dojo/i18n":function(){define("dojo/i18n","./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(f,j,i,k,e,d,h,c,b){i.add("dojo-preload-i18n-Api",1);var h=f.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,g=function(a,b,c,d){for(var e=[c+d],b=b.split("-"),g="",f=0;f<b.length;f++)g+=(g?"-":"")+b[f],(!a||a[g])&&e.push(c+
g+"/"+d);return e},l={},o=function(a,b,c){c=c?c.toLowerCase():f.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};f.getL10nName=function(a,c,d){return b.id+"!"+o(a,c,d)};var p=function(a,b,c,e,f,h){a([b],function(k){var i=d.clone(k.root),j=g(!k._v1x&&k,f,c,e);a(j,function(){for(var a=1;a<j.length;a++)i=d.mixin(d.clone(i),arguments[a]);l[b+"/"+f]=i;h()})})},m=function(a){var b=e.extraLocale||[],b=d.isArray(b)?b:[b];b.push(a);return b},n=function(b,
e,g){if(i("dojo-preload-i18n-Api")){var h=b.split("*"),j="preload"==h[1];j&&(l[b]||(l[b]=1,v(h[2],c.parse(h[3]),1,e)),g(1));if(!(h=j))t&&s.push([b,e,g]),h=t;if(h)return}var b=a.exec(b),n=b[1]+"/",q=b[5]||b[4],r=n+q,h=(b=b[5]&&b[4])||f.locale,o=r+"/"+h,b=b?[h]:m(h),x=b.length,y=function(){--x||g(d.delegate(l[o]))};k.forEach(b,function(a){var b=r+"/"+a;i("dojo-preload-i18n-Api")&&u(b);l[b]?y():p(e,r,n,q,a,y)})};if(i("dojo-unit-tests"))var q=h.unitTests=[];i("dojo-preload-i18n-Api");var r=h.normalizeLocale=
function(a){a=a?a.toLowerCase():f.locale;return"root"==a?"ROOT":a},t=0,s=[],v=h._preloadLocalizations=function(a,b,c,d){function e(a,b){d([a],b)}function g(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function h(c){c=r(c);g(c,function(c){if(0<=k.indexOf(b,c)){var d=a.replace(/\./g,"/")+"_"+c;t++;e(d,function(a){for(var b in a)l[j.toAbsMid(b)+"/"+c]=a[b];for(--t;!t&&s.length;)n.apply(null,s.shift())});return!0}return!1})}d=d||j;h();k.forEach(f.config.extraLocale,
h)},u=function(){},x={},y=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),u=function(a){for(var b,c=a.split("/"),
d=f.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(l[a]=b));return b};h.getLocalization=function(a,b,c){var d,a=o(a,b,c);n(a,j,function(a){d=a});return d};i("dojo-unit-tests")&&q.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=y("{prop:1}",u,"nonsense",x);a.is({prop:1},b);a.is(void 0,b[1]);b=y("({prop:1})",u,"nonsense",x);a.is({prop:1},b);a.is(void 0,b[1]);b=y("{'prop-x':1}",u,"nonsense",x);a.is({"prop-x":1},b);a.is(void 0,b[1]);
b=y("({'prop-x':1})",u,"nonsense",x);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=y("define({'prop-x':1})",u,"nonsense",x);a.is(x,b);a.is({"prop-x":1},x.result);b=y("define('some/module', {'prop-x':1})",u,"nonsense",x);a.is(x,b);a.is({"prop-x":1},x.result);b=y("this is total nonsense and should throw an error",u,"nonsense",x);a.is(b instanceof Error,!0)})});return d.mixin(h,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:n,cache:l})})},"phpr/Menubar":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-class,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/_CssStateMixin,dijit/Tooltip,dojo/topic,dojo/text!phpr/template/menubar.html,phpr/Menubar/WarningIcon".split(","),
function(f,j,i,k,e,d,h,c,b,a,g){return f([e,d,h,c],{templateString:g,baseClass:"menuBar",cssStateNodes:{logoutButton:"dijit"},buildRendering:function(){this.inherited(arguments);this.own(i(this.startButton,"click",j.hitch(this,"onStartClick")),i(this.bookingsButton,"click",j.hitch(this,"onBookingsClick")),i(this.statisticsButton,"click",j.hitch(this,"onStatisticsClick")),i(this.logoutButton,"click",j.hitch(this,"_logout")));this.own(new b({connectId:this.logoutButton,label:"Log out"}))},onStartClick:function(){a.publish("phpr/showLiveBooking");
k.replace(this.domNode,"menubarOuter start")},onBookingsClick:function(){a.publish("phpr/showBookings");k.replace(this.domNode,"menubarOuter bookings")},onStatisticsClick:function(){a.publish("phpr/showStatistics");k.replace(this.domNode,"menubarOuter statistics")},_logout:function(){window.location="index.php/Login/logout"}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),
function(f,j,i,k,e,d,h,c,b,a){j=j("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);f.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(f.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);
this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};f.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&f.forEach(this._stateClasses,function(a){delete d[a]});f.forEach(b,function(a){d[a]=!0});var e=[],h;for(h in d)e.push(h);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,
b,c){function d(c){k.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":k.toggle(a,b+"Hover",!0);break;case "mouseout":k.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":d(!0);break;case "mouseup":case "touchend":d(!1);break;case "focus":case "focusin":k.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":k.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});c(function(){function c(b){if(!i.isDescendant(b.relatedTarget,
b.target))for(var d=b.target;d&&d!=b.relatedTarget;d=d.parentNode)if(d._cssState){var e=a.getEnclosingWidget(d);e&&(d==e.domNode?e._cssMouseEvent(b):e._subnodeCssMouseEvent(d,d._cssState,b))}}function d(a){a.target=a.srcElement;c(a)}var k=b.body(),j=(e("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);f.forEach(j,function(a){k.addEventListener?k.addEventListener(a,c,!0):k.attachEvent("on"+a,d)});h(k,"focusin, focusout",function(b){var c=b.target;c._cssState&&
!c.getAttribute("widgetId")&&a.getEnclosingWidget(c)._subnodeCssMouseEvent(c,c._cssState,b)})});return j})},"dijit/Tooltip":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/on,dojo/sniff,./_base/manager,./place,./_Widget,./_TemplatedMixin,./BackgroundIframe,dojo/text!./templates/Tooltip.html,./main".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q,r){var t=j("dijit._MasterTooltip",[p,
m],{duration:l.defaultDuration,templateString:q,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new n(this.domNode);this.fadeIn=i.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=i.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,d,e,g){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;
else{this.containerNode.innerHTML=a;g&&this.set("textDir",g);this.containerNode.align=e?"right":"left";var f=o.around(this.domNode,b,d&&d.length?d:s.defaultPosition,!e,c.hitch(this,"orient")),k=f.aroundNodePos;"M"==f.corner.charAt(0)&&"M"==f.aroundCorner.charAt(0)?(this.connectorNode.style.top=k.y+(k.h-this.connectorNode.offsetHeight>>1)-f.y+"px",this.connectorNode.style.left=""):"M"==f.corner.charAt(1)&&"M"==f.aroundCorner.charAt(1)?this.connectorNode.style.left=k.x+(k.w-this.connectorNode.offsetWidth>>
1)-f.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");h.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,e,f){this.connectorNode.style.top="";var h=e.h,e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var k=d.position(this.domNode);9==g("ie")&&(k.w+=2);var i=Math.min(Math.max(e,1),k.w);d.setMarginBox(this.domNode,{w:i});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=d.position(a),b=this.connectorNode.offsetHeight,a.h>h?(this.connectorNode.style.top=h-(f.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-b/
2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,k.w-e)},_onShow:function(){if(g("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,
this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,g("ie")?a.outerText:a.textContent);f.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});r.showTooltip=function(a,b,c,d,e){c&&(c=f.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!s._masterTT)r._masterTT=s._masterTT=new t;return s._masterTT.show(a,
b,c,d,e)};r.hideTooltip=function(a){return s._masterTT&&s._masterTT.hide(a)};var s=j("dijit.Tooltip",p,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(d){f.forEach(this._connections||[],function(a){f.forEach(a,function(a){a.remove()})},this);this._connectIds=f.filter(c.isArrayLike(d)?d:d?[d]:[],function(a){return k.byId(a,this.ownerDocument)},this);this._connections=f.map(this._connectIds,function(d){var d=k.byId(d,this.ownerDocument),e=this.selector,g=e?function(b){return a.selector(e,
b)}:function(a){return a},f=this;return[a(d,g(b.enter),function(){f._onHover(this)}),a(d,g("focusin"),function(){f._onHover(this)}),a(d,g(b.leave),c.hitch(f,"_onUnHover")),a(d,g("focusout"),c.hitch(f,"_onUnHover"))]},this);this._set("connectId",d)},addTarget:function(a){a=a.id||a;-1==f.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=f.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;f.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(a){if(!this._showTimer)this._showTimer=this.defer(function(){this.open(a)},this.showDelay)},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);if(b)s.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position)},close:function(){this._connectNode&&(s.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();f.forEach(this._connections||[],function(a){f.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});s._MasterTooltip=t;s.show=r.showTooltip;s.hide=r.hideTooltip;s.defaultPosition=["after-centered","before-centered"];return s})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(f,j,i,k,e){var d={};f.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(e){d[e]=k[e]});i.mixin(d,{defaultDuration:j.defaultDuration||200});i.mixin(e,d);return e})},
"dijit/place":function(){define("dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),function(f,j,i,k,e,d,h){function c(b,a,c,h){var k=d.getBox(b.ownerDocument);(!b.parentNode||"body"!=(""+b.parentNode.tagName).toLowerCase())&&e.body(b.ownerDocument).appendChild(b);var i=null;f.some(a,function(a){var d=a.corner,e=a.pos,f=0,m={w:{L:k.l+k.w-e.x,R:e.x-k.l,M:k.w}[d.charAt(1)],h:{T:k.t+k.h-e.y,B:e.y-k.t,M:k.h}[d.charAt(0)]},v=b.style;v.left=
v.right="auto";c&&(f=c(b,a.aroundCorner,d,m,h),f="undefined"==typeof f?0:f);var u=b.style,x=u.display,y=u.visibility;if("none"==u.display)u.visibility="hidden",u.display="";v=j.position(b);u.display=x;u.visibility=y;x={L:e.x,R:e.x-v.w,M:Math.max(k.l,Math.min(k.l+k.w,e.x+(v.w>>1))-v.w)}[d.charAt(1)];y={T:e.y,B:e.y-v.h,M:Math.max(k.t,Math.min(k.t+k.h,e.y+(v.h>>1))-v.h)}[d.charAt(0)];e=Math.max(k.l,x);u=Math.max(k.t,y);x=Math.min(k.l+k.w,x+v.w);y=Math.min(k.t+k.h,y+v.h);x-=e;y-=u;f+=v.w-x+(v.h-y);if(null==
i||f<i.overflow)i={corner:d,aroundCorner:a.aroundCorner,x:e,y:u,w:x,h:y,overflow:f,spaceAvailable:m};return!f});i.overflow&&c&&c(b,i.aroundCorner,i.corner,i.spaceAvailable,h);var a=j.isBodyLtr(b.ownerDocument),m=b.style;m.top=i.y+"px";m[a?"left":"right"]=(a?i.x:k.w-i.x-i.w)+"px";m[a?"right":"left"]="auto";return i}return h.place={at:function(b,a,d,e){d=f.map(d,function(b){var c={corner:b,pos:{x:a.x,y:a.y}};e&&(c.pos.x+="L"==b.charAt(1)?e.x:-e.x,c.pos.y+="T"==b.charAt(0)?e.y:-e.y);return c});return c(b,
d)},around:function(b,a,d,e,h){function p(a,b){L.push({aroundCorner:a,corner:b,pos:{x:{L:v,R:v+x,M:v+(x>>1)}[a.charAt(1)],y:{T:u,B:u+y,M:u+(y>>1)}[a.charAt(0)]}})}var m="string"==typeof a||"offsetWidth"in a?j.position(a,!0):a;if(a.parentNode)for(var n="absolute"==i.getComputedStyle(a).position,a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){var q=j.position(a,!0),r=i.getComputedStyle(a);/relative|absolute/.test(r.position)&&(n=!1);if(!n&&/hidden|auto|scroll/.test(r.overflow)){var t=Math.min(m.y+
m.h,q.y+q.h),s=Math.min(m.x+m.w,q.x+q.w);m.x=Math.max(m.x,q.x);m.y=Math.max(m.y,q.y);m.h=t-m.y;m.w=s-m.x}"absolute"==r.position&&(n=!0);a=a.parentNode}var v=m.x,u=m.y,x="w"in m?m.w:m.w=m.width,y="h"in m?m.h:(k.deprecated("place.around: dijit/place.__Rectangle: { x:"+v+", y:"+u+", height:"+m.height+", width:"+x+" } has been deprecated.  Please use { x:"+v+", y:"+u+", h:"+m.height+", w:"+x+" }","","2.0"),m.h=m.height),L=[];f.forEach(d,function(a){var b=e;switch(a){case "above-centered":p("TM","BM");
break;case "below-centered":p("BM","TM");break;case "after-centered":b=!b;case "before-centered":p(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":p(b?"TL":"TR",b?"TR":"TL");p(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":p(b?"BL":"BR",b?"TL":"TR");p(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":p(b?"TL":"TR",b?"BL":"BR");p(b?"TR":"TL",b?"BR":"BL");break;default:p(a.aroundCorner,a.corner)}});b=c(b,L,h,{w:x,h:y});b.aroundNodePos=m;return b}}})},
"dijit/BackgroundIframe":function(){define("require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(f,j,i,k,e,d,h,c,b){var a=new function(){var a=[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>c("ie")?(d="<iframe src='"+(i.dojoBlankHtmlUrl||f.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",
d=b.doc.createElement(d)):(d=k.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),e.set(d,"opacity",0.1)),d.tabIndex=-1);return d};this.push=function(b){b.style.display="none";a.push(b)}};j.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(c("ie")||c("mozilla")){var f=this.iframe=a.pop();b.appendChild(f);7>c("ie")||c("quirks")?(this.resize(b),this._conn=h(b,"resize",d.hitch(this,function(){this.resize(b)}))):e.set(f,{width:"100%",
height:"100%"})}};d.extend(j.BackgroundIframe,{resize:function(a){this.iframe&&e.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(a.push(this.iframe),delete this.iframe)}});return j.BackgroundIframe})},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n',
"url:phpr/template/menubar.html":'<div class="menubarOuter">\n    <div class="menubarMiddle">\n        <table class="menubar"><tr>\n            <td class="bookingsButton button left" data-dojo-attach-point="bookingsButton"\n                ><div class="menuItem">Booking</div></td>\n            <td style=\'display: none;\' class="startButton button left" data-dojo-attach-point="startButton"\n                ><div class="menuItem">Start</div></td>\n            <td style=\'display: none;\' class="statisticsButton button left" data-dojo-attach-point="statisticsButton"\n                ><div class="menuItem">Statistics</div></td>\n            <td style="width: auto;"><div><b></b></div></td>\n            <td class="button right" data-dojo-type="phpr/Menubar/WarningIcon"><div><b></b></div></td>\n            <td class="logo button right">\n                <img src="../../../img/timecard/logo.png" border="0" /></td>\n            <td class="logoutButton button right" data-dojo-attach-point="logoutButton"\n                ><div class="logoutIcon menuItem"></div></td>\n            </tr></table>\n    </div>\n</div>\n',
"phpr/Menubar/WarningIcon":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/on,dojo/topic,dojo/window,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/dom-class,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/_CssStateMixin,dijit/MenuItem,phpr/Api,dojo/text!phpr/template/menubar/warningIcon.html,dijit/DropDownMenu".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q,r){return f([l,o,p,m],{baseClass:"warningIconButton",templateString:r,
state:"closed",itemCount:0,byTag:null,constructor:function(){this.byTag={};e.subscribe("notification",dojo.hitch(this,this._addNotification));e.subscribe("notification/clear",dojo.hitch(this,this._clearNotifications))},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"click",j.hitch(this,"onClick")));d.get(this.domNode.ownerDocument).onerror=function(a){q.defaultErrorHandler(a)}},onClick:function(){this.toggleState()},toggleState:function(){this.isOpen()?this.closeMenu():this.openMenu()},
openMenu:function(){h.add(this.domNode,"open");this.state="open"},closeMenu:function(){h.remove(this.domNode,"open");this.state="closed"},isOpen:function(){return"open"===this.state},_remove:function(a){this.menu.removeChild(a);delete this.menu.focusedChild;a.destroyRecursive();this.itemCount-=1;0===this.itemCount&&(this._markEmpty(),this.closeMenu())},_addNotification:function(a,b){this._markNotEmpty();var c=new n({iconClass:"warningIcon",label:a.message});c.own(c.on("click",dojo.hitch(this,this._remove,
c)));this.menu.addChild(c,0);this.itemCount+=1;0<this.itemCount&&this.openMenu();this.byTag[b]=this.byTag[b]||[];this.byTag[b].push(c)},_clearNotifications:function(a){if(void 0===a){for(var b in this.byTag)i.forEach(this.byTag[b],j.hitch(this,this._remove));this.byTag={}}else i.forEach(this.byTag[a],j.hitch(this,this._remove)),delete this.byTag[a]},dummyItem:new n,_markEmpty:function(){this.menu.addChild(this.dummyItem);g.add(this.domNode,"empty")},_markNotEmpty:function(){this.menu.removeChild(this.dummyItem);
g.remove(this.domNode,"empty")}})})},"dijit/MenuItem":function(){define("dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),function(f,j,i,k,e,d,h,c,b,a,g){return f("dijit.MenuItem",[h,c,b,a],{templateString:g,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,
this.label)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);var a=this.id+"_text";i.set(this.containerNode,"id",a);this.accelKeyNode&&(i.set(this.accelKeyNode,"id",this.id+"_accel"),a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);j.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==
d("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){k.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){e.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){e.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.",
"","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;i.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(f,j){return f("dijit._Contained",null,{_getSibling:function(f){var k=this.domNode;do k=k[f+"Sibling"];while(k&&1!=k.nodeType);return k&&j.byNode(k)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var f=this.getParent();return!f||!f.getIndexOfChild?-1:f.getIndexOfChild(this)}})})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',
"url:phpr/template/menubar/warningIcon.html":'<td class="empty">\n    <div class="menuItem"></div>\n    <div class="menuContainer">\n        <div class="menu" data-dojo-type="dijit/DropDownMenu" data-dojo-attach-point="menu"></div>\n    </div>\n</td>\n',"dijit/DropDownMenu":function(){define("dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/text!./templates/Menu.html,./_OnDijitClickMixin,./_MenuBase".split(","),function(f,j,i,k,e,d){return f("dijit.DropDownMenu",[d,e],{templateString:k,baseClass:"dijitMenu",
postCreate:function(){this.inherited(arguments);var d=this.isLeftToRight();this._openSubMenuKey=d?i.RIGHT_ARROW:i.LEFT_ARROW;this._closeSubMenuKey=d?i.LEFT_ARROW:i.RIGHT_ARROW;this.connectKeyNavHandlers([i.UP_ARROW],[i.DOWN_ARROW])},_onKeyPress:function(d){if(!d.ctrlKey&&!d.altKey)switch(d.charOrCode){case this._openSubMenuKey:this._moveToPopup(d);j.stop(d);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else j.stop(d)}}})})},
"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n',"dijit/_MenuBase":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/lang,dojo/mouse,dojo/on,dojo/window,./a11yclick,./popup,./registry,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m){return j("dijit._MenuBase",[o,m,p],{parentMenu:null,popupDelay:500,autoFocus:!1,postCreate:function(){var b=this,d=function(a){return e.contains(a,"dijitMenuItem")};this.own(c(this.containerNode,c.selector(d,h.enter),function(){b.onItemHover(l.byNode(this))}),c(this.containerNode,c.selector(d,h.leave),function(){b.onItemUnhover(l.byNode(this))}),c(this.containerNode,c.selector(d,a),function(a){b.onItemClick(l.byNode(this),a);a.stopPropagation();a.preventDefault()}));
this.inherited(arguments)},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);
this._stopPendingCloseTimer(this.currentPopup)}},onItemHover:function(a){if(this.isActive&&(this.focusChild(a),this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer))this.hover_timer=this.defer("_openPopup",this.popupDelay);this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(a){this._stopPopupTimer();a._setSelected(!1);var b=a.popup;if(b)this._stopPendingCloseTimer(b),b._pendingClose_timer=this.defer(function(){b._pendingClose_timer=
null;if(b.parentMenu)b.parentMenu.currentPopup=null;g.close(b)},this.popupDelay)},onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();if(this._hoveredChild==a)this._hoveredChild=null;a._set("hovering",!1)},_stopPopupTimer:function(){if(this.hover_timer)this.hover_timer=this.hover_timer.remove()},_stopPendingCloseTimer:function(a){if(a._pendingClose_timer)a._pendingClose_timer=a._pendingClose_timer.remove()},_stopFocusTimer:function(){if(this._focus_timer)this._focus_timer=this._focus_timer.remove()},
_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?a._onClick(b):a.onClick(b))},_openPopup:function(a){this._stopPopupTimer();var b=this.focusedChild;if(b){var c=b.popup;if(!c.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),g.close(this.currentPopup));
c.parentMenu=this;c.from_item=b;var e=this;g.open({parent:this,popup:c,around:b.domNode,orient:this._orient||["after","before"],onCancel:function(){e.focusChild(b);e._cleanUp();b._setSelected(!0);e.focusedChild=b},onExecute:d.hitch(this,"_cleanUp")});this.currentPopup=c;c.connect(c.domNode,"onmouseenter",d.hitch(e,"_onPopupHover"))}if(a&&c.focus)c._focus_timer=this.defer(d.hitch(c,function(){this._focus_timer=null;this.focus()}))}},_markActive:function(){this.isActive=!0;e.replace(this.domNode,"dijitMenuActive",
"dijitMenuPassive")},onOpen:function(){this.isShowingNow=!0;this._markActive()},_markInactive:function(){this.isActive=!1;e.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup)0<=f.indexOf(this._focusManager.activeStack,this.id)&&(k.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex),this.focusedChild.focusNode.focus()),
g.close(this.currentPopup),this.currentPopup=null;if(this.focusedChild)this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&this._markInactive()}})})},"dijit/popup":function(){define("dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q){function r(){this._popupWrapper&&(h.destroy(this._popupWrapper),delete this._popupWrapper)}k=k(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;if(!b)b=h.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,j.after(a,"destroy",r,!0);return b},moveOffScreen:function(a){a=
this._createWrapper(a);b.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);b.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(b){for(var f=this._stack,h=b.popup,k=b.orient||["below","below-alt","above","above-alt"],j=b.parent?b.parent.isLeftToRight():c.isBodyLtr(h.ownerDocument),r=b.around,q=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;f.length&&
(!b.parent||!e.isDescendant(b.parent.domNode,f[f.length-1].widget.domNode));)this.close(f[f.length-1].widget);var D=this._createWrapper(h);d.set(D,{id:q,style:{zIndex:this._beginZIndex+f.length},"class":"dijitPopup "+(h.baseClass||h["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});if((p("ie")||p("mozilla"))&&!h.bgIframe)h.bgIframe=new n(D);k=r?m.around(D,r,k,j,h.orient?l.hitch(h,"orient"):null):m.at(D,b,"R"==k?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding);D.style.display=
"";D.style.visibility="visible";h.domNode.style.visibility="visible";j=[];j.push(o(D,i._keypress,l.hitch(this,function(c){if(c.charOrCode==g.ESCAPE&&b.onCancel)a.stop(c),b.onCancel();else if(c.charOrCode===g.TAB&&(a.stop(c),(c=this.getTopPopup())&&c.onCancel))c.onCancel()})));h.onCancel&&b.onCancel&&j.push(h.on("cancel",b.onCancel));j.push(h.on(h.onExecute?"execute":"change",l.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));f.push({widget:h,parent:b.parent,onExecute:b.onExecute,
onCancel:b.onCancel,onClose:b.onClose,handlers:j});if(h.onOpen)h.onOpen(k);return k},close:function(a){for(var b=this._stack;a&&f.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;if(d.onClose)d.onClose();for(var g;g=c.handlers.pop();)g.remove();d&&d.domNode&&this.hide(d);e&&e()}}});return q.popup=new k})},"dijit/_KeyNavContainer":function(){define("dojo/_base/kernel,./_Container,./_FocusMixin,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/_base/event,dojo/dom-attr,dojo/_base/lang".split(","),
function(f,j,i,k,e,d,h,c,b){return d("dijit._KeyNavContainer",[i,j],{tabIndex:"0",connectKeyNavHandlers:function(a,c){var d=this._keyNavCodes={},f=b.hitch(this,"focusPrev"),h=b.hitch(this,"focusNext");k.forEach(a,function(a){d[a]=f});k.forEach(c,function(a){d[a]=h});d[e.HOME]=b.hitch(this,"focusFirstChild");d[e.END]=b.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){f.deprecated("startupKeyNavChildren() call no longer needed",
"","2.0")},startup:function(){this.inherited(arguments);k.forEach(this.getChildren(),b.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,
-1),!0)},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"),this._set("focusedChild",a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),c.set(this.domNode,
"tabIndex","-1"))},_onBlur:function(a){this.tabIndex&&c.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(a){if(!a.ctrlKey&&!a.altKey){var b=this._keyNavCodes[a.charOrCode];b&&(b(),h.stop(a))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,b){a&&(a=this._getSiblingOfChild(a,
b));for(var c=this.getChildren(),d=0;d<c.length;d++){a||(a=c[0<b?0:c.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,b)}return null}})})},"phpr/BookingList":function(){define("dojo/_base/array,dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/date/locale,dojo/html,dojo/json,dojo/when,dojo/store/JsonRest,dojo/store/Memory,dojo/store/Observable,dojo/store/Cache,dojo/date,dojo/dom-construct,dojo/dom-class,dojo/dom-style,phpr/BookingList/DayBlock,phpr/Timehelper,phpr/JsonRestQueryEngine,dojo/_base/lang,phpr/Api,phpr/Timehelper,dojo/text!phpr/template/bookingList.html,phpr/BookingList/BookingCreator,dijit/form/FilteringSelect,dijit/form/ValidationTextBox,dijit/form/Textarea,dijit/form/Button,dijit/form/DateTextBox,dijit/form/Form,phpr/DateTextBox".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q,r,t,s,v,u,x,y){return j([i,k,e],{store:null,date:new Date,templateString:y,observer:null,data:null,day2dayBlock:null,constructor:function(){this._setStoreAttr(new a({target:"index.php/Timecard/Timecard/",queryEngine:s}));this.data=[];this.day2dayBlock={}},startup:function(){this.inherited(arguments);this._update()},_setStoreAttr:function(a){this.store=new l(new o(a,new g));this._update()},_setDateAttr:function(a){var b=!this._started||a.getFullYear()!==this.date.getFullYear()||
a.getMonth()!==this.date.getMonth();this.date=a;h.set(this.selectedDate,d.format(a,{selector:"date",datePattern:"MMMM yyy"}));this.bookingCreator.set("date",a);b&&this._update()},_updating:!1,_update:function(){if(!this._updating&&this._started){this._updating=!0;this.bookingCreator.set("store",this.store);if(this.observer)this.observer.cancel(),this.observer=null;var a=this.store.query({filter:this._getQueryString()},{sort:[{attribute:"start_datetime",descending:!0}]});b(a,v.hitch(this,function(a){var b=
this._partitionBookingsByDay(a);this.data=v.clone(a);m.empty(this.content);this.day2dayBlock={};this._addBookingsPartitionedByDay(b);this._updateHoursWorked();this._updating=!1}));this.observer=a.observe(v.hitch(this,"_storeChanged"),!0)}},_updateHoursWorked:function(){var a=0;f.forEach(this.data,function(b){var c=x.datetimeToJsDate(b.startDatetime),b=x.timeToJsDateWithReferenceDate(b.endTime,c);a+=p.difference(c,b,"minute")});this.hoursWorked.innerHTML=""+Math.floor(a/60)+"h";0!==a%60&&(this.hoursWorked.innerHTML+=
" "+a%60+"m")},_updateHoursToWork:function(){u.getData("index.php/Timecard/Index/minutesToWork",{query:{month:this.date.getMonth()+1,year:this.date.getFullYear()}}).then(v.hitch(this,function(a){if(0!==a.minutesToWork){var b=a.minutesToWork%60;this.hoursToWork.innerHTML=""+Math.floor(a.minutesToWork/60)+"h";0!==b&&(this.hoursToWork.innerHTML+=" "+b+"m");q.set(this.hoursToWorkText,"display","")}}))},_storeChanged:function(a,b,c){var a=v.clone(a),d=t.datetimeToJsDate(a.startDatetime);if(-1<b){var e=
t.datetimeToJsDate(this.data[b].startDatetime);this.data.splice(b,1);this._reloadDay(e)}-1<c&&this.data.splice(c,0,a);this._updateHoursWorked();this._reloadDay(d,d)},_reloadDay:function(a,c){var d=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=this.store.query({filter:this._getQueryString(d,p.add(d,"day",1))});b(e,v.hitch(this,function(a){var b=this.day2dayBlock[d.getTime()];b&&b.widget&&(b.widget.destroyRecursive(),delete this.day2dayBlock[d.getTime()]);a=this._partitionBookingsByDay(a);c&&
f.some(a,function(a){return f.some(a.bookings,function(a){var b=0===p.compare(t.datetimeToJsDate(a.startDatetime),c);if(b)a.highlight=!0;return b})});this._addBookingsPartitionedByDay(a)}))},_addBookingsPartitionedByDay:function(a){f.forEach(a,this._addDayBlock,this);this._reorderDayWidgets()},_addDayBlock:function(a){var b=this.day2dayBlock[a.day.getTime()];b&&b.widget&&(b.widget.destroyRecursive(),delete this.day2dayBlock[a.day.getTime()]);a.store=this.store;widget=new r(a);widget.placeAt(this.content);
this.own(widget);this.day2dayBlock[a.day.getTime()]={widget:widget,placed:!1}},_getQueryString:function(a,b){a||(a=this.date||new Date,a=new Date(a.getFullYear(),a.getMonth(),1));b=b||p.add(a,"month",1);return c.stringify({startDatetime:{"!ge":t.jsDateToIsoDatetime(a),"!lt":t.jsDateToIsoDatetime(b)}})},_partitionBookingsByDay:function(a){var b={};f.forEach(a,function(a){var c=t.datetimeToJsDate(a.startDatetime),c=new Date(c.getFullYear(),c.getMonth(),c.getDate());b[c]=b[c]||[];b[c].push(a)});var a=
[],c;for(c in b)a.push({day:new Date(c),bookings:b[c]});return a},_reorderDayWidgets:function(){var a=[],b;for(b in this.day2dayBlock)a.push({ts:b,entry:this.day2dayBlock[b]});a.sort(function(a,b){return parseInt(b.ts,10)>parseInt(a.ts,10)});f.forEach(a,function(a,b,c){if(!1===a.entry.placed){var d=a.entry.widget;0===b?d.placeAt(this.content,"first"):b===c.length-1?d.placeAt(this.content,"last"):d.placeAt(c[b-1].entry.widget,"after");a.entry.placed=!0}},this)}})})},"dojo/date/locale":function(){define("../_base/lang,../_base/array,../date,../cldr/supplemental,../i18n,../regexp,../string,../i18n!../cldr/nls/gregorian,module".split(","),
function(f,j,i,k,e,d,h,c,b){function a(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var g,f,i=e.charAt(0),e=e.length,j=["abbr","wide","narrow"];switch(i){case "G":g=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":g=a.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){g=""+g;g=g.substr(g.length-2);break}default:f=!0}break;case "Q":case "q":g=Math.ceil((a.getMonth()+1)/3);f=!0;break;case "M":case "L":g=a.getMonth();3>e?(g+=1,f=!0):(i=["months","L"==i?"standAlone":
"format",j[e-3]].join("-"),g=b[i][g]);break;case "w":g=o._getWeekOfYear(a,0);f=!0;break;case "d":g=a.getDate();f=!0;break;case "D":g=o._getDayOfYear(a);f=!0;break;case "e":case "c":if(g=a.getDay(),2>e){g=(g-k.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":g=a.getDay();3>e?(g+=1,f=!0):(i=["days","c"==i?"standAlone":"format",j[e-3]].join("-"),g=b[i][g]);break;case "a":i=12>a.getHours()?"am":"pm";g=c[i]||b["dayPeriods-format-wide-"+i];break;case "h":case "H":case "K":case "k":f=a.getHours();switch(i){case "h":g=
f%12||12;break;case "H":g=f;break;case "K":g=f%12;break;case "k":g=f||24}f=!0;break;case "m":g=a.getMinutes();f=!0;break;case "s":g=a.getSeconds();f=!0;break;case "S":g=Math.round(a.getMilliseconds()*Math.pow(10,e-3));f=!0;break;case "v":case "z":if(g=o._getZone(a,!0,c))break;e=4;case "Z":i=o._getZone(a,!1,c);i=[0>=i?"+":"-",h.pad(Math.floor(Math.abs(i)/60),2),h.pad(Math.abs(i)%60,2)];4==e&&(i.splice(0,0,"GMT"),i.splice(3,0,":"));g=i.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}f&&(g=h.pad(g,e));return g})}function g(a,b,c,d){var e=function(a){return a},b=b||e,c=c||e,d=d||e,g=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);j.forEach(g,function(a,d){a?(g[d]=(f?c:b)(a.replace(/''/g,"'")),f=!f):g[d]=""});return d(g.join(""))}function l(a,b,c,e){e=d.escapeString(e);c.strict||(e=e.replace(" a"," ?a"));return e.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var g=d.length,f="",h="";c.strict?(1<g&&(f="0{"+(g-1)+"}"),2<g&&(h="0{"+(g-2)+"}")):(f="0?",h="0{0,2}");switch(e){case "y":e=
"\\d{2,4}";break;case "M":case "L":e=2<g?"\\S+?":"1[0-2]|"+f+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+h+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":e="\\S+";break;case "h":e="1[0-2]|"+f+"[1-9]";break;case "k":e="1[01]|"+f+"\\d";break;case "H":e="1\\d|2[0-3]|"+f+"\\d";break;case "K":e="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+g+"}";
break;case "a":g=c.am||b["dayPeriods-format-wide-am"];f=c.pm||b["dayPeriods-format-wide-pm"];e=g+"|"+f;c.strict||(g!=g.toLowerCase()&&(e+="|"+g.toLowerCase()),f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var o={};f.setObject(b.id.replace(/\//g,"."),o);o._getZone=function(a,b){return b?i.getTimezoneName(a):a.getTimezoneOffset()};o.format=function(b,
c){var c=c||{},d=e.normalizeLocale(c.locale),h=c.formatLength||"short",d=o._getGregorianBundle(d),k=[],i=f.hitch(this,a,b,d,c);if("year"==c.selector)return g(d["dateFormatItem-yyyy"]||"yyyy",i);var j;"date"!=c.selector&&(j=c.timePattern||d["timeFormat-"+h])&&k.push(g(j,i));"time"!=c.selector&&(j=c.datePattern||d["dateFormat-"+h])&&k.push(g(j,i));return 1==k.length?k[0]:d["dateTimeFormat-"+h].replace(/\{(\d+)\}/g,function(a,b){return k[b]})};o.regexp=function(a){return o._parseInfo(a).regexp};o._parseInfo=
function(a){var a=a||{},b=e.normalizeLocale(a.locale),b=o._getGregorianBundle(b),c=a.formatLength||"short",d=a.datePattern||b["dateFormat-"+c],h=a.timePattern||b["timeFormat-"+c],c="date"==a.selector?d:"time"==a.selector?h:b["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[h,d][b]}),k=[];return{regexp:g(c,f.hitch(this,l,k,b,a)),tokens:k,bundle:b}};o.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=o._parseInfo(b),e=d.tokens,g=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",
d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var f=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],k="",c=j.every(c,function(a,c){if(!c)return!0;var d=e[c-1],i=d.length,d=d.charAt(0);switch(d){case "y":if(2!=i&&b.strict)h[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),i=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),h[0]=a<d?i+a:i-100+a;else{if(b.strict)return!1;h[0]=a}break;case "M":case "L":if(2<i){if(i=g["months-"+("L"==d?"standAlone":"format")+"-"+f[i-
3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),i=j.map(i,function(a){return a.replace(".","").toLowerCase()})),a=j.indexOf(i,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":i=g["days-"+("c"==d?"standAlone":"format")+"-"+f[i-3]].concat();b.strict||(a=a.toLowerCase(),i=j.map(i,function(a){return a.toLowerCase()}));a=j.indexOf(i,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":i=b.am||g["dayPeriods-format-wide-am"];d=b.pm||g["dayPeriods-format-wide-pm"];
if(!b.strict)var l=/\./g,a=a.replace(l,"").toLowerCase(),i=i.replace(l,"").toLowerCase(),d=d.replace(l,"").toLowerCase();if(b.strict&&a!=i&&a!=d)return!1;k=a==d?"p":a==i?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;h[3]=a;break;case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),d=+h[3];"p"===k&&12>d?h[3]=d+12:"a"===k&&12==d&&(h[3]=0);d=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);b.strict&&d.setFullYear(h[0]);var l=e.join(""),p=-1!=l.indexOf("d"),
l=-1!=l.indexOf("M");if(!c||l&&d.getMonth()>h[1]||p&&d.getDate()>h[2])return null;if(l&&d.getMonth()<h[1]||p&&d.getDate()<h[2])d=i.add(d,"hour",1);return d};var p=[];o.addCustomFormats=function(a,b){p.push({pkg:a,name:b})};o._getGregorianBundle=function(a){var b={};j.forEach(p,function(c){c=e.getLocalization(c.pkg,c.name,a);b=f.mixin(b,c)},this);return b};o.addCustomFormats(b.id.replace(/\/date\/locale$/,".cldr"),"gregorian");o.getNames=function(a,b,c,d){var e,d=o._getGregorianBundle(d),a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};o.isWeekend=function(a,b){var c=k.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};o._getDayOfYear=function(a){return i.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};o._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((o._getDayOfYear(a)+(c-b+7)%7-
1)/7);c==b&&d++;return d};return o})},"dojo/date":function(){define(["./has","./_base/lang"],function(f,j){var i={};i.getDaysInMonth=function(f){var e=f.getMonth(),d=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==e&&i.isLeapYear(f)?29:d[e]};i.isLeapYear=function(f){f=f.getFullYear();return!(f%400)||!(f%4)&&!!(f%100)};i.getTimezoneName=function(f){var e=f.toString(),d="",h=e.indexOf("(");if(-1<h)d=e.substring(++h,e.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,e=e.match(h))d=e[1];else if(e=f.toLocaleString(),
h=/ ([A-Z\/]+)$/,e=e.match(h))d=e[1];return"AM"==d||"PM"==d?"":d};i.compare=function(f,e,d){f=new Date(+f);e=new Date(+(e||new Date));"date"==d?(f.setHours(0,0,0,0),e.setHours(0,0,0,0)):"time"==d&&(f.setFullYear(0,0,0),e.setFullYear(0,0,0));return f>e?1:f<e?-1:0};i.add=function(f,e,d){var h=new Date(+f),c=!1,b="Date";switch(e){case "day":break;case "weekday":var a;(e=d%5)?a=parseInt(d/5):(e=0<d?5:-5,a=0<d?(d-5)/5:(d+5)/5);var g=f.getDay(),i=0;6==g&&0<d?i=1:0==g&&0>d&&(i=-1);g+=e;if(0==g||6==g)i=0<
d?2:-2;d=7*a+e+i;break;case "year":b="FullYear";c=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":c=!0;b="Month";break;default:b="UTC"+e.charAt(0).toUpperCase()+e.substring(1)+"s"}if(b)h["set"+b](h["get"+b]()+d);c&&h.getDate()<f.getDate()&&h.setDate(0);return h};i.difference=function(f,e,d){var e=e||new Date,d=d||"day",h=e.getFullYear()-f.getFullYear(),c=1;switch(d){case "quarter":f=f.getMonth();e=e.getMonth();f=Math.floor(f/3)+1;e=Math.floor(e/3)+1;c=e+4*h-f;break;case "weekday":h=
Math.round(i.difference(f,e,"day"));d=parseInt(i.difference(f,e,"week"));if(0==h%7)h=5*d;else{var c=0,b=f.getDay(),a=e.getDay(),d=parseInt(h/7),e=h%7,f=new Date(f);f.setDate(f.getDate()+7*d);f=f.getDay();if(0<h)switch(!0){case 6==b:c=-1;break;case 0==b:c=0;break;case 6==a:c=-1;break;case 0==a:c=-2;break;case 5<f+e:c=-2}else if(0>h)switch(!0){case 6==b:c=0;break;case 0==b:c=1;break;case 6==a:c=2;break;case 0==a:c=1;break;case 0>f+e:c=2}h=h+c-2*d}c=h;break;case "year":c=h;break;case "month":c=e.getMonth()-
f.getMonth()+12*h;break;case "week":c=parseInt(i.difference(f,e,"day")/7);break;case "day":c/=24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=e.getTime()-f.getTime()}return Math.round(c)};j.mixin(j.getObject("dojo.date",!0),i);return i})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(f,j){var i={};f.setObject("dojo.cldr.supplemental",i);i.getFirstDayOfWeek=function(f){f={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,
ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[i._region(f)];return void 0===f?1:f};i._region=function(f){var f=j.normalizeLocale(f),f=f.split("-"),e=f[1];e?4==e.length&&(e=f[2]):e={de:"de",en:"us",es:"es",fi:"fi",
fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[f[0]];return e};i.getWeekend=function(f){var e=i._region(f),f={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[e],e={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[e];void 0===f&&(f=6);void 0===e&&(e=0);return{start:f,end:e}};return i})},"dojo/regexp":function(){define("dojo/regexp",["./_base/kernel","./_base/lang"],
function(f,j){var i={};j.setObject("dojo.regexp",i);i.escapeString=function(f,e){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(d){return e&&-1!=e.indexOf(d)?d:"\\"+d})};i.buildGroupRE=function(f,e,d){if(!(f instanceof Array))return e(f);for(var h=[],c=0;c<f.length;c++)h.push(e(f[c]));return i.group(h.join("|"),d)};i.group=function(f,e){return"("+(e?"?:":"")+f+")"};return i})},"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],
function(f,j,i,k,e){return k("dojo.store.JsonRest",null,{constructor:function(d){this.headers={};k.safeMixin(this,d)},headers:{},target:"",idProperty:"id",get:function(d,e){var e=e||{},c=j.mixin({Accept:this.accepts},this.headers,e.headers||e);return f("GET",{url:this.target+d,handleAs:"json",headers:c})},accepts:"application/javascript, application/json",getIdentity:function(d){return d[this.idProperty]},put:function(d,e){var e=e||{},c="id"in e?e.id:this.getIdentity(d),b="undefined"!=typeof c;return f(b&&
!e.incremental?"PUT":"POST",{url:b?this.target+c:this.target,postData:i.stringify(d),handleAs:"json",headers:j.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===e.overwrite?"*":null,"If-None-Match":!1===e.overwrite?"*":null},this.headers,e.headers)})},add:function(d,e){e=e||{};e.overwrite=!1;return this.put(d,e)},remove:function(d,e){e=e||{};return f("DELETE",{url:this.target+d,headers:j.mixin({},this.headers,e.headers)})},query:function(d,h){var h=h||{},c=j.mixin({Accept:this.accepts},
this.headers,h.headers);if(0<=h.start||0<=h.count)c.Range=c["X-Range"]="items="+(h.start||"0")+"-"+("count"in h&&Infinity!=h.count?h.count+(h.start||0)-1:"");var b=-1<this.target.indexOf("?");d&&"object"==typeof d&&(d=(d=f.objectToQuery(d))?(b?"&":"?")+d:"");if(h&&h.sort){for(var a=this.sortParam,d=d+((d||b?"&":"?")+(a?a+"=":"sort(")),b=0;b<h.sort.length;b++)var g=h.sort[b],d=d+((0<b?",":"")+(g.descending?"-":"+")+encodeURIComponent(g.attribute));a||(d+=")")}var k=f("GET",{url:this.target+(d||""),
handleAs:"json",headers:c});k.total=k.then(function(){var a=k.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return e(k)}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../_base/Deferred"],function(f,j,i){var k=function(e){function d(d){e[d]||(e[d]=function(){var c=arguments;return i.when(e,function(b){Array.prototype.unshift.call(c,b);return k(f[d].apply(f,c))})})}if(!e)return e;e.then&&(e=j.delegate(e));d("forEach");
d("filter");d("map");if(!e.total)e.total=i.when(e,function(d){return d.length});return e};j.setObject("dojo.store.util.QueryResults",k);return k})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(f,j,i){return f("dojo.store.Memory",null,{constructor:function(f){for(var e in f)this[e]=f[e];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:i,get:function(f){return this.data[this.index[f]]},getIdentity:function(f){return f[this.idProperty]},
put:function(f,e){var d=this.data,h=this.index,c=this.idProperty,c=f[c]=e&&"id"in e?e.id:c in f?f[c]:Math.random();if(c in h){if(e&&!1===e.overwrite)throw Error("Object already exists");d[h[c]]=f}else h[c]=d.push(f)-1;return c},add:function(f,e){(e=e||{}).overwrite=!1;return this.put(f,e)},remove:function(f){var e=this.index,d=this.data;if(f in e)return d.splice(e[f],1),this.setData(d),!0},query:function(f,e){return j(this.queryEngine(f,e)(this.data))},setData:function(f){var a;f.items?(this.idProperty=
f.identifier,a=this.data=f.items,f=a):this.data=f;this.index={};for(var e=0,d=f.length;e<d;e++)this.index[f[e][this.idProperty]]=e}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(f){return function(j,i){function k(d){var d=f.filter(d,j),e=i&&i.sort;e&&d.sort("function"==typeof e?e:function(b,a){for(var c,d=0;c=e[d];d++){var f=b[c.attribute],k=a[c.attribute];if(f!=k)return!!c.descending==(null==f||f>k)?-1:1}return 0});if(i&&(i.start||i.count)){var c=d.length,
d=d.slice(i.start||0,(i.start||0)+(i.count||Infinity));d.total=c}return d}switch(typeof j){default:throw Error("Can not query with a "+typeof j);case "object":case "undefined":var e=j,j=function(d){for(var f in e){var c=e[f];if(c&&c.test){if(!c.test(d[f],d))return!1}else if(c!=d[f])return!1}return!0};break;case "string":if(!this[j])throw Error("No filter function "+j+" was found in store");j=this[j];case "function":}k.matches=j;return k}})},"dojo/store/Observable":function(){define(["../_base/kernel",
"../_base/lang","../_base/Deferred","../_base/array"],function(f,j,i,k){f=function(e){function d(b,c){var d=e[b];d&&(e[b]=function(b){if(a)return d.apply(this,arguments);a=!0;try{var e=d.apply(this,arguments);i.when(e,function(a){c("object"==typeof a&&a||b)});return e}finally{a=!1}})}var f=[],c=0,e=j.delegate(e);e.notify=function(a,b){c++;for(var d=f.slice(),e=0,k=d.length;e<k;e++)d[e](a,b)};var b=e.query;e.query=function(a,d){var d=d||{},o=b.apply(this,arguments);if(o&&o.forEach){var p=j.mixin({},
d);delete p.start;delete p.count;var m=e.queryEngine&&e.queryEngine(a,p),n=c,q=[],r;o.observe=function(a,b){1==q.push(a)&&f.push(r=function(a,g){i.when(o,function(f){var h=f.length!=d.count,i,j;if(++n!=c)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var r,o=-1,p=-1;if(void 0!==g)for(i=0,j=f.length;i<j;i++){var t=f[i];if(e.getIdentity(t)==g){r=t;o=i;(m||!a)&&f.splice(i,1);break}}if(m){if(a&&(m.matches?m.matches(a):m([a]).length))i=-1<o?o:f.length,
f.splice(i,0,a),p=k.indexOf(m(f),a),f.splice(i,1),d.start&&0==p||!h&&p==f.length?p=-1:f.splice(p,0,a)}else a&&(void 0!==g?p=o:d.start||(p=e.defaultIndex||0,f.splice(p,0,a)));if((-1<o||-1<p)&&(b||!m||o!=p)){h=q.slice();for(i=0;f=h[i];i++)f(a||r,o,p)}})});var g={};g.remove=g.cancel=function(){var b=k.indexOf(q,a);-1<b&&(q.splice(b,1),q.length||f.splice(k.indexOf(f,r),1))};return g}}return o};var a;d("put",function(a){e.notify(a,e.getIdentity(a))});d("add",function(a){e.notify(a)});d("remove",function(a){e.notify(void 0,
a)});return e};j.setObject("dojo.store.Observable",f);return f})},"dojo/store/Cache":function(){define(["../_base/lang","../_base/Deferred"],function(f,j){var i=function(k,e,d){d=d||{};return f.delegate(k,{query:function(f,c){var b=k.query(f,c);b.forEach(function(a){(!d.isLoaded||d.isLoaded(a))&&e.put(a)});return b},queryEngine:k.queryEngine||e.queryEngine,get:function(d,c){return j.when(e.get(d),function(b){return b||j.when(k.get(d,c),function(a){a&&e.put(a,{id:d});return a})})},add:function(d,c){return j.when(k.add(d,
c),function(b){e.add("object"==typeof b?b:d,c);return b})},put:function(d,c){e.remove(c&&c.id||this.getIdentity(d));return j.when(k.put(d,c),function(b){e.put("object"==typeof b?b:d,c);return b})},remove:function(d,c){return j.when(k.remove(d,c),function(){return e.remove(d,c)})},evict:function(d){return e.remove(d)}})};f.setObject("dojo.store.Cache",i);return i})},"phpr/BookingList/DayBlock":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-class,dojo/date,dojo/date/locale,dojo/html,phpr/Timehelper,dijit/_WidgetBase,dijit/_TemplatedMixin,phpr/BookingList/BookingBlockWrapper,dojo/text!phpr/template/bookingList/dayBlock.html".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l){return f([b,a],{day:null,bookings:null,store:null,templateString:l,constructor:function(){this.day=new Date;this.bookings=[]},buildRendering:function(){this.inherited(arguments);this.bookings.sort(function(a,b){var d=c.datetimeToJsDate(a.startDatetime).getTime(),e=c.datetimeToJsDate(b.startDatetime).getTime();return d>e});i.forEach(this.bookings,function(a){a=new g({booking:a,store:this.store});a.placeAt(this.body);this.own(a)},this);this._checkEmpty();h.set(this.header,
d.format(this.day,{selector:"date",formatLength:"long"}));0===e.compare(new Date,this.day,"date")?k.add(this.header,"today"):k.remove(this.header,"today")},_checkEmpty:function(){0===this.body.children.length?0===e.compare(new Date,this.day,"date")&&k.add(this.body,"empty"):k.remove(this.body,"empty")}})})},"phpr/Timehelper":function(){define(["exports","dojo/number"],function(f,j){var i=function(f){return"0"===f.substr(0,1)?f.substr(1):f};f.datetimeToJsDate=function(f){return new Date(f.substr(0,
4),i(f.substr(5,2))-1,i(f.substr(8,2)),i(f.substr(11,2)),i(f.substr(14,2)),i(f.substr(17,2)))};f.timeToJsDate=function(f){return new Date(0,0,0,i(f.substr(0,2)),i(f.substr(3,2)),i(f.substr(6,2)))};f.timeToJsDateWithReferenceDate=function(f,e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),i(f.substr(0,2)),i(f.substr(3,2)),i(f.substr(6,2)))};f.jsDateToIsoDate=function(f){var e=j.format(f.getDate(),{pattern:"00"}),d=j.format(f.getMonth()+1,{pattern:"00"});return f.getFullYear()+"-"+d+"-"+
e};f.jsDateToIsoTime=function(f){var e;e=f.getHours();f=f.getMinutes();if(isNaN(e)||24<e||0>e)hour="00";if(isNaN(f)||60<f||0>f)f="00";return j.format(e,{pattern:"00"})+":"+j.format(f,{pattern:"00"})};f.jsDateToIsoDatetime=function(k){null===k&&(k=new Date);return f.jsDateToIsoDate(k)+" "+f.jsDateToIsoTime(k)}})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(f,j,i,k,e){var d={};f.setObject("dojo.number",d);d.format=function(c,b){var b=
f.mixin({},b||{}),a=j.normalizeLocale(b.locale),a=j.getLocalization("dojo.cldr","number",a);b.customs=a;a=b.pattern||a[(b.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?null:d._applyPattern(c,a,b)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(c,b,a){var a=a||{},e=a.customs.group,f=a.customs.decimal,b=b.split(";"),h=b[0],b=b[0>c?1:0]||"-"+h;if(-1!=b.indexOf("%"))c*=100;else if(-1!=b.indexOf("\u2030"))c*=1E3;else if(-1!=b.indexOf("\u00a4"))e=a.customs.currencyGroup||
e,f=a.customs.currencyDecimal||f,b=b.replace(/\u00a4{1,3}/,function(b){return a[["symbol","currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var k=d._numberPatternRE,h=h.match(k);if(!h)throw Error("unable to find a number expression in pattern: "+b);if(!1===a.fractional)a.places=0;return b.replace(k,d._formatAbsolute(c,h[0],{decimal:f,group:e,places:a.places,round:a.round}))};d.round=function(c,b,a){a=10/(a||10);return(a*
+c).toFixed(b)/a};if(0==(0.9).toFixed()){var h=d.round;d.round=function(c,b,a){var d=Math.pow(10,-b||0),e=Math.abs(c);if(!c||e>=d||5>e*Math.pow(10,b+1))d=0;return h(c,b,a)+(0<c?d:-d)}}d._formatAbsolute=function(c,b,a){a=a||{};if(!0===a.places)a.places=0;if(Infinity===a.places)a.places=6;var b=b.split("."),e="string"==typeof a.places&&a.places.indexOf(","),f=a.places;if(e)f=a.places.substring(e+1);else if(!(0<=f))f=(b[1]||[]).length;0>a.round||(c=d.round(c,f,a.round));var c=(""+Math.abs(c)).split("."),
h=c[1]||"";if(b[1]||a.places){if(e)a.places=a.places.substring(0,e);e=void 0!==a.places?a.places:b[1]&&b[1].lastIndexOf("0")+1;e>h.length&&(c[1]=k.pad(h,e,"0",!0));f<h.length&&(c[1]=h.substr(0,f))}else c[1]&&c.pop();f=b[0].replace(",","");e=f.indexOf("0");-1!=e&&(e=f.length-e,e>c[0].length&&(c[0]=k.pad(c[0],e)),-1==f.indexOf("#")&&(c[0]=c[0].substr(c[0].length-e)));var f=b[0].lastIndexOf(","),i,j;-1!=f&&(i=b[0].length-f-1,b=b[0].substr(0,f),f=b.lastIndexOf(","),-1!=f&&(j=b.length-f-1));b=[];for(f=
c[0];f;)e=f.length-i,b.push(0<e?f.substr(e):f),f=0<e?f.slice(0,e):"",j&&(i=j,delete j);c[0]=b.reverse().join(a.group||",");return c.join(a.decimal||".")};d.regexp=function(c){return d._parseInfo(c).regexp};d._parseInfo=function(c){var c=c||{},b=j.normalizeLocale(c.locale),b=j.getLocalization("dojo.cldr","number",b),a=c.pattern||b[(c.type||"decimal")+"Format"],f=b.group,h=b.decimal,k=1;if(-1!=a.indexOf("%"))k/=100;else if(-1!=a.indexOf("\u2030"))k/=1E3;else{var i=-1!=a.indexOf("\u00a4");i&&(f=b.currencyGroup||
f,h=b.currencyDecimal||h)}b=a.split(";");1==b.length&&b.push("-"+b[0]);b=e.buildGroupRE(b,function(a){a="(?:"+e.escapeString(a,".")+")";return a.replace(d._numberPatternRE,function(a){var b={signed:!1,separator:c.strict?f:[f,""],fractional:c.fractional,decimal:h,exponent:!1},a=a.split("."),e=c.places;1==a.length&&1!=k&&(a[1]="###");if(1==a.length||0===e)b.fractional=!1;else{void 0===e&&(e=c.pattern?a[1].lastIndexOf("0")+1:Infinity);if(e&&void 0==c.fractional)b.fractional=!0;!c.places&&e<a[1].length&&
(e+=","+a[1].length);b.places=e}a=a[0].split(",");if(1<a.length&&(b.groupSize=a.pop().length,1<a.length))b.groupSize2=a.pop().length;return"("+d._realNumberRegexp(b)+")"})},!0);i&&(b=b.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,f){a=e.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");b=b?"[\\s\\xa0]":"";f=f?"[\\s\\xa0]":"";return!c.strict?(b&&(b+="*"),f&&(f+="*"),"(?:"+b+a+f+")?"):b+a+f}));return{regexp:b.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:f,decimal:h,
factor:k}};d.parse=function(c,b){var a=d._parseInfo(b),e=RegExp("^"+a.regexp+"$").exec(c);if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];a.factor*=-1}f=f.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return f*a.factor};d._realNumberRegexp=function(c){c=c||{};if(!("places"in c))c.places=Infinity;if("string"!=typeof c.decimal)c.decimal=".";if(!("fractional"in c)||/^0/.test(c.places))c.fractional=[!0,!1];if(!("exponent"in c))c.exponent=[!0,!1];if(!("eSigned"in
c))c.eSigned=[!0,!1];var b=d._integerRegexp(c),a=e.buildGroupRE(c.fractional,function(a){var b="";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),f=e.buildGroupRE(c.exponent,function(a){return a?"([eE]"+d._integerRegexp({signed:c.eSigned})+")":""}),b=b+a;a&&(b="(?:(?:"+b+")|(?:"+a+"))");return b+f};d._integerRegexp=function(c){c=c||{};if(!("signed"in c))c.signed=[!0,!1];if("separator"in c){if(!("groupSize"in c))c.groupSize=3}else c.separator=
"";var b=e.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),a=e.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";a=e.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var b=c.groupSize,d=c.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+b+"})",0<b-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+a+"]\\d{"+b+"})*)"},!0);return b+a};return d})},"phpr/BookingList/BookingBlockWrapper":function(){define("dojo/_base/declare,dojo/_base/lang,dijit/_WidgetBase,dojo/dom-style,phpr/BookingList/BookingBlock,phpr/BookingList/BookingEditor".split(","),
function(f,j,i,k,e,d){return f([i],{bookingBlock:null,editBlock:null,store:null,postCreate:function(){this.inherited(arguments);this.bookingBlock=new e(this.params);this.bookingBlock.placeAt(this.domNode);this.bookingBlock.on("editClick",j.hitch(this,"_editClick"));this.own(this.bookingBlock);this.bookingBlock.startup()},_editClick:function(){var e=this.bookingBlock.get("booking");k.set(this.bookingBlock.domNode,"display","none");this.editBlock&&this.editBlock.destroyRecursive();this.editBlock=new d({booking:e,
store:this.store});this.editBlock.placeAt(this.domNode);this.editBlock.on("editCancel",j.hitch(this,"_editCancel"));this.editBlock.startup();this.own(this.editBlock)},_editCancel:function(){if(this.editBlock)this.editBlock.destroyRecursive(),this.editBlock=null;k.set(this.bookingBlock.domNode,"display","")}})})},"phpr/BookingList/BookingBlock":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/html,dojo/on,dojo/dom-class,dojo/date,dojo/date/locale,dojo/topic,dojo/query,dojo/json,dojo/NodeList-dom,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/Evented,phpr/Timehelper,phpr/Api,dojo/text!phpr/template/bookingList/bookingBlock.html".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q,r,t){var s=function(){a(".bookingEntry.selected, .bookingEntry.confirmDeletion").removeClass("selected confirmDeletion")};e(i.doc,"click",s);return f([o,p,m,n],{store:null,booking:null,_actionTimeout:null,templateString:t,_setBookingAttr:function(a){r.projectTitleForId(a.projectId).then(j.hitch(this,function(a){k.set(this.project,a)}));var b=q.datetimeToJsDate(a.startDatetime),d=a.endTime||"",d=""!==d,e=c.format(b,{selector:"time"})+" - ";if(d){d=q.timeToJsDate(a.endTime);
d.setDate(b.getDate());d.setMonth(b.getMonth());d.setFullYear(b.getFullYear());var b=h.difference(b,d,"minute"),f=Math.floor(b/60);k.set(this.time,e+c.format(d,{selector:"time"})+" ("+f+"h "+b%60+"m)")}else k.set(this.time,e);k.set(this.notes,a.notes)},_delete:function(a){a.stopPropagation();this._doClickAction(function(){s();d.add(this.domNode,"confirmDeletion")})},_confirmDeletion:function(a){a.stopPropagation();this._doClickAction(function(){this.store.remove(this.booking.id).then(void 0,function(a){b.publish("notification",
g.parse(a.responseText))})})},startup:function(){this.inherited(arguments);this.booking&&!0===this.booking.highlight&&d.add(this.domNode,"highlight");this.own(e(this.domNode,"click",j.hitch(this,this._markSelected)))},_markSelected:function(a){a.stopPropagation();d.contains(this.domNode,"confirmDeletion")||(s(),d.add(this.domNode,"selected"))},_edit:function(){this.emit("editClick")},_doClickAction:function(a){clearTimeout(this._actionTimeout);this._actionTimeout=setTimeout(j.hitch(this,a),500)}})})},
"url:phpr/template/bookingList/bookingBlock.html":'<div class="bookingEntry">\n    <span data-dojo-attach-point="project" class="project"></span>\n    <span data-dojo-attach-point="time"    class="time"></span>\n    <button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-point="deleteButton"\n        data-dojo-props="showLabel: false, iconClass: \'deleteIcon\', baseClass: \'deleteButton\'"\n        data-dojo-attach-event="onClick:_delete" class="deleteButton"></button>\n    <button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-point="confirmDeleteButton"\n        data-dojo-props="iconClass: \'deleteIcon\'"\n        data-dojo-attach-event="onClick:_confirmDeletion" class="confirmDeleteButton">Delete?</button>\n    <button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-point="editButton"\n        data-dojo-props="showLabel: false, iconClass: \'editIcon\', baseClass: \'editButton\'"\n        data-dojo-attach-event="onClick:_edit" class="editButton"></button>\n    <span data-dojo-attach-point="notes" class="notes"></span>\n</div>\n',
"phpr/BookingList/BookingEditor":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/html,dojo/Evented,dojo/date,dojo/date/locale,dojo/dom-style,dijit/_FocusMixin,phpr/BookingList/BookingCreator,phpr/Api,phpr/Timehelper,dojo/text!phpr/template/bookingList/bookingEditor.html".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o){return f([a,e,b],{booking:null,baseClass:"bookingEditor",templateString:o,constructor:function(){this.booking={}},startup:function(){this.inherited(arguments);this.start.focus()},
_cancel:function(){this.emit("editCancel")},_showErrorInWarningIcon:g.errorHandlerForTag("bookingEditor"),_submit:function(a){a.stopPropagation();this.form.validate()&&(a=this.form.get("value"),(a=this._prepareDataForSend(j.mixin({},this.booking,a)))&&this.store.put(a).then(function(){topic.publish("notification/clear","bookingEditor")},j.hitch(this,function(a){try{var b=json.parse(a.responseText,!0);b.message&&b.message.match(/entry.*overlaps.*existing/)?this._markOverlapError():this._showErrorInWarningIcon(a)}catch(c){this._showErrorInWarningIcon(a)}})));
return!1},_onBlur:function(){this._cancel()}})})},"phpr/BookingList/BookingCreator":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/on,dojo/number,dojo/dom-class,dojo/promise/all,dojo/topic,dojo/json,dojo/store/JsonRest,dojo/store/Memory,dijit/Tooltip,phpr/BookingList/BookingBlock,phpr/Api,phpr/Timehelper,phpr/models/Project,dojo/text!phpr/template/bookingList/bookingCreator.html".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q){return f([o],{templateString:q,store:null,
projectDeferred:null,buildRendering:function(){this.inherited(arguments);this.date.set("value",new Date);this.own(this.form.on("submit",j.hitch(this,this._submit)));this.projectDeferred=h({recent:n.getRecentProjects(),projects:n.getProjects()});this.projectDeferred=this.projectDeferred.then(j.hitch(this,function(a){var b=[],c=function(a){b.push({id:""+a.id,name:""+a.id+" "+a.title,label:'<span class="projectId">'+a.id+"</span> "+a.title})};i.forEach(a.recent,c);0<a.recent.length&&b.push({label:"<hr />"});
b.push({id:"1",name:"1 Unassigned",label:'<span class="projectId">1</span> Unassigned'});for(var d in a.projects)c(a.projects[d]);this.project.set("store",new g({data:b}))}))},_setBookingAttr:function(a){var b=function(a){return e.format(a.getHours(),{pattern:"00"})+":"+e.format(a.getMinutes(),{pattern:"00"})};this.projectDeferred.then(j.hitch(this,function(){this.project.set("value",""+a.projectId)}));var c=m.datetimeToJsDate(a.startDatetime);this.start.set("value",b(c));this.date.set("value",c);
a.endTime&&(c=m.timeToJsDate(a.endTime),this.end.set("value",b(c)));a.notes&&this.notes.set("value",a.notes);this.booking=a},postCreate:function(){if(!this.store)this.store=new a({target:"index.php/Timecard/Timecard/"});this.own(k(this.notesIcon,"click",j.hitch(this,"toggleNotes")));this.start.set("placeHolder","Start");this.end.set("placeHolder","End");this.notes.set("placeHolder","Notes");this.end.validate=this._endValidateFunction(this.end.validate,this.start)},toggleNotes:function(){var a=!0;
d.contains(this.notesContainer,"open")&&(a=!1);d.toggle(this.notesContainer,"open");a?this.notes.focus():this.end.focus()},_getStartRegexp:function(){return"(([01]?\\d|2[0123])[:\\. ]?([01-5]\\d)|24[:\\. ]?00)"},_getEndRegexp:function(){return"(([01]?\\d|2[0123])[:\\. ]?([01-5]\\d)|24[:\\. ]?00)?"},_showErrorInWarningIcon:p.errorHandlerForTag("bookingCreator"),_submit:function(a){a.stopPropagation();if(this.form.validate()){var a=this.form.get("value"),d=this._prepareDataForSend(a);this.emit("create",
a);d&&this.store.put(d).then(function(){c.publish("notification/clear","bookingCreator")},j.hitch(this,function(a){try{var c=b.parse(a.responseText,!0);c.error&&"overlappingEntry"===c.error?this._markOverlapError():this._showErrorInWarningIcon(a)}catch(d){this._showErrorInWarningIcon(a)}}))}return!1},_markOverlapError:function(){this.start.set("state","Error");this.end.set("state","Error");this.end.set("message","The entry overlaps with an existing one")},_prepareDataForSend:function(a){var b={},
c=this._inputToTime(a.start,this._getStartRegexp()),d=this._inputToTime(a.end,this._getEndRegexp());if(!c)return!1;if(d)b.endTime=m.jsDateToIsoTime(d)+":00";if(a.id)b.id=a.id;d=new Date(a.date.getTime());d.setHours(c.getHours());d.setMinutes(c.getMinutes());b.startDatetime=m.jsDateToIsoDatetime(d)+":00";b.notes=a.notes||"";b.projectId=a.project||"1";return b},_inputToTime:function(a,b){if(0!==a.length){var c=a.match(b);if(c[2]&&c[3]){var d=new Date;d.setHours(parseInt(c[2],10));d.setMinutes(parseInt(c[3],
10));return d}}return null},_setDateAttr:function(a){this.date.set("value",a)},_endValidateFunction:function(a,b){return function(c){var d=a.apply(this,arguments);if(!d)return d;var e=this.get("value"),f=!1;if(e.match(/^\d{3}$/)){if(c)return d;f=!0}d=parseInt(b.get("value").replace(/D/g,""));e=parseInt(e.replace(/\D/g,""),10);return d>=e?(this._maskValidSubsetError=!1,this.focusNode.setAttribute("aria-invalid","true"),this.set("state","Error"),this.set("message","End time must be after start time"),
f&&l.show("End time must be after start time",this.domNode,this.tooltipPosition,!this.isLeftToRight()),!1):!0}}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(f,j,i){var k=f.some;return function(e){var d,f;e instanceof Array?f=e:e&&"object"===typeof e&&(d=e);var c,b=[];if(d){f=[];for(var a in d)Object.hasOwnProperty.call(d,a)&&(b.push(a),f.push(d[a]));c={}}else f&&(c=[]);if(!f||!f.length)return(new j).resolve(c);var g=new j;g.promise.always(function(){c=
b=null});var l=f.length;k(f,function(a,e){d||b.push(e);i(a,function(a){g.isFulfilled()||(c[b[e]]=a,0===--l&&g.resolve(c))},g.reject);return g.isFulfilled()});return g.promise}})},"phpr/models/Project":function(){define("exports,dojo/_base/array,dojo/_base/lang,dojo/Deferred,dojo/promise/all,phpr/Api".split(","),function(f,j,i,k,e,d){f.getProjects=function(e){var c={recursive:!0,projectId:1};i.mixin(c,e);var b=new k;d.getData("index.php/Project/Project",{query:c}).then(function(a){var c={};j.forEach(a,
function(a){c[a.id]=a});b.resolve(c)},d.defaultErrorHandler);return b};f.getRecentProjects=function(h){var c={count:2};i.mixin(c,h);var b=new k;e({projects:f.getProjects(),recent:d.getData("index.php/Timecard/index/jsonRecentProjects",{query:{n:c.count}})}).then(function(a){var c=j.map(a.recent,function(b){return a.projects[b]});b.resolve(c)},d.defaultErrorHandler);return b}})},"url:phpr/template/bookingList/bookingCreator.html":'<div class="bookingCreator">\n    <div data-dojo-attach-point="form" data-dojo-type="dijit/form/Form">\n        <div class="first">\n            <select data-dojo-attach-point="project"\n                    class="project"\n                    name="project"\n                    data-dojo-type="dijit/form/FilteringSelect"\n                    data-dojo-props="autoComplete: false, labelType: \'html\', searchAttr: \'name\', labelAttr: \'label\',\n                                     queryExpr: \'*$\\{0\\}*\'">\n                <option value="1"><span class="projectId">1</span> Unassigned</option>\n            </select>\n            <input type="text"\n                   name="start"\n                   required="true"\n                   data-dojo-type="dijit/form/ValidationTextBox"\n                   data-dojo-attach-point="start"\n                   data-dojo-props="pattern: this._getStartRegexp, invalidMessage: \'Invalid time format\'"\n                   class="time"/>\n            -\n            <input type="text"\n                   name="end"\n                   data-dojo-type="dijit/form/ValidationTextBox"\n                   data-dojo-attach-point="end"\n                   data-dojo-props="pattern: this._getEndRegexp, invalidMessage: \'Invalid time format\'"\n                   class="time"/>\n            <input type="text"\n                   name="date"\n                   data-dojo-type="phpr/DateTextBox"\n                   value="today"\n                   data-dojo-attach-point="date"\n                   class="date"/>\n            <a href="javascript: void(0)" class="notesIcon" data-dojo-attach-point="notesIcon"><div><b></b></div></a>\n            <button data-dojo-type="dijit/form/Button"\n                    type="submit"\n                    data-dojo-attach-point="submitButton"\n                    data-dojo-props="showLabel: false, iconClass: \'submitIcon\', baseClass: \'submitButton\'"\n                    class="submitButton">Submit</button>\n        </div>\n        <div data-dojo-attach-point="notesContainer" class="second">\n            <input type="text"\n                   name="notes"\n                   class="notes"\n                   data-dojo-type="dijit/form/TextBox"\n                   data-dojo-attach-point="notes"/>\n        </div>\n    </div>\n</div>\n',
"url:phpr/template/bookingList/bookingEditor.html":'<div class="bookingCreator">\n    <div data-dojo-attach-point="form" data-dojo-type="dijit/form/Form">\n        <table><tr><td>\n            <div class="first">\n                <select data-dojo-attach-point="project"\n                        class="project"\n                        name="project"\n                        data-dojo-type="dijit/form/FilteringSelect"\n                        data-dojo-props="labelType: \'html\', searchAttr: \'name\', labelAttr: \'label\', queryExpr: \'*$\\{0\\}*\'">\n                    <option value="1"><span class="projectId">1</span> Unassigned</option>\n                </select>\n                <input type="text"\n                       name="start"\n                       data-dojo-type="dijit/form/ValidationTextBox"\n                       data-dojo-attach-point="start"\n                       data-dojo-props="pattern: this._getStartRegexp, invalidMessage: \'Invalid time format\'"\n                       class="time"/>\n                -\n                <input type="text"\n                       name="end"\n                       data-dojo-type="dijit/form/ValidationTextBox"\n                       data-dojo-attach-point="end"\n                       data-dojo-props="pattern: this._getEndRegexp, invalidMessage: \'Invalid time format\'"\n                       class="time"/>\n                <input type="text"\n                       name="date"\n                       data-dojo-type="phpr/DateTextBox"\n                       value="today"\n                       data-dojo-attach-point="date"\n                       class="date"/>\n                <a href="javascript: void(0)" class="notesIcon" data-dojo-attach-point="notesIcon"><div><b></b></div></a>\n                <button data-dojo-type="dijit/form/Button"\n                        type="submit"\n                        data-dojo-attach-point="submitButton"\n                        class="submitButton"></button>\n            </div>\n            <div data-dojo-attach-point="notesContainer" class="second open">\n                <input type="text"\n                       name="notes"\n                       class="notes"\n                       data-dojo-type="dijit/form/TextBox"\n                       data-dojo-attach-point="notes"/>\n            </div>\n        </td><td class="editButtonCell">\n            <button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-point="confirmEditButton"\n                data-dojo-props="iconClass: \'editIcon\'"\n                data-dojo-attach-event="onClick:_submit" class="confirmEditButton">Save</button>\n        </td></tr></table>\n    </div>\n</div>\n',
"url:phpr/template/bookingList/dayBlock.html":'<div>\n    <div data-dojo-attach-point="header" class="bookingBlockHeader"></div>\n    <div data-dojo-attach-point="body, containerNode" class="bookingBlockBody"></div>\n</div>\n',"phpr/JsonRestQueryEngine":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/json","phpr/Timehelper"],function(f,j,i,k){var e=/^\d{4}-\d{2}-\d{2}$/,d=/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}(:\d{2})?$/;return function(h){return function(c){return!h||!h.hasOwnProperty("filter")?
c:f.filter(c,function(b){var a=i.parse(h.filter),c;for(c in a){if(!b.hasOwnProperty(c))return!1;var f=j.trim(b[c]),o;o=f;o=""+new Date(o)==o?"Date":e.test(""+o)?"IsoDate":d.test(""+o)?"IsoDatetime":void 0;var p=a[c],m;for(m in p){var n;a:{n=m;var q=o,r=f,t=p[m];switch(q){case "IsoDate":case "IsoDatetime":r=k.datetimeToJsDate(r),t=k.datetimeToJsDate(t),q="Date"}switch(q){case "Date":switch(n){case "!ge":n=(new Date(r)).getTime()>=(new Date(t)).getTime();break a;case "!lt":n=(new Date(r)).getTime()<
(new Date(t)).getTime();break a}}n=!1}if(!n)return!1}}return!0})}}})},"url:phpr/template/bookingList.html":'<div>\n    <div class="selectedDate"><span data-dojo-attach-point="selectedDate"></span></div>\n    <div data-dojo-attach-point="bookingCreator" data-dojo-type="phpr/BookingList/BookingCreator"></div>\n    <div data-dojo-attach-point="content, containerNode"></div>\n    <div data-dojo-attach-point="summaryRow" class="summaryRow"\n        >Total: <span data-dojo-attach-point="hoursWorked"></span\n        ><span data-dojo-attach-point="hoursToWorkText" style="display: none;"> of <span data-dojo-attach-point="hoursToWork"></span\n        > this month.</div>\n</div>\n',
"dijit/form/FilteringSelect":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/lang,dojo/when,./MappedTextBox,./ComboBoxMixin".split(","),function(f,j,i,k,e,d){return j("dijit.form.FilteringSelect",[e,d],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(d,c,b,a){c&&
c[this.searchAttr]!==this._lastQuery||!c&&d.length&&this.store.getIdentity(d[0])!=this._lastQuery||(d.length?this.set("item",d[0],a):this.set("value","",a||void 0===a&&!this.focused,this.textbox.value,null))},_openResultList:function(d,c,b){c[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(d,c,b,a){this._onChangeActive||(c=null);
if(void 0===a){if(null===d||""===d)if(d="",!i.isString(b)){this._setDisplayedValueAttr(b||"",c);return}var e=this;this._lastQuery=d;k(this.store.get(d),function(a){e._callbackSetLabel(a?[a]:[],void 0,void 0,c)})}else this.valueNode.value=d,this.inherited(arguments)},_setItemAttr:function(d,c,b){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(d){return d.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(d,c){null==d&&(d="");if(!this._created){if(!("displayedValue"in
this.params))return;c=!1}if(this.store){this.closeDropDown();var b=i.clone(this.query),a=this._getDisplayQueryString(d),e;this.store._oldAPI?e=a:(e=f.patternToRegExp(a,this.ignoreCase),e.toString=function(){return a});this._lastQuery=b[this.searchAttr]=e;this._lastDisplayedValue=this.textbox.value=d;this._set("displayedValue",d);var j=this,o={ignoreCase:this.ignoreCase,deep:!0};i.mixin(o,this.fetchProperties);this._fetchHandle=this.store.query(b,o);k(this._fetchHandle,function(a){j._fetchHandle=null;
j._callbackSetLabel(a||[],b,o,c)},function(a){j._fetchHandle=null;j._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(f){var j={};f.setObject("dojo.data.util.filter",j);j.patternToRegExp=function(f,k){for(var e="^",d=null,h=0;h<f.length;h++)switch(d=f.charAt(h),d){case "\\":e+=d;h++;e+=f.charAt(h);break;case "*":e+=".*";break;
case "?":e+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":e+="\\";default:e+=d}e+="$";return k?RegExp(e,"mi"):RegExp(e,"m")};return j})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(f,j,i){return f("dijit.form.MappedTextBox",i,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:null,serialize:function(f){return f.toString?
f.toString():""},toString:function(){var f=this.filter(this.get("value"));return null!=f?"string"==typeof f?f:this.serialize(f,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=j.place("<input type='hidden'"+(this.name?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},
"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare,dojo/_base/kernel,dojo/i18n,./TextBox,../Tooltip,dojo/text!./templates/ValidationTextBox.html,dojo/i18n!./nls/validate".split(","),function(f,j,i,k,e,d){var h;return h=f("dijit.form.ValidationTextBox",k,{templateString:d,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,
b){b!=h.prototype[c]&&(j.deprecated("ValidationTextBox id="+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",c);this.regExpGen=this._getPatternAttr},_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused)},validator:function(c,b){return RegExp("^(?:"+this._getPatternAttr(b)+")"+(this.required?
"":"?")+"$").test(c)&&(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(c){return(this.trim?/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?
this.messages.missingMessage:!this.missingMessage?c:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var b="",a=this.disabled||this.isValid(c);if(a)this._maskValidSubsetError=!0;var d=this._isEmpty(this.textbox.value),e=!a&&c&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||c)&&d||e)&&this._maskValidSubsetError?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",
a?"false":"true");"Error"==this.state?(this._maskValidSubsetError=c&&e,b=this.getErrorMessage(c)):"Incomplete"==this.state?(b=this.getPromptMessage(c),this._maskValidSubsetError=!this._hasBeenBlurred||c):d&&(b=this.getPromptMessage(c));this.set("message",b);return a},displayMessage:function(c){c&&this.focused?e.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):e.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(){this.constraints=
{};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){if(!c.locale&&this.lang)c.locale=this.lang;this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",c)},_getPatternAttr:function(c){var b=this.pattern;"function"==(typeof b).toLowerCase()&&(b=this.pattern(c||this.constraints));if(b!=this._lastRegExp){var a="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,
function(b){switch(b.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=b;break;case ")":a+="|$)";break;default:a+="(?:"+b+"|$)"}});try{"".search(a)}catch(d){a=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+a+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=i.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",c);this._refreshState()},_setMessageAttr:function(c){this._set("message",c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/dom-style,dojo/_base/kernel,dojo/_base/lang,dojo/sniff,./_FormValueWidget,./_TextBoxMixin,dojo/text!./templates/TextBox.html,../main".split(","),
function(f,j,i,k,e,d,h,c,b,a){f=f("dijit.form.TextBox",[h,c],{templateString:b,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:d("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==
this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>d("ie")&&this.defer(function(){try{var a=i.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),
!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);if(!this._phspan)this._attachPoints.push("_phspan"),this._phspan=j.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_updatePlaceHolder:function(){if(this._phspan)this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?
"":"none"},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){k.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){k.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){if(!this.disabled&&(this.inherited(arguments),
this._updatePlaceHolder(),d("mozilla")&&this.selectOnClick))this.textbox.selectionStart=this.textbox.selectionEnd=void 0},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});if(d("ie"))f.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},a._setSelectionRange=c._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),
a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())};return f})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(f,j,i,k){return f("dijit.form._FormValueWidget",[i,k],{_layoutHackIE7:function(){if(7==j("ie"))for(var e=this.domNode,d=e.parentNode,f=e.firstChild||e,c=f.style.filter,b=this;d&&0==d.clientHeight;)(function(){var a=b.connect(d,"onscroll",function(){b.disconnect(a);
f.style.filter=(new Date).getMilliseconds();b.defer(function(){f.style.filter=c})})})(),d=d.parentNode}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/ready,../_Widget,../_CssStateMixin,../_TemplatedMixin,./_FormWidgetMixin".split(","),function(f,j,i,k,e,d,h,c){j("dijit-legacy-requires")&&k(0,function(){require(["dijit/form/_FormValueWidget"])});return f("dijit.form._FormWidget",[e,h,d,c],{setDisabled:function(b){i.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+
b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){i.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){i.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name?'name="'+this.name.replace(/"/g,"&quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},
"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(f,j,i,k,e,d,h,c,b){return j("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);i.set(this.focusNode,"disabled",a);this.valueNode&&
i.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",f.forEach(e.isArray(a)?a:[a],function(a){a=this[a];h("webkit")||b.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==
a&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(d);this.disconnect(b)}),d=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(d);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){c.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=k.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)if(this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff",
"./_FormWidgetMixin"],function(f,j,i,k,e){return f("dijit.form._FormValueMixin",e,{readOnly:!1,_setReadOnlyAttr:function(d){j.set(this.focusNode,"readOnly",d);this.focusNode.setAttribute("aria-readonly",d);this._set("readOnly",d)},postCreate:function(){this.inherited(arguments);k("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(d,e){this._handleOnChange(d,e)},_handleOnChange:function(d,
e){this._set("value",d);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(d){if(d.keyCode==i.ESCAPE&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&(9>k("ie")||k("ie")&&k("quirks"))){d.preventDefault();var e=d.srcElement,c=e.ownerDocument.createEventObject();c.keyCode=i.ESCAPE;c.shiftKey=d.shiftKey;e.fireEvent("onkeypress",c)}}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),
function(f,j,i,k,e,d,h,c){var b=j("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=
c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=""+a);this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(a)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(h(this.textbox,"keydown, keypress, paste, cut, input, compositionend",
d.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case e.SHIFT:case e.ALT:case e.CTRL:case e.META:case e.CAPS_LOCK:case e.NUM_LOCK:case e.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case e.NUMPAD_0:case e.NUMPAD_1:case e.NUMPAD_2:case e.NUMPAD_3:case e.NUMPAD_4:case e.NUMPAD_5:case e.NUMPAD_6:case e.NUMPAD_7:case e.NUMPAD_8:case e.NUMPAD_9:case e.NUMPAD_MULTIPLY:case e.NUMPAD_PLUS:case e.NUMPAD_ENTER:case e.NUMPAD_MINUS:case e.NUMPAD_PERIOD:case e.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==e.SPACE)return;b=!1;for(var c in e)if(e[c]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==e.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},h;for(h in a)"layerX"!=h&&"layerY"!=h&&(c=a[h],"function"!=typeof c&&"undefined"!=typeof c&&(f[h]=c));d.mixin(f,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=d.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==a)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||b.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});b._setSelectionRange=c._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};b.selectInputText=c.selectInputText=function(a,c,d){a=i.byId(a);isNaN(c)&&(c=0);isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),b._setSelectionRange(a,c,d)}catch(e){}};return b})},"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n',
"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n',
"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/kernel,dojo/_base/lang,dojo/store/util/QueryResults,./_AutoCompleterMixin,./_ComboBoxMenu,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),function(f,j,i,k,e,d,h,c,b){return f("dijit.form.ComboBoxMixin",[c,d],{dropDownClass:h,hasDownArrow:!0,templateString:b,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",
a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||k.mixin(a,{_oldAPI:!0,get:function(a){var b=new j;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new j(function(){d.abort&&d.abort()});c.total=new j;var d=this.fetch(k.mixin({query:a,onBegin:function(a){c.total.resolve(a)},onComplete:function(a){c.resolve(a)},
onError:function(a){c.reject(a)}},b));return e(c)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var b=this.declaredClass;k.mixin(this.store,{getValue:function(a,c){i.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[c]},getLabel:function(a){i.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly",
"","2.0");return a.name},fetch:function(a){i.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],k.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/regexp,dojo/sniff,dojo/string,./DataList,../registry,./_TextBoxMixin,./_SearchMixin".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p){return j("dijit.form._AutoCompleterMixin",p,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var c=0;if("number"==typeof a.selectionStart)c=a.selectionStart;else if(b("ie")){var d=a.ownerDocument.selection.createRange().duplicate(),a=a.createTextRange();d.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",d),c=(""+a.text).replace(/\r/g,"").length}catch(e){}}return c},
_setCaretPos:function(a,b){b=parseInt(b);o.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==e.ALT||b==e.CTRL||b==e.META||b==e.SHIFT)){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(d=c.getHighlightedOption()),b){case e.PAGE_DOWN:case e.DOWN_ARROW:case e.PAGE_UP:case e.UP_ARROW:this._opened&&
this._announceOption(d);k.stop(a);break;case e.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);k.stop(a);break}else if(d==c.previousButton){this._nextSearch(-1);k.stop(a);break}k.stop(a)}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case e.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case e.ESCAPE:if(this._opened)this._lastQuery=null,this.closeDropDown()}}}},_autoCompleteText:function(a){var b=
this.focusNode;o.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";if(0==a[c](0).indexOf(this.focusNode.value[c](0))){if(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length)b.value=a,o.selectInputText(b,c)}else b.value=a,o.selectInputText(b)},_openResultList:function(a,b,c){var e=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=d.hitch(this,function(b){a.nextPage(-1!==
b);this.focus()}),this.dropDown.createOptions(a,c,d.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),e&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString())&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"),this.focusNode.removeAttribute("aria-activedescendant"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,
!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState())},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",i.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0)},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (d.isString(this.dropDownClass)?d.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:d.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",
b)}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new g({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=h('label[for="'+this.id+'"]');if(a.length){if(!a[0].id)a[0].id=this.id+"_label";this.domNode.setAttribute("aria-labelledby",
a[0].id)}this.inherited(arguments);this.connect(this,"onSearch","_openResultList")},_getMenuLabelFromItem:function(a){var a=this.labelFunc(a,this.store),b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var d=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),e=this.queryExpr.indexOf("${0}"),b=c.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==
e?"^":"")+"("+b+")"+(e==this.queryExpr.length-4?"$":""),d),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(a){return a=(""+a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,
b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}})})},"dijit/form/DataList":function(){define("dojo/_base/declare,dojo/dom,dojo/_base/lang,dojo/query,dojo/store/Memory,../registry".split(","),function(f,j,i,k,e,d){function h(c){return{id:c.value,value:c.value,name:i.trim(c.innerText||c.textContent||"")}}return f("dijit.form.DataList",e,{constructor:function(c,b){this.domNode=
j.byId(b);i.mixin(this,c);this.id&&d.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:k("option",this.domNode).map(h)}])},destroy:function(){d.remove(this.id)},fetchSelectedItem:function(){var c=k("> option[selected]",this.domNode)[0]||k("> option",this.domNode)[0];return c&&h(c)}})})},"dijit/form/_SearchMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/sniff,dojo/string,dojo/when,../registry".split(","),
function(f,j,i,k,e,d,h,c,b,a){return j("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){if(this.searchTimer)this.searchTimer=this.searchTimer.remove();if(this._queryDeferHandle)this._queryDeferHandle=this._queryDeferHandle.remove();if(this._fetchHandle){if(this._fetchHandle.abort)this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1;if(this._fetchHandle.cancel)this._cancelingQuery=
!0,this._fetchHandle.cancel(),this._cancelingQuery=!1;this._fetchHandle=null}},_processInput:function(a){if(!this.disabled&&!this.readOnly){var b=a.charOrCode;if(!a.altKey&&!((a.ctrlKey||a.metaKey)&&"x"!=b&&"v"!=b||b==k.SHIFT)){this._prev_key_backspace=a=!1;switch(b){case k.DELETE:case k.BACKSPACE:a=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof b||229==b}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},
_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(a){this._abortQuery();var d=this,h=e.clone(this.query),k={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},i=c.substitute(this.queryExpr,[a]),j,q=function(){var a=d._fetchHandle=d.store.query(h,k);!d.disabled&&!(d.readOnly||j!==d._lastQuery)&&b(a,function(c){d._fetchHandle=null;!d.disabled&&!d.readOnly&&j===d._lastQuery&&b(a.total,function(a){c.total=
a;var b=d.pageSize;if(isNaN(b)||b>c.total)b=c.total;c.nextPage=function(a){k.direction=a=!1!==a;k.count=b;if(a){if(k.start+=c.length,k.start>=c.total)k.count=0}else if(k.start-=b,0>k.start)k.count=Math.max(b+k.start,0),k.start=0;0>=k.count?(c.length=0,d.onSearch(c,h,k)):q()};d.onSearch(c,h,k)})},function(a){d._fetchHandle=null;d._cancelingQuery||console.error(d.declaredClass+" "+a.toString())})};e.mixin(k,this.fetchProperties);this.store._oldAPI?j=i:(j=f.patternToRegExp(i,this.ignoreCase),j.toString=
function(){return i});this._lastQuery=h[this.searchAttr]=j;this._queryDeferHandle=this.defer(q,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;if(b)this.store=a.byId(b)}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare,dojo/dom-class,dojo/dom-style,dojo/keys,../_WidgetBase,../_TemplatedMixin,./_ComboBoxMenuMixin,./_ListMouseMixin".split(","),function(f,j,i,
k,e,d,h,c){return f("dijit.form._ComboBoxMenu",[e,d,c,h],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||
(j.add(this.previousButton,"dijitMenuItemRtl"),j.add(this.nextButton,"dijitMenuItemRtl"))},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){j.add(b,"dijitMenuItemHover")},onUnhover:function(b){j.remove(b,"dijitMenuItemHover")},onSelect:function(b){j.add(b,"dijitMenuItemSelected")},onDeselect:function(b){j.remove(b,"dijitMenuItemSelected")},
_page:function(b){var a=0,c=this.domNode.scrollTop,d=i.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<d;){var e=this.getHighlightedOption();if(b){if(!e.previousSibling||"none"==e.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!e.nextSibling||"none"==e.nextSibling.style.display)break;this.selectNextNode()}e=this.domNode.scrollTop;a+=(e-c)*(b?-1:1);c=e}},handleKey:function(b){switch(b.keyCode){case k.DOWN_ARROW:return this.selectNextNode(),
!1;case k.PAGE_DOWN:return this._page(!1),!1;case k.UP_ARROW:return this.selectPreviousNode(),!1;case k.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(f,j,i,k){return j("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=k.getLocalization("dijit.form","ComboBox",
this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(e){this.value=e;this.onChange(e)},onClick:function(e){if(e==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(e==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(e)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},
_createOption:function(e,d){var f=this._createMenuItem(),c=d(e);c.html?f.innerHTML=c.label:f.appendChild(f.ownerDocument.createTextNode(c.label));if(""==f.innerHTML)f.innerHTML="&#160;";this.applyTextDir(f,f.innerText||f.textContent||"");return f},createOptions:function(e,d,h){this.items=e;this.previousButton.style.display=0==d.start?"none":"";i.set(this.previousButton,"id",this.id+"_prev");f.forEach(e,function(b,a){var c=this._createOption(b,h);c.setAttribute("item",a);i.set(c,"id",this.id+a);this.nextButton.parentNode.insertBefore(c,
this.nextButton)},this);var c=!1;e.total&&!e.total.then&&-1!=e.total?d.start+d.count<e.total?c=!0:d.start+d.count>e.total&&d.count==e.length&&(c=!0):d.count==e.length&&(c=!0);this.nextButton.style.display=c?"":"none";i.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var e=this.containerNode;2<e.childNodes.length;)e.removeChild(e.childNodes[e.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},
selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(f,j,i,k,e){return f("dijit.form._ListMouseMixin",e,{postCreate:function(){this.inherited(arguments);
this.own(i(this.domNode,k.press,function(d){d.preventDefault()}));this._listConnect(k.press,"_onMouseDown");this._listConnect(k.release,"_onMouseUp");this._listConnect(j.enter,"_onMouseOver");this._listConnect(j.leave,"_onMouseOut")},_onMouseDown:function(d,e){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;this._isDragging=!0;this._setSelectedAttr(e)},_onMouseUp:function(d,e){this._isDragging=!1;var c=this.selected,b=this._hoveredNode;if(c&&e==c)this.onClick(c);else b&&
e==b&&(this._setSelectedAttr(b),this.onClick(b))},_onMouseOut:function(){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;if(this._isDragging)this._cancelDrag=(new Date).getTime()+1E3},_onMouseOver:function(d,e){if(this._cancelDrag){if((new Date).getTime()>this._cancelDrag)this._isDragging=!1;this._cancelDrag=null}this._hoveredNode=e;this.onHover(e);this._isDragging&&this._setSelectedAttr(e)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on",
"dojo/window"],function(f,j,i){return f("dijit.form._ListBase",null,{selected:null,_listConnect:function(f,e){var d=this;return d.own(j(d.containerNode,j.selector(function(d,c,b){return d.parentNode==b},f),function(f){f.preventDefault();d[e](f,this)}))},selectFirstNode:function(){for(var f=this.containerNode.firstChild;f&&"none"==f.style.display;)f=f.nextSibling;this._setSelectedAttr(f)},selectLastNode:function(){for(var f=this.containerNode.lastChild;f&&"none"==f.style.display;)f=f.previousSibling;
this._setSelectedAttr(f)},selectNextNode:function(){var f=this.selected;if(f){for(f=f.nextSibling;f&&"none"==f.style.display;)f=f.nextSibling;f?this._setSelectedAttr(f):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var f=this.selected;if(f){for(f=f.previousSibling;f&&"none"==f.style.display;)f=f.previousSibling;f?this._setSelectedAttr(f):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(f){if(this.selected!=f){var e=this.selected;if(e)this.onDeselect(e),
this.selected=null;if(f)this.selected=f,i.scrollIntoView(f),this.onSelect(f)}else if(f)this.onSelect(f)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,dojo/window,./registry,./focus,./popup,./_FocusMixin".split(","),function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n,q){return f("dijit._HasDropDown",q,{_buttonNode:null,_arrowWrapperNode:null,
_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){if(!this.disabled&&!this.readOnly)a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown()},_onDropDownMouseUp:function(a){a&&this._docHandler&&this.disconnect(this._docHandler);var c=this.dropDown,e=!1;if(a&&this._opened){var f=h.position(this._buttonNode,
!0);if(!(a.pageX>=f.x&&a.pageX<=f.x+f.w)||!(a.pageY>=f.y&&a.pageY<=f.y+f.h)){for(f=a.target;f&&!e;)d.contains(f,"dijitPopup")?e=!0:f=f.parentNode;if(e){f=a.target;if(c.onItemClick){for(var g;f&&!(g=p.byNode(f));)f=f.parentNode;if(g&&g.onClick&&g.getParent)g.getParent().onItemClick(g,a)}return}}}if(this._opened){if(c.focus&&!1!==c.autoFocus)this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.defer("focus");if(b("ios"))this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=
!1})},_onDropDownClick:function(a){b("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&i.stop(a)},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||
this.dropDownPosition[0]||"Down";d.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);this.own(l(this._buttonNode,"mousedown",g.hitch(this,"_onDropDownMouseDown")),l(this._buttonNode,"click",g.hitch(this,"_onDropDownClick")),l(this.focusNode,"keydown",g.hitch(this,"_onKey")),l(this.focusNode,"keyup",g.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);
this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=b.target;if(c&&this._opened&&c.handleKey&&!1===c.handleKey(b))i.stop(b);else if(c&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),i.stop(b);else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE)&&("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,i.stop(b)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;
this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(g.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(m.curNode&&this.dropDown&&k.isDescendant(m.curNode,this.dropDown.domNode));this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new j,b=g.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&
(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,b=a.domNode,f=this._aroundNode||this.domNode,k=this;if(!this._preparedNode){this._preparedNode=!0;if(b.style.width)this._explicitDDWidth=!0;if(b.style.height)this._explicitDDHeight=!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var i={display:"",visibility:"hidden"};if(!this._explicitDDWidth)i.width="";if(!this._explicitDDHeight)i.height="";c.set(b,i);i=this.maxHeight;if(-1==i)var i=
o.getBox(this.ownerDocument),j=h.position(f,!1),i=Math.floor(Math.max(j.y,i.h-(j.y+j.h)));n.moveOffScreen(a);a.startup&&!a._started&&a.startup();var j=h.getMarginSize(b),l=i&&j.h>i;c.set(b,{overflowX:"visible",overflowY:l?"auto":"visible"});l?(j.h=i,"w"in j&&(j.w+=16)):delete j.h;this.forceWidth?j.w=f.offsetWidth:this.autoWidth?j.w=Math.max(j.w,f.offsetWidth):delete j.w;g.isFunction(a.resize)?a.resize(j):h.setMarginBox(b,j)}a=n.open({parent:this,popup:a,around:f,orient:this.dropDownPosition,onExecute:function(){k.closeDropDown(!0)},
onCancel:function(){k.closeDropDown(!0)},onClose:function(){e.set(k._popupStateNode,"popupActive",!1);d.remove(k._popupStateNode,"dijitHasDropDownOpen");k._set("_opened",!1)}});e.set(this._popupStateNode,"popupActive","true");d.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this.domNode.setAttribute("aria-expanded","true");return a},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this._opened)this.domNode.setAttribute("aria-expanded",
"false"),a&&this.focus(),n.close(this.dropDown),this._opened=!1}})})},"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}"\n\trole="combobox"\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point="_buttonNode, _popupStateNode" role="presentation"\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox" aria-haspopup="true"\n\t/></div\n></div>\n',
"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(f,j,i,k){return f("dijit.form.Textarea",[k,i],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);j.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/has,dojo/_base/lang,dojo/on,dojo/_base/window,../Viewport".split(","),
function(f,j,i,k,e,d,h){i.add("textarea-needs-help-shrinking",function(){var c=d.body(),b=j.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,overflow:"hidden",visibility:"hidden",position:"absolute",border:"0px solid black",padding:"0px"}},c,"last"),a=b.scrollHeight>=b.clientHeight;c.removeChild(b);return a});return f("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var c=this.textbox;
this.own(e(c,"scroll, focus",k.hitch(this,"_resizeLater")));c.style.overflowY="hidden";this._estimateHeight()},startup:function(){this.inherited(arguments);this.own(h.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.style.height="auto";c.rows=(c.value.match(/\n/g)||[]).length+2},_resizeLater:function(){this.defer("resize")},resize:function(){function c(){var a=!1;if(""===b.value)b.value=
" ",a=!0;var c=b.scrollHeight;if(a)b.value="";return c}var b=this.textbox;if("hidden"==b.style.overflowY)b.scrollTop=0;if(!this.busyResizing){this.busyResizing=!0;if(c()||b.offsetHeight){var a=b.style.height;if(!/px/.test(a))a=c(),b.rows=1,b.style.height=a+"px";var a=Math.max(Math.max(b.offsetHeight,parseInt(a))-b.clientHeight,0)+c(),d=a+"px";if(d!=b.style.height)b.rows=1,b.style.height=d;if(i("textarea-needs-help-shrinking")){var e=c(),f=b.style.minHeight,h=4;b.style.minHeight=d;for(b.style.height=
"auto";0<a;){b.style.minHeight=Math.max(a-h,4)+"px";d=c();e-=d;a-=e;if(e<h)break;e=d;h<<=1}b.style.height=a+"px";b.style.minHeight=f}b.style.overflowY=c()>b.clientHeight?"auto":"hidden"}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(f,j,i,k){return f("dijit.form.SimpleTextarea",k,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",
postMixInProperties:function(){if(!this.value&&this.srcNodeRef)this.value=this.srcNodeRef.value;this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);i("ie")&&this.cols&&j.add(this.textbox,"dijitTextAreaCols")},filter:function(e){e&&(e=e.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(e){if(this.maxLength){var d=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,""),d=f.length-d;if(0<d){var c=this.textbox;if(c.selectionStart){var b=c.selectionStart,
a=0;if(i("opera"))a=(this.textbox.value.substring(0,b).match(/\r/g)||[]).length;this.textbox.value=f.substring(0,b-d-a)+f.substring(b-a);c.setSelectionRange(b-d,b-d)}else if(this.ownerDocument.selection)c.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-d),f.text="",f.select()}}this.inherited(arguments)}})})},"dijit/form/Button":function(){define("require,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/ready,./_FormWidget,./_ButtonMixin,dojo/text!./templates/Button.html".split(","),
function(f,j,i,k,e,d,h,c,b,a){k("dijit-legacy-requires")&&h(0,function(){f(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return j("dijit.form.Button",[c,b],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var b=this.inherited(arguments);b&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return b},_fillContent:function(a){if(a&&
(!this.params||!("label"in this.params)))if(a=d.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&i.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){e.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);if(!this.showLabel&&!("title"in this.params))this.titleNode.title=d.trim(this.containerNode.innerText||
this.containerNode.textContent||"")}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(f,j,i,k){return f("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled)return i.stop(e),!1;var d=!1===this.onClick(e);if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var c=k.byNode(f);if(c&&"function"==typeof c._onSubmit){c._onSubmit(e);
d=!0;break}}d&&e.preventDefault();return!d},postCreate:function(){this.inherited(arguments);j.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(e){this._set("label",e);(this.containerNode||this.focusNode).innerHTML=e}})})},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n',
"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(f,j,i){return f("dijit.form.DateTextBox",i,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:j,_selector:"date",value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array,dojo/date,dojo/date/locale,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/_base/event,dojo/_base/kernel,dojo/keys,dojo/_base/lang,dojo/sniff,./CalendarLite,./_Widget,./_CssStateMixin,./_TemplatedMixin,./form/DropDownButton".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m,n){var q=k("dijit.Calendar",[l,o,p],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){c.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new q._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:a.hitch(this,
"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp")},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);
b.setDate(1);b.setMonth(a);var a=this.dateModule.getDaysInMonth(b),c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=d.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))d.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){if(this._currentNode&&!(a.relatedTarget&&
a.relatedTarget.parentNode==this._currentNode))a="dijitCalendarHoveredDate",d.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),d.remove(this._currentNode,a),this._currentNode=null},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate"))d.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&d.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var c=
-1,d,e=this.currentFocus;switch(a.keyCode){case b.RIGHT_ARROW:c=1;case b.LEFT_ARROW:d="day";this.isLeftToRight()||(c*=-1);break;case b.DOWN_ARROW:c=1;case b.UP_ARROW:d="week";break;case b.PAGE_DOWN:c=1;case b.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case b.END:e=this.dateModule.add(e,"month",1),d="day";case b.HOME:e=new this.dateClassObj(e);e.setDate(1);break;case b.ENTER:case b.SPACE:this.set("value",this.currentFocus);break;default:return!0}d&&(e=this.dateModule.add(e,d,c));this._setCurrentFocusAttr(e);
return!1},_onKeyDown:function(a){this.handleKey(a)||h.stop(a)},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});q._MonthDropDownButton=k("dijit.Calendar._MonthDropDownButton",n,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new q._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
b);this.containerNode.innerHTML=(6==g("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+b[a.getMonth()]+"</div>"}});q._MonthDropDown=k("dijit.Calendar._MonthDropDown",[o,m],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(a){this.domNode.innerHTML=f.map(a,
function(a,b){return a?"<div class='dijitCalendarMonthLabel' month='"+b+"'>"+a+"</div>":""}).join("")},_onClick:function(a){this.onChange(e.get(a.target,"month"))},onChange:function(){},_onMenuHover:function(a){d.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return q})},"dijit/CalendarLite":function(){define("dojo/_base/array,dojo/_base/declare,dojo/cldr/supplemental,dojo/date,dojo/date/locale,dojo/date/stamp,dojo/dom,dojo/dom-class,dojo/_base/event,dojo/_base/lang,dojo/sniff,dojo/string,./_WidgetBase,./_TemplatedMixin,dojo/text!./templates/Calendar.html,./hccss".split(","),
function(f,j,i,k,e,d,h,c,b,a,g,l,o,p,m){var n=j("dijit.CalendarLite",[o,p],{templateString:m,dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel">${d}</span></th>',dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,baseClass:"dijitCalendar",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var a=new this.dateClassObj(this.value);a.setHours(0,0,0,0);a.getDate()<this.value.getDate()&&(a=this.dateModule.add(a,"hour",1));return a}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=
d.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},
_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),e=new this.dateClassObj,g=i.getFirstDayOfWeek(this.lang);g>b&&(g-=7);this._date2cell={};f.forEach(this.dateCells,function(f,h){var k=h+g,i=new this.dateClassObj(a),j="dijitCalendar",l=0;k<b?(k=d-b+k+1,l=-1,j+="Previous"):k>=b+c?(k=k-b-c+1,l=1,j+="Next"):(k=k-b+1,j+="Current");l&&(i=this.dateModule.add(i,
"month",l));i.setDate(k);this.dateModule.compare(i,e,"date")||(j="dijitCalendarCurrentDate "+j);this.isDisabledDate(i,this.lang)?(j="dijitCalendarDisabledDate "+j,f.setAttribute("aria-disabled","true")):(j="dijitCalendarEnabledDate "+j,f.removeAttribute("aria-disabled"),f.setAttribute("aria-selected","false"));(l=this.getClassForDate(i,this.lang))&&(j=l+" "+j);f.className=j+"Month dijitCalendarDateTemplate";j=i.valueOf();this._date2cell[j]=f;f.dijitDateValue=j;this._setText(this.dateLabels[h],i.getDateLocalized?
i.getDateLocalized(this.lang):i.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;f.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(b){this.dateModule=
b.datePackage?a.getObject(b.datePackage,!1):k;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?a.getObject(b.datePackage+".locale",!1):e},_createMonthWidget:function(){return n._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=i.getFirstDayOfWeek(this.lang);this.dayCellsHtml=l.substitute([a,
a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=l.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);h.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var b=a.hitch(this,function(a,
b,c){this.connect(this[a],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,b,c))})});b("incrementMonth","month",1);b("decrementMonth","month",-1);b("nextYearLabelNode","year",1);b("previousYearLabelNode","year",-1)},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,d=this._getNodeByDate(c),a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(c,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);
c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();d&&d!=c&&(g("webkit")?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){b.stop(a);for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!c.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:
null},_markSelectedDates:function(b){function d(a,b){c.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":"false")}f.forEach(this._selectedCells||[],a.partial(d,!1));this._selectedCells=f.filter(f.map(b,this._getNodeByDate,this),function(a){return a});f.forEach(this._selectedCells,a.partial(d,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});n._MonthWidget=j("dijit.CalendarLite._MonthWidget",o,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months",
"wide","standAlone",this.lang,a);this.domNode.innerHTML=(6==g("ie")?"":"<div class='dijitSpacer'>"+f.map(b,function(a){return"<div>"+a+"</div>"}).join("")+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+b[a.getMonth()]+"</div>"}});return n})},"url:dijit/templates/Calendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year">\n\t<thead>\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n\t\t\t\t<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' colspan="5">\n\t\t\t\t<div data-dojo-attach-point="monthNode">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="incrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n\t\t\t\t<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role="row">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\n\t\t<tr>\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\n\t\t\t\t<div class="dijitCalendarYearLabel">\n\t\t\t\t\t<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\n\t\t\t\t\t<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\n\t\t\t\t\t<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n',
"dijit/form/DropDownButton":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/query,../registry,../popup,./Button,../_Container,../_HasDropDown,dojo/text!./templates/DropDownButton.html".split(","),function(f,j,i,k,e,d,h,c,b){return f("dijit.form.DropDownButton",[d,h,c],{baseClass:"dijitDropDownButton",templateString:b,_fillContent:function(){if(this.srcNodeRef){var a=i("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&
this.dropDownContainer){var a=i("[widgetId]",this.dropDownContainer)[0];this.dropDown=k.byNode(a);delete this.dropDownContainer}this.dropDown&&e.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",j.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" data-dojo-attach-point="_buttonNode"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode"\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point="iconNode"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point="containerNode,_popupStateNode"\n\t\t\t\tid="${id}_label"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n\t\tdata-dojo-attach-point="valueNode"\n/></span>\n',
"dijit/form/_DateTimeTextBox":function(){define("dojo/date,dojo/date/locale,dojo/date/stamp,dojo/_base/declare,dojo/_base/lang,./RangeBoundTextBox,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),function(f,j,i,k,e,d,h,c){return k("dijit.form._DateTimeTextBox",[d,h],{templateString:c,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},pattern:j.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(b,
a){var c=this._isInvalidDate(b),d=this._isInvalidDate(a);return c?d?0:-1:d?1:f.compare(b,a,this._selector)},forceWidth:!0,format:function(b,a){return!b?"":this.dateLocaleModule.format(b,a)},parse:function(b,a){return this.dateLocaleModule.parse(b,a)||(this._isEmpty(b)?null:void 0)},serialize:function(b,a){b.toGregorian&&(b=b.toGregorian());return i.toISOString(b,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(b){this.dateModule=
b.datePackage?e.getObject(b.datePackage,!1):f;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?e.getObject(b.datePackage+".locale",!1):j;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow)this._buttonNode.style.display="none";if(!this.hasDownArrow)this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick"},_setConstraintsAttr:function(b){b.selector=
this._selector;b.fullYear=!0;var a=i.fromISOString;if("string"==typeof b.min)b.min=a(b.min);if("string"==typeof b.max)b.max=a(b.max);this.inherited(arguments)},_isInvalidDate:function(b){return!b||isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,a,c){void 0!==b&&("string"==typeof b&&(b=i.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));this.inherited(arguments);if(this.value instanceof
Date)this.filterString="";this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,a){"value"==b&&this.value instanceof Date&&0==this.compare(a,this.value)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this.dropDownDefaultValue=b},openDropDown:function(b){this.dropDown&&this.dropDown.destroy();var a=e.isString(this.popupClass)?e.getObject(this.popupClass,!1):this.popupClass,c=this,d=this.get("value");this.dropDown=new a({onChange:function(a){c.set("value",
a,!0)},id:this.id+"_popup",dir:c.dir,lang:c.lang,value:d,currentFocus:!this._isInvalidDate(d)?d:this.dropDownDefaultValue,constraints:c.constraints,filterString:c.filterString,datePackage:c.params.datePackage,isDisabledDate:function(a){return!c.rangeCheck(a,c.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,a){this._setValueAttr(this.parse(b,this.constraints),a,b)}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare",
"dojo/i18n","./MappedTextBox"],function(f,j,i){return f("dijit.form.RangeBoundTextBox",i,{rangeMessage:"",rangeCheck:function(f,e){return("min"in e?0<=this.compare(f,e.min):!0)&&("max"in e?0>=this.compare(f,e.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var f=this.get("value");if(null==f)return!1;var e=!1;if("min"in this.constraints)e=this.constraints.min,e=0>this.compare(f,"number"==typeof e&&0<=e&&0!=f?0:e);if(!e&&
"max"in this.constraints)e=this.constraints.max,e=0<this.compare(f,"number"!=typeof e||0<e?e:0);return e},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(f){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(f))},getErrorMessage:function(f){var e=this.get("value");return null!=e&&""!==e&&("number"!=typeof e||!isNaN(e))&&!this.isInRange(f)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);
if(!this.rangeMessage)this.messages=j.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage},_setConstraintsAttr:function(f){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(f,
e){this.focusNode.setAttribute("aria-valuenow",f);this.inherited(arguments)},applyTextDir:function(){}})})},"dijit/form/Form":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/kernel,dojo/sniff,../_Widget,../_TemplatedMixin,./_FormMixin,../layout/_ContentPaneResizeMixin".split(","),function(f,j,i,k,e,d,h,c,b){return f("dijit.form.Form",[d,h,c,b],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",
postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(a){this.encType=a;j.set(this.domNode,"encType",a);if(e("ie"))this.domNode.encoding=a},reset:function(a){var b={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:a?a.target:this.domNode,target:a?a.target:this.domNode};!1!==this.onReset(b)&&b.returnValue&&this.inherited(arguments,
[])},onReset:function(){return!0},_onReset:function(a){this.reset(a);i.stop(a);return!1},_onSubmit:function(a){var b=this.constructor.prototype;if(this.execute!=b.execute||this.onExecute!=b.onExecute)k.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(a)&&i.stop(a)},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},
"dijit/form/_FormMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(f,j,i,k,e,d){return j("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(d){var c=[];f.forEach(d||this.getChildren(),function(b){"value"in b?c.push(b):c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){f.forEach(this._getDescendantFormWidgets(),function(d){d.reset&&d.reset()})},validate:function(){var e=
!1;return f.every(f.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var b=c.disabled||!c.validate||c.validate();!b&&!e&&(d.scrollIntoView(c.containerNode||c.domNode),c.focus(),e=!0);return b}),function(c){return c})},setValues:function(d){i.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",d)},_setValueAttr:function(d){var c={};f.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||
(c[a.name]=[])).push(a)});for(var b in c)if(c.hasOwnProperty(b)){var a=c[b],e=k.getObject(b,!1,d);void 0!==e&&(k.isArray(e)||(e=[e]),"boolean"==typeof a[0].checked?f.forEach(a,function(a){a.set("value",-1!=f.indexOf(e,a.value))}):a[0].multiple?a[0].set("value",e):f.forEach(a,function(a,b){a.set("value",e[b])}))}},getValues:function(){i.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d={};f.forEach(this._getDescendantFormWidgets(),
function(c){var b=c.name;if(b&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==a?k.setObject(b,a,d):(a=k.getObject(b,!1,d),void 0===a&&k.setObject(b,null,d)):(c=k.getObject(b,!1,d),c||(c=[],k.setObject(b,c,d)),!1!==a&&c.push(a)):(c=k.getObject(b,!1,d),"undefined"!=typeof c?k.isArray(c)?c.push(a):k.setObject(b,[c,a],d):k.setObject(b,a,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var d=
f.map(this._descendants,function(c){return c.get("state")||""});return 0<=f.indexOf(d,"Error")?"Error":0<=f.indexOf(d,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(d){this._descendants=this._getDescendantFormWidgets();f.forEach(this._descendants,function(c){c._started||c.startup()});d||this._onChildChange()},_onChildChange:function(d){(!d||"state"==d||"disabled"==d)&&this._set("state",this._getState());if(!d||"value"==d||"disabled"==d||"checked"==d)this._onChangeDelayTimer&&
this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var d=this;this.own(e(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=d.domNode&&d._onChildChange(c.type.replace("attrmodified-",
""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"phpr/DateTextBox":function(){define(["dojo/_base/declare","phpr/Calendar","dijit/form/DateTextBox"],function(f,j,i){return f([i],{popupClass:j})})},"phpr/Calendar":function(){define("dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/date,dojo/date/locale,dojo/when,dojo/date/stamp,dijit/Calendar,phpr/Api,phpr/Timehelper".split(","),function(f,j,i,k,e,d,h,c,b,a){function g(a,
c){var e=h.toISOString(a,{selector:"date"});l.hasOwnProperty(e)?d(l[e],c):l[e]=b.getData("index.php/Calendar2/index/jsonHolidays",{query:{start:h.toISOString(a,{selector:"date"}),end:h.toISOString(k.add(a,"month",1),{selector:"date"})}}).then(function(a){a=j.filter(a,function(a){return"holiday"==a.type});l[e]=a;c(a)},function(a){o||(o=!0,b.defaultErrorHandler(a))})}var l={},o=!1;return f([c],{_populateGrid:function(){this.inherited(arguments);var a,b=this._currentMonth(),c;for(c in this._date2cell)if(this._date2cell.hasOwnProperty(c)){a=
this._date2cell[c];var d=new this.dateClassObj(a.dijitDateValue);e.isWeekend(d)&&d.getMonth()===b.getMonth()&&i.add(a,"weekend");0===k.compare(new Date,d,"date")&&i.add(a,"today")}this._highlightSpecialDays()},_highlightSpecialDays:function(){g(this._currentMonth(),dojo.hitch(this,function(b){var c={};j.forEach(b,function(b){var d=a.datetimeToJsDate(b.date);c[h.toISOString(d,{selector:"date"})]=b});for(var d in this._date2cell)this._date2cell.hasOwnProperty(d)&&(b=new Date(parseInt(d,10)),c.hasOwnProperty(h.toISOString(b,
{selector:"date"}))&&i.add(this._date2cell[d],"specialDay"))}))},_currentMonth:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);return a}})})},"phpr/ViewManager":function(){define("dojo/_base/declare,dijit/Destroyable,dojo/_base/lang,dojo/_base/array,dojo/topic,phpr/BookingView,phpr/StatisticsView".split(","),function(f,j,i,k,e,d,h){return f(j,{baseLayout:null,constructor:function(c){this.baseLayout=c;var c={"phpr/showLiveBooking":"onLiveBooking","phpr/showBookings":"onBookings",
"phpr/showStatistics":"onStatistics"},b;for(b in c)this.own(e.subscribe(b,i.hitch(this,c[b])))},startup:function(){this.inherited(arguments);this.baseLayout.menubar.onBookingsClick()},onLiveBooking:function(){this.baseLayout.mainContent.set("content","imagine a timecard here")},onBookings:function(){this.baseLayout.mainContent.set("content",new d)},onStatistics:function(){this.baseLayout.mainContent.set("content",new h)}})})},"phpr/BookingView":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/dom-style,dojo/dom-geometry,dojo/window,dojo/on,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!phpr/template/bookingView.html,phpr/BookingsDateChooser,phpr/BookingList".split(","),
function(f,j,i,k,e,d,h,c,b,a,g){return f([c,b,a],{templateString:g,startup:function(){this.inherited(arguments);var a=d.get(this.domNode.ownerDocument);this.own(h(a,"resize",i.hitch(this,"resize")),h(this.domNode,"resize",i.hitch(this,"resize")),this.dateChooserContainer.on("dateChange",i.hitch(this.bookingListContainer,"set","date")),this.bookingListContainer.bookingCreator.on("create",i.hitch(this,function(a){this.bookingListContainer.set("date",a.date);this.dateChooserContainer.setDate(a.date)})))},
resize:function(){var a=d.getBox().h;j.forEach([this.bookingListContainer.domNode,this.dateChooserContainer.domNode],function(b){var c=e.position(b).y;k.set(b,"minHeight",a-c+"px")})}})})},"url:phpr/template/bookingView.html":'<div class="bookingView">\n    <table style="width: 100%;" data-dojo-attach-point="tableNode" class="table"><tr>\n        <td class="bookingList">\n            <div data-dojo-attach-point="bookingListContainer" class="bookingListContainer" data-dojo-type="phpr/BookingList"></div>\n        </td><td class="dateChooser">\n            <div data-dojo-attach-point="dateChooserContainer" class="dateChooserContainer" data-dojo-type="phpr/BookingsDateChooser"></div>\n        </td>\n    </tr></table>\n</div>\n',
"phpr/BookingsDateChooser":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/on,dojo/Evented,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!phpr/template/bookingsDateChooser.html,phpr/DateChooserCalendar".split(","),function(f,j,i,k,e,d,h,c,b){return f([d,h,c,e],{templateString:b,startup:function(){this.own(this.calendarNode.on("change",i.hitch(this,"emit","dateChange")))},setDate:function(a){this.calendarNode.set("value",a)}})})},"url:phpr/template/bookingsDateChooser.html":'<div class="bookingsDateChooser claro">\n    <div data-dojo-attach-point="calendarNode" data-dojo-type="phpr/DateChooserCalendar"></div>\n</div>\n',
"phpr/DateChooserCalendar":function(){define(["dojo/_base/declare","phpr/Calendar","dojo/Evented"],function(f,j,i){return f([j,i],{_startedUp:!1,_onMonthSelect:function(f){this.inherited(arguments);this.emit("change",new this.dateClassObj(this.get("currentFocus").getTime()))},_setCurrentFocusAttr:function(f,e){this.inherited(arguments);!0===this._startedUp&&this.emit("change",new this.dateClassObj(f.getTime()))},postCreate:function(){this.inherited(arguments);this._startedUp=!0}})})},"phpr/StatisticsView":function(){define(["dojo/_base/declare",
"dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!phpr/template/statisticsView.html"],function(f,j,i,k,e){return f([j,i,k],{templateString:e})})},"url:phpr/template/statisticsView.html":'<div class="statisticsView">\n    This is a statistics page.\n</div>\n',"dijit/dijit":function(){define("./main,./_base,dojo/parser,./_Widget,./_TemplatedMixin,./_Container,./layout/_LayoutWidget,./form/_FormWidget,./form/_FormValueWidget".split(","),function(f){return f})},"dijit/_base":function(){define("./main,./a11y,./WidgetSet,./_base/focus,./_base/manager,./_base/place,./_base/popup,./_base/scroll,./_base/sniff,./_base/typematic,./_base/wai,./_base/window".split(","),
function(f){return f._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(f,j,i,k){var e=j("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(d){if(this._hash[d.id])throw Error("Tried to register widget with id=="+d.id+" but that id is already registered");this._hash[d.id]=d;this.length++},remove:function(d){this._hash[d]&&(delete this._hash[d],this.length--)},forEach:function(d,e){var e=
e||i.global,c=0,b;for(b in this._hash)d.call(e,this._hash[b],c++,this._hash);return this},filter:function(d,f){var f=f||i.global,c=new e,b=0,a;for(a in this._hash){var g=this._hash[a];d.call(f,g,b++,this._hash)&&c.add(g)}return c},byId:function(d){return this._hash[d]},byClass:function(d){var f=new e,c,b;for(c in this._hash)b=this._hash[c],b.declaredClass==d&&f.add(b);return f},toArray:function(){var d=[],e;for(e in this._hash)d.push(this._hash[e]);return d},map:function(d,e){return f.map(this.toArray(),
d,e)},every:function(d,e){var e=e||i.global,c=0,b;for(b in this._hash)if(!d.call(e,this._hash[b],c++,this._hash))return!1;return!0},some:function(d,e){var e=e||i.global,c=0,b;for(b in this._hash)if(d.call(e,this._hash[b],c++,this._hash))return!0;return!1}});f.forEach("forEach,filter,byClass,map,every,some".split(","),function(d){k[d]=e.prototype[d]});return e})},"dijit/_base/focus":function(){define("dojo/_base/array,dojo/dom,dojo/_base/lang,dojo/topic,dojo/_base/window,../focus,../main".split(","),
function(f,j,i,k,e,d,h){d.focus=function(c){if(c){var b="node"in c?c.node:c,a=c.bookmark,c=c.openedForWindow,f=a?a.isCollapsed:!1;if(b){var i="iframe"==b.tagName.toLowerCase()?b.contentWindow:b;if(i&&i.focus)try{i.focus()}catch(k){}d._onFocusNode(b)}if(a&&e.withGlobal(c||e.global,h.isCollapsed)&&!f){c&&c.focus();try{e.withGlobal(c||e.global,h.moveToBookmark,null,[a])}catch(j){}}}};d.watch("curNode",function(c,b,a){h._curFocus=a;h._prevFocus=b;a&&k.publish("focusNode",a)});d.watch("activeStack",function(c,
b,a){h._activeStack=a});d.on("widget-blur",function(c,b){k.publish("widgetBlur",c,b)});d.on("widget-focus",function(c,b){k.publish("widgetFocus",c,b)});i.mixin(h,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return h.getBookmark().isCollapsed},getBookmark:function(){var c,b,a=e.doc.selection,f=d.curNode;if(e.global.getSelection){if(a=e.global.getSelection())if(a.isCollapsed){if(c=f?f.tagName:"")if(c=c.toLowerCase(),"textarea"==c||"input"==c&&(!f.type||"text"==f.type.toLowerCase()))return a=
{start:f.selectionStart,end:f.selectionEnd,node:f,pRange:!0},{isCollapsed:a.end<=a.start,mark:a};c={isCollapsed:!0};if(a.rangeCount)c.mark=a.getRangeAt(0).cloneRange()}else b=a.getRangeAt(0),c={isCollapsed:!1,mark:b.cloneRange()}}else if(a){c=f?f.tagName:"";c=c.toLowerCase();if(f&&c&&("button"==c||"textarea"==c||"input"==c)){if(a.type&&"none"==a.type.toLowerCase())return{isCollapsed:!0,mark:null};b=a.createRange();return{isCollapsed:b.text&&b.text.length?!1:!0,mark:{range:b,pRange:!0}}}c={};try{b=
a.createRange(),c.isCollapsed=!("Text"==a.type?b.htmlText.length:b.length)}catch(h){return c.isCollapsed=!0,c}if("CONTROL"==a.type.toUpperCase())if(b.length){c.mark=[];a=0;for(f=b.length;a<f;)c.mark.push(b.item(a++))}else c.isCollapsed=!0,c.mark=null;else c.mark=b.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return c},moveToBookmark:function(c){var b=e.doc;if(c=c.mark)if(e.global.getSelection)(b=e.global.getSelection())&&b.removeAllRanges?c.pRange?
(b=c.node,b.selectionStart=c.start,b.selectionEnd=c.end):(b.removeAllRanges(),b.addRange(c)):console.warn("No idea how to restore selection for this browser!");else if(b.selection&&c){var a;c.pRange?a=c.range:i.isArray(c)?(a=b.body.createControlRange(),f.forEach(c,function(b){a.addElement(b)})):(a=b.body.createTextRange(),a.moveToBookmark(c));a.select()}},getFocus:function(c,b){var a=!d.curNode||c&&j.isDescendant(d.curNode,c.domNode)?h._prevFocus:d.curNode;return{node:a,bookmark:a&&a==d.curNode&&
e.withGlobal(b||e.global,h.getBookmark),openedForWindow:b}},_activeStack:[],registerIframe:function(c){return d.registerIframe(c)},unregisterIframe:function(c){c&&c.remove()},registerWin:function(c,b){return d.registerWin(c,b)},unregisterWin:function(c){c&&c.remove()}});return h})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(f,j,i,k,e){var d={getViewport:function(){return i.getBox()}};d.placeOnScreen=k.at;d.placeOnScreenAroundElement=
function(d,c,b,a){var e;if(j.isArray(b))e=b;else{e=[];for(var f in b)e.push({aroundCorner:f,corner:b[f]})}return k.around(d,c,e,!0,a)};d.placeOnScreenAroundNode=d.placeOnScreenAroundElement;d.placeOnScreenAroundRectangle=d.placeOnScreenAroundElement;d.getPopupAroundAlignment=function(d,c){var b={};f.forEach(d,function(a){var d=c;switch(a){case "after":b[c?"BR":"BL"]=c?"BL":"BR";break;case "before":b[c?"BL":"BR"]=c?"BR":"BL";break;case "below-alt":d=!d;case "below":b[d?"BL":"BR"]=d?"TL":"TR";b[d?"BR":
"BL"]=d?"TR":"TL";break;case "above-alt":d=!d;default:b[d?"TL":"TR"]=d?"BL":"BR",b[d?"TR":"TL"]=d?"BR":"BL"}});return b};j.mixin(e,d);return e})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(f,j,i){var k=i._createWrapper;i._createWrapper=function(d){d.declaredClass||(d={_popupWrapper:d.parentNode&&f.contains(d.parentNode,"dijitPopup")?d.parentNode:null,domNode:d,destroy:function(){},ownerDocument:d.ownerDocument,ownerDocumentBody:j.body(d.ownerDocument)});
return k.call(this,d)};var e=i.open;i.open=function(d){if(d.orient&&"string"!=typeof d.orient&&!("length"in d.orient)){var f=[],c;for(c in d.orient)f.push({aroundCorner:c,corner:d.orient[c]});d.orient=f}return e.call(this,d)};return i})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(f,j){j.scrollIntoView=function(i,k){f.scrollIntoView(i,k)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dijit/_base/typematic":function(){define(["../typematic"],
function(){})},"dijit/typematic":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/event,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/sniff,./main".split(","),function(f,j,i,k,e,d,h,c){var b=c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);
this._timer=setTimeout(e.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,c,d,f,h,i,k){if(f!=this._obj){this.stop();this._initialDelay=i||500;this._subsequentDelay=h||0.9;this._minDelay=k||10;this._obj=f;this._node=c;this._count=this._currentTimeout=-1;this._callback=e.hitch(b,d);this._evt={faux:!0};for(var j in a)"layerX"!=j&&"layerY"!=j&&(b=a[j],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[j]=b));this._fireEventAndReload()}},stop:function(){if(this._timer)clearTimeout(this._timer),
this._timer=null;if(this._obj)this._callback(-1,this._node,this._evt),this._obj=null},addKeyListener:function(a,c,h,o,p,m,n){if(c.keyCode)c.charOrCode=c.keyCode,k.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");else if(c.charCode)c.charOrCode=String.fromCharCode(c.charCode),k.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");var q=[d(a,j._keypress,
e.hitch(this,function(d){d.charOrCode==c.charOrCode&&(void 0===c.ctrlKey||c.ctrlKey==d.ctrlKey)&&(void 0===c.altKey||c.altKey==d.altKey)&&(void 0===c.metaKey||c.metaKey==(d.metaKey||!1))&&(void 0===c.shiftKey||c.shiftKey==d.shiftKey)?(i.stop(d),b.trigger(d,h,a,o,c,p,m,n)):b._obj==c&&b.stop()})),d(a,"keyup",e.hitch(this,function(){b._obj==c&&b.stop()}))];return{remove:function(){f.forEach(q,function(a){a.remove()})}}},addMouseListener:function(a,c,i,k,j,m){var n=[d(a,"mousedown",e.hitch(this,function(d){d.preventDefault();
b.trigger(d,c,a,i,a,k,j,m)})),d(a,"mouseup",e.hitch(this,function(a){this._obj&&a.preventDefault();b.stop()})),d(a,"mouseout",e.hitch(this,function(a){this._obj&&a.preventDefault();b.stop()})),d(a,"dblclick",e.hitch(this,function(d){d.preventDefault();9>h("ie")&&(b.trigger(d,c,a,i,a,k,j,m),setTimeout(e.hitch(this,b.stop),50))}))];return{remove:function(){f.forEach(n,function(a){a.remove()})}}},addListener:function(a,b,c,d,e,h,i,k){var j=[this.addKeyListener(b,c,d,e,h,i,k),this.addMouseListener(a,
d,e,h,i,k)];return{remove:function(){f.forEach(j,function(a){a.remove()})}}}};return b})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(f,j,i){j.mixin(i,{hasWaiRole:function(f,e){var d=this.getWaiRole(f);return e?-1<d.indexOf(e):0<d.length},getWaiRole:function(i){return j.trim((f.get(i,"role")||"").replace("wairole:",""))},setWaiRole:function(i,e){f.set(i,"role",e)},removeWaiRole:function(i,e){var d=f.get(i,"role");d&&(e?(d=j.trim((" "+d+" ").replace(" "+
e+" "," ")),f.set(i,"role",d)):i.removeAttribute("role"))},hasWaiState:function(f,e){return f.hasAttribute?f.hasAttribute("aria-"+e):!!f.getAttribute("aria-"+e)},getWaiState:function(f,e){return f.getAttribute("aria-"+e)||""},setWaiState:function(f,e,d){f.setAttribute("aria-"+e,d)},removeWaiState:function(f,e){f.removeAttribute("aria-"+e)}});return i})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(f,j){j.getDocumentWindow=function(i){return f.get(i)}})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),
function(f,j,i,k,e,d,h,c,b){return d("dijit.layout._LayoutWidget",[j,i,k],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(e.on("resize",f.hitch(this,"resize")))}},resize:function(a,d){var e=this.domNode;a&&c.setMarginBox(e,a);var h=d||{};f.mixin(h,a||
{});if(!("h"in h)||!("w"in h))h=f.mixin(c.getMarginBox(e),h);var i=b.getComputedStyle(e),j=c.getMarginExtents(e,i),k=c.getBorderExtents(e,i),h=this._borderBox={w:h.w-(j.w+k.w),h:h.h-(j.h+k.h)},j=c.getPadExtents(e,i);this._contentBox={l:b.toPixelValue(e,i.paddingLeft),t:b.toPixelValue(e,i.paddingTop),w:h.w-j.w,h:h.h-j.h};this.layout()},layout:function(){},_setupChild:function(a){h.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);
this._started&&this._setupChild(a)},removeChild:function(a){h.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"phpr/run":function(){require({cache:{}},["phpr"])},"*now":function(f){f(['dojo/i18n!*preload*phpr/nls/main*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
(function(){var f=this.require;f({cache:{}});!f.async&&f(["dojo"]);f.boot&&f.apply(null,f.boot)})();