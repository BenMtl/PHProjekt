//>>built
require({cache:{"url:phpr/template/Calendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year">\n    <thead>\n        <tr class="dijitReset dijitCalendarYearContainer">\n            <th class=\'dijitReset\' valign="top" colspan="7" role="presentation">\n                <div class="dijitCalendarYearLabel">\n                    <span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\n                    <span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\n                    <span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\n                </div>\n            </th>\n        </tr>\n        <tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n            <th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth">\n                <img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n                <span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n            </th>\n            <th class=\'dijitReset\' colspan="5">\n                <div data-dojo-attach-point="monthNode">\n                </div>\n            </th>\n            <th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="incrementMonth">\n                <img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n                <span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n            </th>\n        </tr>\n        <tr role="row">\n            ${!dayCellsHtml}\n        </tr>\n    </thead>\n    <tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\n            ${!dateRowsHtml}\n    </tbody>\n</table>\n'}});
define("phpr/Calendar","dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/date,dojo/date/locale,dojo/when,dojo/date/stamp,dijit/Calendar,phpr/Api,phpr/Timehelper,dojo/text!phpr/template/Calendar.html".split(","),function(l,h,f,i,m,n,d,o,j,p,q){function r(a,c){var b=d.toISOString(a,{selector:"date"});e.hasOwnProperty(b)?n(e[b],c):e[b]=j.getData("index.php/Calendar2/index/jsonHolidays",{query:{start:d.toISOString(a,{selector:"date"}),end:d.toISOString(i.add(a,"month",1),{selector:"date"})}}).then(function(a){a=
h.filter(a,function(a){return"holiday"==a.type});e[b]=a;c(a)},function(a){k||(k=!0,j.defaultErrorHandler(a))})}var e={},k=!1;return l([o],{templateString:q,_populateGrid:function(){this.inherited(arguments);var a,c=this._currentMonth(),b;for(b in this._date2cell)if(this._date2cell.hasOwnProperty(b)){a=this._date2cell[b];var g=new this.dateClassObj(a.dijitDateValue);m.isWeekend(g)&&g.getMonth()===c.getMonth()&&f.add(a,"weekend");0===i.compare(new Date,g,"date")&&f.add(a,"today")}this._highlightSpecialDays()},
_highlightSpecialDays:function(){r(this._currentMonth(),dojo.hitch(this,function(a){var c={};h.forEach(a,function(a){var b=p.datetimeToJsDate(a.date);c[d.toISOString(b,{selector:"date"})]=a});for(var b in this._date2cell)this._date2cell.hasOwnProperty(b)&&(a=new Date(parseInt(b,10)),c.hasOwnProperty(d.toISOString(a,{selector:"date"}))&&f.add(this._date2cell[b],"specialDay"))}))},_currentMonth:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);return a}})});